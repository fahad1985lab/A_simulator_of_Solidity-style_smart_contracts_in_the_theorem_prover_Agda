<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Complex-Model.ledgerversion.Ledger-Complex-Model</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="constantparameters.html" class="Module">constantparameters</a>

<a id="33" class="Keyword">module</a> <a id="40" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html" class="Module">Complex-Model.ledgerversion.Ledger-Complex-Model</a> <a id="89" class="Symbol">(</a><a id="90" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="96" class="Symbol">:</a> <a id="98" href="constantparameters.html#235" class="Record">ConstantParameters</a><a id="116" class="Symbol">)</a> <a id="118" class="Keyword">where</a>

<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="175" class="Keyword">using</a> <a id="181" class="Symbol">(</a><a id="182" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">_-_</a><a id="185" class="Symbol">;</a> <a id="187" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">_*_</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Data.List.html" class="Module">Data.List</a>
<a id="236" class="Keyword">open</a> <a id="241" class="Keyword">import</a> <a id="248" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Data.Maybe.html" class="Module">Data.Maybe</a>  <a id="335" class="Keyword">hiding</a> <a id="342" class="Symbol">(</a><a id="343" href="Data.Maybe.Base.html#2227" class="Function Operator">_&gt;&gt;=_</a><a id="348" class="Symbol">)</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Data.String.html" class="Module">Data.String</a> <a id="374" class="Keyword">hiding</a> <a id="381" class="Symbol">(</a><a id="382" href="Data.String.Base.html#2430" class="Function">length</a><a id="388" class="Symbol">;</a> <a id="390" href="Data.String.Base.html#1561" class="Primitive">show</a><a id="394" class="Symbol">)</a> <a id="396" class="Keyword">renaming</a> <a id="405" class="Symbol">(</a><a id="406" href="Data.String.Base.html#2366" class="Function Operator">_++_</a> <a id="411" class="Symbol">to</a> <a id="414" class="Function Operator">_++str_</a><a id="421" class="Symbol">)</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Data.Product.html" class="Module">Data.Product</a> <a id="448" class="Keyword">renaming</a> <a id="457" class="Symbol">(</a><a id="458" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="462" class="Symbol">to</a> <a id="465" class="InductiveConstructor Operator">_,,_</a> <a id="470" class="Symbol">)</a>
<a id="472" class="Keyword">open</a> <a id="477" class="Keyword">import</a> <a id="484" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>
<a id="498" class="Keyword">open</a> <a id="503" class="Keyword">import</a> <a id="510" href="Data.Empty.html" class="Module">Data.Empty</a>


<a id="523" class="Comment">-- our work</a>
<a id="535" class="Keyword">open</a> <a id="540" class="Keyword">import</a> <a id="547" href="Complex-Model.ccomand.ccommands-cresponse.html" class="Module">Complex-Model.ccomand.ccommands-cresponse</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="basicDataStructure.html" class="Module">basicDataStructure</a>
<a id="620" class="Keyword">open</a> <a id="625" class="Keyword">import</a> <a id="632" href="libraries.natCompare.html" class="Module">libraries.natCompare</a>
<a id="653" class="Keyword">open</a> <a id="658" class="Keyword">import</a> <a id="665" href="Complex-Model.ccomand.do-notation.html" class="Module">Complex-Model.ccomand.do-notation</a> <a id="699" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a>
<a id="705" class="Keyword">open</a> <a id="710" class="Keyword">import</a> <a id="717" href="libraries.Mainlibrary.html" class="Module">libraries.Mainlibrary</a>




<a id="743" class="Comment">-- update pure function in the ledger</a>
<a id="updateLedgerpurefun"></a><a id="781" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#781" class="Function">updateLedgerpurefun</a> <a id="801" class="Symbol">:</a> <a id="803" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a> <a id="810" class="Symbol">→</a> <a id="812" href="basicDataStructure.html#405" class="Function">Address</a> <a id="820" class="Symbol">→</a> <a id="822" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                   <a id="854" class="Symbol">→</a> <a id="856" class="Symbol">((</a><a id="858" href="basicDataStructure.html#523" class="Datatype">Msg</a> <a id="862" class="Symbol">→</a> <a id="864" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a><a id="874" class="Symbol">)</a> <a id="876" class="Symbol">→</a> <a id="878" class="Symbol">(</a><a id="879" href="basicDataStructure.html#523" class="Datatype">Msg</a> <a id="883" class="Symbol">→</a> <a id="885" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a><a id="895" class="Symbol">))</a>
                   <a id="917" class="Symbol">→</a> <a id="919" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a>
<a id="926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#781" class="Function">updateLedgerpurefun</a> <a id="946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#946" class="Bound">ledger</a> <a id="953" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#953" class="Bound">changedAddr</a> <a id="965" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#965" class="Bound">changedFname</a> <a id="978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#978" class="Bound">f</a> <a id="980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#980" class="Bound">a</a> <a id="982" class="Symbol">.</a><a id="983" href="libraries.Mainlibrary.html#839" class="Field">amount</a> <a id="990" class="Symbol">=</a> <a id="992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#946" class="Bound">ledger</a> <a id="999" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#980" class="Bound">a</a> <a id="1001" class="Symbol">.</a><a id="1002" href="libraries.Mainlibrary.html#839" class="Field">amount</a>
<a id="1009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#781" class="Function">updateLedgerpurefun</a> <a id="1029" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1029" class="Bound">ledger</a> <a id="1036" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1036" class="Bound">changedAddr</a> <a id="1048" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1048" class="Bound">changedFname</a> <a id="1061" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1061" class="Bound">f</a> <a id="1063" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1063" class="Bound">a</a> <a id="1065" class="Symbol">.</a><a id="1066" href="libraries.Mainlibrary.html#865" class="Field">fun</a>  <a id="1071" class="Symbol">=</a> <a id="1073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1029" class="Bound">ledger</a> <a id="1080" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1063" class="Bound">a</a> <a id="1082" class="Symbol">.</a><a id="1083" href="libraries.Mainlibrary.html#865" class="Field">fun</a>
<a id="1087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#781" class="Function">updateLedgerpurefun</a> <a id="1107" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1107" class="Bound">ledger</a> <a id="1114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1114" class="Bound">changedAddr</a> <a id="1126" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1126" class="Bound">changedFname</a> <a id="1139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1139" class="Bound">f</a> <a id="1141" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1141" class="Bound">a</a> <a id="1143" class="Symbol">.</a><a id="1144" href="libraries.Mainlibrary.html#931" class="Field">purefunction</a> <a id="1157" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1157" class="Bound">fname</a> <a id="1163" class="Symbol">=</a>
                               <a id="1196" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1199" class="Symbol">(</a><a id="1200" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1126" class="Bound">changedFname</a> <a id="1213" href="basicDataStructure.html#275" class="Function Operator">≡fun</a> <a id="1218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1157" class="Bound">fname</a><a id="1223" class="Symbol">)</a> <a id="1225" href="Data.Bool.Base.html#1283" class="Function Operator">then</a>  <a id="1231" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1139" class="Bound">f</a> <a id="1233" class="Symbol">(</a><a id="1234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1107" class="Bound">ledger</a> <a id="1241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1141" class="Bound">a</a> <a id="1243" class="Symbol">.</a><a id="1244" href="libraries.Mainlibrary.html#931" class="Field">purefunction</a> <a id="1257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1157" class="Bound">fname</a><a id="1262" class="Symbol">)</a>
                               <a id="1295" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>  <a id="1301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1107" class="Bound">ledger</a> <a id="1308" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1141" class="Bound">a</a> <a id="1310" class="Symbol">.</a><a id="1311" href="libraries.Mainlibrary.html#931" class="Field">purefunction</a> <a id="1324" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1157" class="Bound">fname</a>


<a id="1332" class="Comment">--update ledger amount</a>
<a id="updateLedgerAmount"></a><a id="1355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1355" class="Function">updateLedgerAmount</a> <a id="1374" class="Symbol">:</a> <a id="1376" class="Symbol">(</a><a id="1377" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1377" class="Bound">ledger</a> <a id="1384" class="Symbol">:</a> <a id="1386" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="1392" class="Symbol">)</a>
                   <a id="1413" class="Symbol">→</a> <a id="1415" class="Symbol">(</a><a id="1416" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1416" class="Bound">calledAddr</a> <a id="1427" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1427" class="Bound">destinationAddr</a> <a id="1443" class="Symbol">:</a> <a id="1445" href="basicDataStructure.html#405" class="Function">Address</a><a id="1452" class="Symbol">)</a> <a id="1454" class="Symbol">(</a><a id="1455" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1455" class="Bound">amount&#39;</a> <a id="1463" class="Symbol">:</a> <a id="1465" href="basicDataStructure.html#378" class="Function">Amount</a><a id="1471" class="Symbol">)</a>
                   <a id="1492" class="Symbol">→</a> <a id="1494" class="Symbol">(</a><a id="1495" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1495" class="Bound">correctAmount</a> <a id="1509" class="Symbol">:</a> <a id="1511" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1455" class="Bound">amount&#39;</a> <a id="1519" href="libraries.natCompare.html#508" class="Function Operator">≦r</a>  <a id="1523" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1377" class="Bound">ledger</a> <a id="1530" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1416" class="Bound">calledAddr</a> <a id="1541" class="Symbol">.</a><a id="1542" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="1548" class="Symbol">)</a>
                   <a id="1569" class="Symbol">→</a> <a id="1571" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a>
<a id="1578" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1355" class="Function">updateLedgerAmount</a> <a id="1597" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1597" class="Bound">ledger</a> <a id="1604" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1604" class="Bound">calledAddr</a> <a id="1615" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1615" class="Bound">destinationAddr</a> <a id="1631" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1631" class="Bound">amount&#39;</a> <a id="1639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1639" class="Bound">correctAmount</a> <a id="1653" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1653" class="Bound">addr</a> <a id="1658" class="Symbol">.</a><a id="1659" href="libraries.Mainlibrary.html#839" class="Field">amount</a>
     <a id="1671" class="Symbol">=</a> <a id="1673" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1653" class="Bound">addr</a> <a id="1681" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="1684" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1604" class="Bound">calledAddr</a>
     <a id="1700" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1705" href="libraries.natCompare.html#1529" class="Function">subtract</a> <a id="1714" class="Symbol">(</a><a id="1715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1597" class="Bound">ledger</a> <a id="1722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1604" class="Bound">calledAddr</a> <a id="1733" class="Symbol">.</a><a id="1734" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="1740" class="Symbol">)</a> <a id="1742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1631" class="Bound">amount&#39;</a> <a id="1750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1639" class="Bound">correctAmount</a>
     <a id="1769" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1774" class="Symbol">(</a><a id="1775" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1778" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1653" class="Bound">addr</a> <a id="1783" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="1786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1615" class="Bound">destinationAddr</a>
     <a id="1807" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1597" class="Bound">ledger</a> <a id="1819" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1615" class="Bound">destinationAddr</a> <a id="1835" class="Symbol">.</a><a id="1836" href="libraries.Mainlibrary.html#839" class="Field">amount</a> <a id="1843" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1631" class="Bound">amount&#39;</a>
       <a id="1860" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1597" class="Bound">ledger</a> <a id="1872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1653" class="Bound">addr</a> <a id="1877" class="Symbol">.</a><a id="1878" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="1884" class="Symbol">)</a>
<a id="1886" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1355" class="Function">updateLedgerAmount</a> <a id="1905" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1905" class="Bound">ledger</a> <a id="1912" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1912" class="Bound">calledAddr</a> <a id="1923" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1923" class="Bound">newAddr</a> <a id="1931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1931" class="Bound">amount&#39;</a> <a id="1939" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1939" class="Bound">correctAmount</a> <a id="1953" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1953" class="Bound">addr</a> <a id="1958" class="Symbol">.</a><a id="1959" href="libraries.Mainlibrary.html#865" class="Field">fun</a>          <a id="1972" class="Symbol">=</a>  <a id="1975" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1905" class="Bound">ledger</a> <a id="1982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1953" class="Bound">addr</a> <a id="1987" class="Symbol">.</a><a id="1988" href="libraries.Mainlibrary.html#865" class="Field">fun</a>

<a id="1993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1355" class="Function">updateLedgerAmount</a> <a id="2012" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2012" class="Bound">ledger</a> <a id="2019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2019" class="Bound">calledAddr</a> <a id="2030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2030" class="Bound">newAddr</a> <a id="2038" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2038" class="Bound">amount&#39;</a> <a id="2046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2046" class="Bound">correctAmount</a> <a id="2060" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2060" class="Bound">addr</a> <a id="2065" class="Symbol">.</a><a id="2066" href="libraries.Mainlibrary.html#931" class="Field">purefunction</a> <a id="2079" class="Symbol">=</a> <a id="2081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2012" class="Bound">ledger</a> <a id="2088" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2060" class="Bound">addr</a> <a id="2093" class="Symbol">.</a><a id="2094" href="libraries.Mainlibrary.html#931" class="Field">purefunction</a>



<a id="2110" class="Comment">--This function we use it to update the gas by decucting from the ledger</a>
<a id="2183" class="Comment">--rename gasPrice to gascost</a>
<a id="deductGasFromLedger"></a><a id="2212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2212" class="Function">deductGasFromLedger</a> <a id="2232" class="Symbol">:</a> <a id="2234" class="Symbol">(</a><a id="2235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2235" class="Bound">ledger</a> <a id="2242" class="Symbol">:</a> <a id="2244" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="2250" class="Symbol">)</a>
                    <a id="2272" class="Symbol">→</a> <a id="2274" class="Symbol">(</a><a id="2275" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2275" class="Bound">calledAddr</a> <a id="2286" class="Symbol">:</a> <a id="2288" href="basicDataStructure.html#405" class="Function">Address</a><a id="2295" class="Symbol">)</a> <a id="2297" class="Symbol">(</a><a id="2298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2298" class="Bound">gascost</a> <a id="2306" class="Symbol">:</a> <a id="2308" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="2309" class="Symbol">)</a>
                    <a id="2331" class="Symbol">→</a> <a id="2333" class="Symbol">(</a><a id="2334" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2334" class="Bound">correctAmount</a> <a id="2348" class="Symbol">:</a> <a id="2350" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2298" class="Bound">gascost</a> <a id="2358" href="libraries.natCompare.html#508" class="Function Operator">≦r</a> <a id="2361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2235" class="Bound">ledger</a> <a id="2368" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2275" class="Bound">calledAddr</a> <a id="2379" class="Symbol">.</a><a id="2380" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="2386" class="Symbol">)</a>
                    <a id="2408" class="Symbol">→</a> <a id="2410" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a>
<a id="2417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2212" class="Function">deductGasFromLedger</a> <a id="2437" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2437" class="Bound">ledger</a> <a id="2444" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2444" class="Bound">calledAddr</a> <a id="2455" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2455" class="Bound">gascost</a> <a id="2463" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2463" class="Bound">correctAmount</a> <a id="2477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2477" class="Bound">addr</a> <a id="2482" class="Symbol">.</a><a id="2483" href="libraries.Mainlibrary.html#839" class="Field">amount</a>
     <a id="2495" class="Symbol">=</a> <a id="2497" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="2500" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2477" class="Bound">addr</a> <a id="2505" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="2508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2444" class="Bound">calledAddr</a>
     <a id="2524" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="2529" href="libraries.natCompare.html#1529" class="Function">subtract</a> <a id="2538" class="Symbol">(</a><a id="2539" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2437" class="Bound">ledger</a> <a id="2546" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2444" class="Bound">calledAddr</a> <a id="2557" class="Symbol">.</a><a id="2558" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="2564" class="Symbol">)</a> <a id="2566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2455" class="Bound">gascost</a> <a id="2574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2463" class="Bound">correctAmount</a>
     <a id="2593" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>  <a id="2599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2437" class="Bound">ledger</a> <a id="2606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2477" class="Bound">addr</a> <a id="2611" class="Symbol">.</a><a id="2612" href="libraries.Mainlibrary.html#839" class="Field">amount</a>
<a id="2619" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2212" class="Function">deductGasFromLedger</a> <a id="2639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2639" class="Bound">ledger</a> <a id="2646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2646" class="Bound">calledAddr</a> <a id="2657" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2657" class="Bound">gascost</a> <a id="2665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2665" class="Bound">correctAmount</a> <a id="2679" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2679" class="Bound">addr</a> <a id="2684" class="Symbol">.</a><a id="2685" href="libraries.Mainlibrary.html#865" class="Field">fun</a>
    <a id="2693" class="Symbol">=</a> <a id="2695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2639" class="Bound">ledger</a> <a id="2702" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2679" class="Bound">addr</a> <a id="2707" class="Symbol">.</a><a id="2708" href="libraries.Mainlibrary.html#865" class="Field">fun</a>
<a id="2712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2212" class="Function">deductGasFromLedger</a> <a id="2732" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2732" class="Bound">ledger</a> <a id="2739" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2739" class="Bound">calledAddr</a> <a id="2750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2750" class="Bound">gascost</a> <a id="2758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2758" class="Bound">correctAmount</a> <a id="2772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2772" class="Bound">addr</a> <a id="2777" class="Symbol">.</a><a id="2778" href="libraries.Mainlibrary.html#931" class="Field">purefunction</a>
    <a id="2795" class="Symbol">=</a> <a id="2797" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2732" class="Bound">ledger</a> <a id="2804" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2772" class="Bound">addr</a> <a id="2809" class="Symbol">.</a><a id="2810" href="libraries.Mainlibrary.html#931" class="Field">purefunction</a>


<a id="2825" class="Comment">-- this function below we use it to refuend in two cases with steEF</a>
<a id="2893" class="Comment">-- 1) when finish (first case)</a>
<a id="2924" class="Comment">-- 2) when we have error (the last case)</a>
<a id="addWeiToLedger"></a><a id="2965" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2965" class="Function">addWeiToLedger</a> <a id="2980" class="Symbol">:</a> <a id="2982" class="Symbol">(</a><a id="2983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2983" class="Bound">ledger</a> <a id="2990" class="Symbol">:</a> <a id="2992" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="2998" class="Symbol">)</a>
               <a id="3015" class="Symbol">→</a> <a id="3017" class="Symbol">(</a><a id="3018" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3018" class="Bound">address</a> <a id="3026" class="Symbol">:</a> <a id="3028" href="basicDataStructure.html#405" class="Function">Address</a><a id="3035" class="Symbol">)</a> <a id="3037" class="Symbol">(</a><a id="3038" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3038" class="Bound">amount&#39;</a> <a id="3046" class="Symbol">:</a> <a id="3048" href="basicDataStructure.html#378" class="Function">Amount</a><a id="3054" class="Symbol">)</a>
               <a id="3071" class="Symbol">→</a> <a id="3073" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a>
<a id="3080" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2965" class="Function">addWeiToLedger</a> <a id="3095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3095" class="Bound">ledger</a> <a id="3102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3102" class="Bound">address</a> <a id="3110" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3110" class="Bound">amount&#39;</a> <a id="3118" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3118" class="Bound">addr</a> <a id="3123" class="Symbol">.</a><a id="3124" href="libraries.Mainlibrary.html#839" class="Field">amount</a>
       <a id="3138" class="Symbol">=</a>   <a id="3142" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="3145" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3118" class="Bound">addr</a> <a id="3150" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="3153" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3102" class="Bound">address</a>
           <a id="3172" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="3177" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3095" class="Bound">ledger</a> <a id="3184" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3102" class="Bound">address</a> <a id="3192" class="Symbol">.</a><a id="3193" href="libraries.Mainlibrary.html#839" class="Field">amount</a> <a id="3200" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3110" class="Bound">amount&#39;</a>
           <a id="3221" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="3226" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3095" class="Bound">ledger</a> <a id="3233" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3118" class="Bound">addr</a> <a id="3238" class="Symbol">.</a><a id="3239" href="libraries.Mainlibrary.html#839" class="Field">amount</a>
<a id="3246" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2965" class="Function">addWeiToLedger</a> <a id="3261" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3261" class="Bound">ledger</a> <a id="3268" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3268" class="Bound">address</a> <a id="3276" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3276" class="Bound">amount&#39;</a> <a id="3284" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3284" class="Bound">addr</a> <a id="3289" class="Symbol">.</a><a id="3290" href="libraries.Mainlibrary.html#865" class="Field">fun</a>
       <a id="3301" class="Symbol">=</a>   <a id="3305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3261" class="Bound">ledger</a> <a id="3312" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3284" class="Bound">addr</a> <a id="3317" class="Symbol">.</a><a id="3318" href="libraries.Mainlibrary.html#865" class="Field">fun</a>
<a id="3322" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2965" class="Function">addWeiToLedger</a> <a id="3337" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3337" class="Bound">ledger</a> <a id="3344" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3344" class="Bound">address</a> <a id="3352" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3352" class="Bound">amount&#39;</a> <a id="3360" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3360" class="Bound">addr</a> <a id="3365" class="Symbol">.</a><a id="3366" href="libraries.Mainlibrary.html#931" class="Field">purefunction</a>
       <a id="3386" class="Symbol">=</a> <a id="3388" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3337" class="Bound">ledger</a> <a id="3395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3360" class="Bound">addr</a> <a id="3400" class="Symbol">.</a><a id="3401" href="libraries.Mainlibrary.html#931" class="Field">purefunction</a>


<a id="3416" class="Comment">-- execute transfer auxiliary</a>
<a id="executeTransferAux"></a><a id="3446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3446" class="Function">executeTransferAux</a> <a id="3465" class="Symbol">:</a> <a id="3467" class="Symbol">(</a><a id="3468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3468" class="Bound">oldLedger</a> <a id="3478" class="Symbol">:</a> <a id="3480" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="3486" class="Symbol">)</a>
                   <a id="3507" class="Symbol">→</a> <a id="3509" class="Symbol">(</a><a id="3510" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3510" class="Bound">currentledger</a> <a id="3524" class="Symbol">:</a> <a id="3526" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="3532" class="Symbol">)</a>
                   <a id="3553" class="Symbol">→</a> <a id="3555" class="Symbol">(</a><a id="3556" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3556" class="Bound">executionStack</a> <a id="3571" class="Symbol">:</a> <a id="3573" href="libraries.Mainlibrary.html#2012" class="Function">ExecutionStack</a><a id="3587" class="Symbol">)</a>
                   <a id="3608" class="Symbol">→</a> <a id="3610" class="Symbol">(</a><a id="3611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3611" class="Bound">initialAddr</a> <a id="3623" class="Symbol">:</a> <a id="3625" href="basicDataStructure.html#405" class="Function">Address</a><a id="3632" class="Symbol">)</a>
                   <a id="3653" class="Symbol">→</a> <a id="3655" class="Symbol">(</a><a id="3656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3656" class="Bound">lastCallAddr</a> <a id="3669" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3669" class="Bound">calledAddr</a> <a id="3680" class="Symbol">:</a> <a id="3682" href="basicDataStructure.html#405" class="Function">Address</a><a id="3689" class="Symbol">)</a>
                   <a id="3710" class="Symbol">→</a> <a id="3712" class="Symbol">(</a><a id="3713" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3713" class="Bound">cont</a> <a id="3718" class="Symbol">:</a> <a id="3720" href="Complex-Model.ccomand.ccommands-cresponse.html#1513" class="Datatype">SmartContractExec</a> <a id="3738" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="3741" class="Symbol">)</a> <a id="3743" class="Symbol">→</a> <a id="3745" class="Symbol">(</a><a id="3746" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3746" class="Bound">gasleft</a> <a id="3754" class="Symbol">:</a> <a id="3756" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3757" class="Symbol">)</a>
                   <a id="3778" class="Symbol">→</a> <a id="3780" class="Symbol">(</a><a id="3781" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3781" class="Bound">funNameevalState</a> <a id="3798" class="Symbol">:</a> <a id="3800" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="3812" class="Symbol">)</a>
                   <a id="3833" class="Symbol">→</a> <a id="3835" class="Symbol">(</a><a id="3836" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3836" class="Bound">msgevalState</a> <a id="3849" class="Symbol">:</a> <a id="3851" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="3854" class="Symbol">)</a>
                   <a id="3875" class="Symbol">→</a> <a id="3877" class="Symbol">(</a><a id="3878" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3878" class="Bound">amount&#39;</a> <a id="3886" class="Symbol">:</a> <a id="3888" href="basicDataStructure.html#378" class="Function">Amount</a><a id="3894" class="Symbol">)</a>
                   <a id="3915" class="Symbol">→</a> <a id="3917" class="Symbol">(</a><a id="3918" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3918" class="Bound">destinationAddr</a> <a id="3934" class="Symbol">:</a> <a id="3936" href="basicDataStructure.html#405" class="Function">Address</a><a id="3943" class="Symbol">)</a>
                   <a id="3964" class="Symbol">→</a> <a id="3966" class="Symbol">(</a><a id="3967" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3967" class="Bound">cp</a>  <a id="3971" class="Symbol">:</a> <a id="3973" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="3985" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3878" class="Bound">amount&#39;</a> <a id="3993" class="Symbol">(</a><a id="3994" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3510" class="Bound">currentledger</a> <a id="4008" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3669" class="Bound">calledAddr</a> <a id="4019" class="Symbol">.</a><a id="4020" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="4026" class="Symbol">))</a>
                   <a id="4048" class="Symbol">→</a> <a id="4050" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a>
<a id="4063" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3446" class="Function">executeTransferAux</a> <a id="4082" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4082" class="Bound">oldLedger</a> <a id="4092" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4092" class="Bound">currentledger</a> <a id="4106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4106" class="Bound">executionStack</a> <a id="4121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4121" class="Bound">initialAddr</a> <a id="4133" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4133" class="Bound">lastCallAddr</a> <a id="4146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4146" class="Bound">calledAddr</a> <a id="4157" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4157" class="Bound">cont</a> <a id="4162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4162" class="Bound">gasleft</a>
                   <a id="4189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4189" class="Bound">funNameevalState</a> <a id="4206" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4206" class="Bound">msgevalState</a> <a id="4219" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4219" class="Bound">amount&#39;</a> <a id="4227" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4227" class="Bound">destinationAddr</a> <a id="4243" class="Symbol">(</a><a id="4244" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="4248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4248" class="Bound">x</a><a id="4249" class="Symbol">)</a>
         <a id="4260" class="Symbol">=</a> <a id="4262" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="4270" class="Symbol">(</a><a id="4271" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1355" class="Function">updateLedgerAmount</a> <a id="4290" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4092" class="Bound">currentledger</a> <a id="4304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4146" class="Bound">calledAddr</a> <a id="4315" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4227" class="Bound">destinationAddr</a> <a id="4331" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4219" class="Bound">amount&#39;</a> <a id="4339" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4248" class="Bound">x</a><a id="4340" class="Symbol">)</a>
          <a id="4352" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4106" class="Bound">executionStack</a> <a id="4367" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4121" class="Bound">initialAddr</a> <a id="4379" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4133" class="Bound">lastCallAddr</a> <a id="4392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4146" class="Bound">calledAddr</a> <a id="4403" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4157" class="Bound">cont</a> <a id="4408" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4162" class="Bound">gasleft</a> <a id="4416" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4189" class="Bound">funNameevalState</a> <a id="4433" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4206" class="Bound">msgevalState</a>
<a id="4446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3446" class="Function">executeTransferAux</a> <a id="4465" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4465" class="Bound">oldLedger</a> <a id="4475" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4475" class="Bound">currentledger</a> <a id="4489" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4489" class="Bound">executionStack</a> <a id="4504" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4504" class="Bound">initialAddr</a> <a id="4516" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4516" class="Bound">lastCallAddr</a> <a id="4529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4529" class="Bound">calledAddr</a> <a id="4540" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4540" class="Bound">cont</a> <a id="4545" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4545" class="Bound">gasleft</a>
                   <a id="4572" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4572" class="Bound">funNameevalState</a> <a id="4589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4589" class="Bound">msgevalState</a> <a id="4602" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4602" class="Bound">amount&#39;</a> <a id="4610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4610" class="Bound">destinationAddr</a> <a id="4626" class="Symbol">(</a><a id="4627" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="4635" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4635" class="Bound">x</a><a id="4636" class="Symbol">)</a>
          <a id="4648" class="Symbol">=</a> <a id="4650" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="4658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4465" class="Bound">oldLedger</a> <a id="4668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4489" class="Bound">executionStack</a> <a id="4683" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4504" class="Bound">initialAddr</a> <a id="4695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4516" class="Bound">lastCallAddr</a> <a id="4708" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4529" class="Bound">calledAddr</a>
            <a id="4731" class="Symbol">(</a><a id="4732" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="InductiveConstructor">error</a>  <a id="4739" class="Symbol">(</a><a id="4740" href="basicDataStructure.html#694" class="InductiveConstructor">strErr</a> <a id="4747" class="String">&quot;not enough money&quot;</a><a id="4765" class="Symbol">)</a>
            <a id="4779" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="4781" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4516" class="Bound">lastCallAddr</a> <a id="4794" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="4797" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4504" class="Bound">initialAddr</a> <a id="4809" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="4811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4572" class="Bound">funNameevalState</a> <a id="4828" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="4830" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4589" class="Bound">msgevalState</a> <a id="4843" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="4845" class="Symbol">)</a>
             <a id="4860" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4545" class="Bound">gasleft</a> <a id="4868" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4572" class="Bound">funNameevalState</a> <a id="4885" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4589" class="Bound">msgevalState</a>


<a id="4900" class="Comment">-- proof transfer Aux </a>
<a id="lemmaExecuteTransferAuxGasEq"></a><a id="4923" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4923" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="4952" class="Symbol">:</a> <a id="4954" class="Symbol">(</a><a id="4955" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4955" class="Bound">oldLedger</a> <a id="4965" class="Symbol">:</a> <a id="4967" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="4973" class="Symbol">)</a>
                              <a id="5005" class="Symbol">→</a> <a id="5007" class="Symbol">(</a><a id="5008" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5008" class="Bound">currentledger</a> <a id="5022" class="Symbol">:</a> <a id="5024" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="5030" class="Symbol">)</a>
                              <a id="5062" class="Symbol">→</a> <a id="5064" class="Symbol">(</a><a id="5065" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5065" class="Bound">executionStack</a> <a id="5080" class="Symbol">:</a> <a id="5082" href="libraries.Mainlibrary.html#2012" class="Function">ExecutionStack</a><a id="5096" class="Symbol">)</a>
                              <a id="5128" class="Symbol">→</a> <a id="5130" class="Symbol">(</a><a id="5131" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5131" class="Bound">initialAddr</a> <a id="5143" class="Symbol">:</a> <a id="5145" href="basicDataStructure.html#405" class="Function">Address</a><a id="5152" class="Symbol">)</a>
                              <a id="5184" class="Symbol">→</a> <a id="5186" class="Symbol">(</a><a id="5187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5187" class="Bound">lastCallAddr</a> <a id="5200" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5200" class="Bound">calledAddr</a> <a id="5211" class="Symbol">:</a> <a id="5213" href="basicDataStructure.html#405" class="Function">Address</a><a id="5220" class="Symbol">)</a>
                              <a id="5252" class="Symbol">→</a> <a id="5254" class="Symbol">(</a><a id="5255" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5255" class="Bound">cont</a> <a id="5260" class="Symbol">:</a> <a id="5262" href="Complex-Model.ccomand.ccommands-cresponse.html#1513" class="Datatype">SmartContractExec</a> <a id="5280" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="5283" class="Symbol">)</a> <a id="5285" class="Symbol">→</a> <a id="5287" class="Symbol">(</a><a id="5288" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5288" class="Bound">gasleft1</a> <a id="5297" class="Symbol">:</a> <a id="5299" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5300" class="Symbol">)</a>
                              <a id="5332" class="Symbol">→</a> <a id="5334" class="Symbol">(</a><a id="5335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5335" class="Bound">funNameevalState</a> <a id="5352" class="Symbol">:</a> <a id="5354" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="5366" class="Symbol">)</a>
                              <a id="5398" class="Symbol">→</a> <a id="5400" class="Symbol">(</a><a id="5401" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5401" class="Bound">msgevalState</a> <a id="5414" class="Symbol">:</a> <a id="5416" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="5419" class="Symbol">)</a>
                              <a id="5451" class="Symbol">→</a> <a id="5453" class="Symbol">(</a><a id="5454" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5454" class="Bound">amount&#39;</a> <a id="5462" class="Symbol">:</a> <a id="5464" href="basicDataStructure.html#378" class="Function">Amount</a><a id="5470" class="Symbol">)</a>
                              <a id="5502" class="Symbol">→</a> <a id="5504" class="Symbol">(</a><a id="5505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5505" class="Bound">destinationAddr</a> <a id="5521" class="Symbol">:</a> <a id="5523" href="basicDataStructure.html#405" class="Function">Address</a><a id="5530" class="Symbol">)</a>
                              <a id="5562" class="Symbol">→</a> <a id="5564" class="Symbol">(</a><a id="5565" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5565" class="Bound">cp</a>  <a id="5569" class="Symbol">:</a> <a id="5571" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="5583" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5454" class="Bound">amount&#39;</a> <a id="5591" class="Symbol">(</a><a id="5592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5008" class="Bound">currentledger</a> <a id="5606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5200" class="Bound">calledAddr</a> <a id="5617" class="Symbol">.</a><a id="5618" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="5624" class="Symbol">))</a>
                              <a id="5657" class="Symbol">→</a> <a id="5659" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5288" class="Bound">gasleft1</a> <a id="5668" href="libraries.natCompare.html#552" class="Function Operator">==r</a> <a id="5672" href="libraries.Mainlibrary.html#2589" class="Field">gasLeft</a>
                                 <a id="5713" class="Symbol">(</a><a id="5714" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3446" class="Function">executeTransferAux</a> <a id="5733" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4955" class="Bound">oldLedger</a> <a id="5743" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5008" class="Bound">currentledger</a> <a id="5757" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5065" class="Bound">executionStack</a> <a id="5772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5131" class="Bound">initialAddr</a>
                                  <a id="5818" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5187" class="Bound">lastCallAddr</a> <a id="5831" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5200" class="Bound">calledAddr</a> <a id="5842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5255" class="Bound">cont</a> <a id="5847" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5288" class="Bound">gasleft1</a> <a id="5856" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5335" class="Bound">funNameevalState</a>
                                  <a id="5907" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5401" class="Bound">msgevalState</a> <a id="5920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5454" class="Bound">amount&#39;</a> <a id="5928" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5505" class="Bound">destinationAddr</a> <a id="5944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5565" class="Bound">cp</a><a id="5946" class="Symbol">)</a>
<a id="5948" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4923" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="5977" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5977" class="Bound">oldLedger</a> <a id="5987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5987" class="Bound">currentledger</a> <a id="6001" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6001" class="Bound">executionStack</a> <a id="6016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6016" class="Bound">initialAddr</a> <a id="6028" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6028" class="Bound">lastCallAddr</a> <a id="6041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6041" class="Bound">calledAddr</a>
                             <a id="6081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6081" class="Bound">cont</a> <a id="6086" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6086" class="Bound">gasleft1</a> <a id="6095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6095" class="Bound">funNameevalState</a> <a id="6112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6112" class="Bound">msgevalState</a> <a id="6125" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6125" class="Bound">amount&#39;</a> <a id="6133" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6133" class="Bound">destinationAddr</a> <a id="6149" class="Symbol">(</a><a id="6150" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="6154" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6154" class="Bound">x</a><a id="6155" class="Symbol">)</a>     <a id="6161" class="Symbol">=</a> <a id="6163" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="6171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6086" class="Bound">gasleft1</a>
<a id="6180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4923" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="6209" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6209" class="Bound">oldLedger</a> <a id="6219" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6219" class="Bound">currentledger</a> <a id="6233" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6233" class="Bound">executionStack</a> <a id="6248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6248" class="Bound">initialAddr</a> <a id="6260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6260" class="Bound">lastCallAddr</a> <a id="6273" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6273" class="Bound">calledAddr</a>
                             <a id="6313" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6313" class="Bound">cont</a> <a id="6318" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6318" class="Bound">gasleft1</a> <a id="6327" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6327" class="Bound">funNameevalState</a> <a id="6344" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6344" class="Bound">msgevalState</a> <a id="6357" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6357" class="Bound">amount&#39;</a> <a id="6365" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6365" class="Bound">destinationAddr</a> <a id="6381" class="Symbol">(</a><a id="6382" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="6390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6390" class="Bound">x</a><a id="6391" class="Symbol">)</a> <a id="6393" class="Symbol">=</a> <a id="6395" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="6403" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6318" class="Bound">gasleft1</a>


<a id="6414" class="Comment">-- execute transfer</a>
<a id="executeTransfer"></a><a id="6434" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6434" class="Function">executeTransfer</a> <a id="6450" class="Symbol">:</a> <a id="6452" class="Symbol">(</a><a id="6453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6453" class="Bound">oldLedger</a> <a id="6463" class="Symbol">:</a> <a id="6465" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="6471" class="Symbol">)</a>
                <a id="6489" class="Symbol">→</a> <a id="6491" class="Symbol">(</a><a id="6492" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6492" class="Bound">currentledger</a> <a id="6506" class="Symbol">:</a> <a id="6508" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="6514" class="Symbol">)</a>
                <a id="6532" class="Symbol">→</a> <a id="6534" class="Symbol">(</a><a id="6535" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6535" class="Bound">execStack</a> <a id="6545" class="Symbol">:</a> <a id="6547" href="libraries.Mainlibrary.html#2012" class="Function">ExecutionStack</a><a id="6561" class="Symbol">)</a>
                <a id="6579" class="Symbol">→</a> <a id="6581" class="Symbol">(</a><a id="6582" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6582" class="Bound">initialAddr</a> <a id="6594" class="Symbol">:</a> <a id="6596" href="basicDataStructure.html#405" class="Function">Address</a><a id="6603" class="Symbol">)</a>
                <a id="6621" class="Symbol">→</a> <a id="6623" class="Symbol">(</a><a id="6624" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6624" class="Bound">lastCallAddr</a> <a id="6637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6637" class="Bound">calledAddr</a> <a id="6648" class="Symbol">:</a> <a id="6650" href="basicDataStructure.html#405" class="Function">Address</a><a id="6657" class="Symbol">)</a>
                <a id="6675" class="Symbol">→</a> <a id="6677" class="Symbol">(</a><a id="6678" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6678" class="Bound">cont</a> <a id="6683" class="Symbol">:</a> <a id="6685" href="Complex-Model.ccomand.ccommands-cresponse.html#1513" class="Datatype">SmartContractExec</a> <a id="6703" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="6706" class="Symbol">)</a>
                <a id="6724" class="Symbol">→</a> <a id="6726" class="Symbol">(</a><a id="6727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6727" class="Bound">gasleft</a> <a id="6735" class="Symbol">:</a> <a id="6737" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="6738" class="Symbol">)</a>
                <a id="6756" class="Symbol">→</a> <a id="6758" class="Symbol">(</a><a id="6759" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6759" class="Bound">funNameevalState</a> <a id="6776" class="Symbol">:</a> <a id="6778" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="6790" class="Symbol">)</a>
                <a id="6808" class="Symbol">→</a> <a id="6810" class="Symbol">(</a><a id="6811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6811" class="Bound">msgevalState</a> <a id="6824" class="Symbol">:</a> <a id="6826" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="6829" class="Symbol">)</a>
                <a id="6847" class="Symbol">→</a> <a id="6849" class="Symbol">(</a><a id="6850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6850" class="Bound">amount&#39;</a> <a id="6858" class="Symbol">:</a> <a id="6860" href="basicDataStructure.html#378" class="Function">Amount</a><a id="6866" class="Symbol">)</a>
                <a id="6884" class="Symbol">→</a> <a id="6886" class="Symbol">(</a><a id="6887" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6887" class="Bound">destinationAddr</a> <a id="6903" class="Symbol">:</a> <a id="6905" href="basicDataStructure.html#405" class="Function">Address</a><a id="6912" class="Symbol">)</a>
                <a id="6930" class="Symbol">→</a> <a id="6932" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a>
<a id="6945" class="Comment">--@END</a>
<a id="6952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6434" class="Function">executeTransfer</a> <a id="6968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6968" class="Bound">oldLedger</a> <a id="6978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6978" class="Bound">currentledger</a> <a id="6992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6992" class="Bound">execStack</a> <a id="7002" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7002" class="Bound">initialAddr</a> <a id="7014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7014" class="Bound">lastCallAddr</a> <a id="7027" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7027" class="Bound">calledAddr</a>
                <a id="7054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7054" class="Bound">cont</a> <a id="7059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7059" class="Bound">gasleft</a>  <a id="7068" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7068" class="Bound">funNameevalState</a> <a id="7085" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7085" class="Bound">msgevalState</a> <a id="7098" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7098" class="Bound">amount&#39;</a> <a id="7106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7106" class="Bound">destinationAddr</a>
         <a id="7131" class="Symbol">=</a> <a id="7133" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3446" class="Function">executeTransferAux</a> <a id="7152" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6968" class="Bound">oldLedger</a> <a id="7162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6978" class="Bound">currentledger</a> <a id="7176" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6992" class="Bound">execStack</a> <a id="7186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7002" class="Bound">initialAddr</a> <a id="7198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7014" class="Bound">lastCallAddr</a> <a id="7211" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7027" class="Bound">calledAddr</a>
            <a id="7234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7054" class="Bound">cont</a> <a id="7239" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7059" class="Bound">gasleft</a>  <a id="7248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7068" class="Bound">funNameevalState</a> <a id="7265" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7085" class="Bound">msgevalState</a> <a id="7278" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7098" class="Bound">amount&#39;</a>
            <a id="7298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7106" class="Bound">destinationAddr</a> <a id="7314" class="Symbol">(</a><a id="7315" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="7326" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7098" class="Bound">amount&#39;</a> <a id="7334" class="Symbol">(</a><a id="7335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6978" class="Bound">currentledger</a> <a id="7349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7027" class="Bound">calledAddr</a> <a id="7360" class="Symbol">.</a><a id="7361" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="7367" class="Symbol">))</a>



<a id="7373" class="Comment">-- the stepEF without deducting the gasLeft</a>
<a id="stepEF"></a><a id="7417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="7424" class="Symbol">:</a> <a id="7426" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a> <a id="7433" class="Symbol">→</a> <a id="7435" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a> <a id="7448" class="Symbol">→</a> <a id="7450" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a>
<a id="7463" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="7470" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7470" class="Bound">oldLedger</a> <a id="7480" class="Symbol">(</a><a id="7481" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="7489" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7489" class="Bound">currentLedger</a> <a id="7503" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7503" class="Bound">executionStack</a> <a id="7518" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7518" class="Bound">initialAddr</a> <a id="7530" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7530" class="Bound">lastCallAddr</a> <a id="7543" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7543" class="Bound">calledAddr</a>
                 <a id="7571" class="Symbol">(</a><a id="7572" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="7577" href="Complex-Model.ccomand.ccommands-cresponse.html#827" class="InductiveConstructor">currentAddrLookupc</a> <a id="7596" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7596" class="Bound">costcomputecont</a> <a id="7612" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7612" class="Bound">cont</a><a id="7616" class="Symbol">)</a> <a id="7618" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7618" class="Bound">gasLeft</a> <a id="7626" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7626" class="Bound">funNameevalState</a> <a id="7643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7643" class="Bound">msgevalState</a><a id="7655" class="Symbol">)</a>
       <a id="7664" class="Symbol">=</a> <a id="7666" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="7674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7489" class="Bound">currentLedger</a> <a id="7688" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7503" class="Bound">executionStack</a> <a id="7703" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7518" class="Bound">initialAddr</a> <a id="7715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7530" class="Bound">lastCallAddr</a> <a id="7728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7543" class="Bound">calledAddr</a>
          <a id="7749" class="Symbol">(</a><a id="7750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7612" class="Bound">cont</a> <a id="7755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7543" class="Bound">calledAddr</a><a id="7765" class="Symbol">)</a> <a id="7767" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7618" class="Bound">gasLeft</a>  <a id="7776" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7626" class="Bound">funNameevalState</a> <a id="7793" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7643" class="Bound">msgevalState</a> 

<a id="7808" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="7815" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7815" class="Bound">oldLedger</a> <a id="7825" class="Symbol">(</a><a id="7826" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="7834" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7834" class="Bound">currentLedger</a> <a id="7848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7848" class="Bound">executionStack</a> <a id="7863" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7863" class="Bound">initialAddr</a> <a id="7875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7875" class="Bound">lastCallAddr</a> <a id="7888" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7888" class="Bound">calledAddr</a>
                 <a id="7916" class="Symbol">(</a><a id="7917" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="7922" href="Complex-Model.ccomand.ccommands-cresponse.html#862" class="InductiveConstructor">callAddrLookupc</a> <a id="7938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7938" class="Bound">costcomputecont</a> <a id="7954" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7954" class="Bound">cont</a><a id="7958" class="Symbol">)</a> <a id="7960" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7960" class="Bound">gasLeft</a> <a id="7968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7968" class="Bound">funNameevalState</a> <a id="7985" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7985" class="Bound">msgevalState</a><a id="7997" class="Symbol">)</a>
       <a id="8006" class="Symbol">=</a> <a id="8008" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="8016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7834" class="Bound">currentLedger</a> <a id="8030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7848" class="Bound">executionStack</a> <a id="8045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7863" class="Bound">initialAddr</a> <a id="8057" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7875" class="Bound">lastCallAddr</a> <a id="8070" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7888" class="Bound">calledAddr</a> <a id="8081" class="Symbol">(</a><a id="8082" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7954" class="Bound">cont</a> <a id="8087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7875" class="Bound">lastCallAddr</a><a id="8099" class="Symbol">)</a>
          <a id="8111" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7960" class="Bound">gasLeft</a>  <a id="8120" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7968" class="Bound">funNameevalState</a> <a id="8137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7985" class="Bound">msgevalState</a>

<a id="8151" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="8158" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8158" class="Bound">oldLedger</a> <a id="8168" class="Symbol">(</a><a id="8169" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="8177" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8177" class="Bound">currentLedger</a> <a id="8191" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8191" class="Bound">executionStack</a> <a id="8206" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8206" class="Bound">initialAddr</a> <a id="8218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8218" class="Bound">lastCallAddr</a> <a id="8231" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8231" class="Bound">calledAddr</a>
                 <a id="8259" class="Symbol">(</a><a id="8260" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="8265" class="Symbol">(</a><a id="8266" href="Complex-Model.ccomand.ccommands-cresponse.html#550" class="InductiveConstructor">updatec</a> <a id="8274" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8274" class="Bound">changedFname</a> <a id="8287" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8287" class="Bound">changedPFun</a> <a id="8299" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8299" class="Bound">cost</a><a id="8303" class="Symbol">)</a> <a id="8305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8305" class="Bound">costcomputecont</a> <a id="8321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8321" class="Bound">cont</a><a id="8325" class="Symbol">)</a> <a id="8327" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8327" class="Bound">gasLeft</a> <a id="8335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8335" class="Bound">funNameevalState</a> <a id="8352" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8352" class="Bound">msgevalState</a><a id="8364" class="Symbol">)</a>
       <a id="8373" class="Symbol">=</a> <a id="8375" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="8383" class="Symbol">(</a><a id="8384" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#781" class="Function">updateLedgerpurefun</a> <a id="8404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8177" class="Bound">currentLedger</a> <a id="8418" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8231" class="Bound">calledAddr</a> <a id="8429" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8274" class="Bound">changedFname</a>  <a id="8443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8287" class="Bound">changedPFun</a><a id="8454" class="Symbol">)</a>
          <a id="8466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8191" class="Bound">executionStack</a> <a id="8481" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8206" class="Bound">initialAddr</a> <a id="8493" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8218" class="Bound">lastCallAddr</a> <a id="8506" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8231" class="Bound">calledAddr</a> <a id="8517" class="Symbol">(</a><a id="8518" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8321" class="Bound">cont</a> <a id="8523" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="8525" class="Symbol">)</a> <a id="8527" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8327" class="Bound">gasLeft</a> <a id="8535" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8335" class="Bound">funNameevalState</a> <a id="8552" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8352" class="Bound">msgevalState</a>

<a id="8566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="8573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8573" class="Bound">oldLedger</a> <a id="8583" class="Symbol">(</a><a id="8584" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="8592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8592" class="Bound">currentLedger</a> <a id="8606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8606" class="Bound">executionStack</a> <a id="8621" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8621" class="Bound">initialAddr</a> <a id="8633" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8633" class="Bound">oldlastCallAddr</a> <a id="8649" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8649" class="Bound">oldcalledAddr</a>
                 <a id="8680" class="Symbol">(</a><a id="8681" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="8686" class="Symbol">(</a><a id="8687" href="Complex-Model.ccomand.ccommands-cresponse.html#769" class="InductiveConstructor">callc</a> <a id="8693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8693" class="Bound">newaddr</a> <a id="8701" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8701" class="Bound">fname</a> <a id="8707" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8707" class="Bound">msg</a><a id="8710" class="Symbol">)</a> <a id="8712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8712" class="Bound">costcomputecont</a> <a id="8728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8728" class="Bound">cont</a><a id="8732" class="Symbol">)</a> <a id="8734" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8734" class="Bound">gasLeft</a> <a id="8742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8742" class="Bound">funNameevalState</a> <a id="8759" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8759" class="Bound">msgevalState</a><a id="8771" class="Symbol">)</a>
       <a id="8780" class="Symbol">=</a> <a id="8782" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="8790" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8592" class="Bound">currentLedger</a>
           <a id="8815" class="Symbol">(</a><a id="8816" href="libraries.Mainlibrary.html#1133" class="InductiveConstructor">execStackEl</a> <a id="8828" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8633" class="Bound">oldlastCallAddr</a> <a id="8844" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8649" class="Bound">oldcalledAddr</a> <a id="8858" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8728" class="Bound">cont</a> <a id="8863" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8712" class="Bound">costcomputecont</a> <a id="8879" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8742" class="Bound">funNameevalState</a> <a id="8896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8759" class="Bound">msgevalState</a> <a id="8909" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8911" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8606" class="Bound">executionStack</a><a id="8925" class="Symbol">)</a>
           <a id="8938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8621" class="Bound">initialAddr</a> <a id="8950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8649" class="Bound">oldcalledAddr</a> <a id="8964" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8693" class="Bound">newaddr</a> <a id="8972" class="Symbol">(</a><a id="8973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8592" class="Bound">currentLedger</a> <a id="8987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8693" class="Bound">newaddr</a> <a id="8995" class="Symbol">.</a><a id="8996" href="libraries.Mainlibrary.html#865" class="Field">fun</a> <a id="9000" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8701" class="Bound">fname</a> <a id="9006" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8707" class="Bound">msg</a><a id="9009" class="Symbol">)</a> <a id="9011" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8734" class="Bound">gasLeft</a> <a id="9019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8701" class="Bound">fname</a> <a id="9025" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8707" class="Bound">msg</a>

<a id="9030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="9037" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9037" class="Bound">oldLedger</a> <a id="9047" class="Symbol">(</a><a id="9048" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="9056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9056" class="Bound">currentLedger</a> <a id="9070" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9070" class="Bound">executionStack</a> <a id="9085" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9085" class="Bound">initialAddr</a> <a id="9097" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9097" class="Bound">lastCallAddr</a> <a id="9110" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9110" class="Bound">calledAddr</a>
                 <a id="9138" class="Symbol">(</a><a id="9139" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="9144" class="Symbol">(</a><a id="9145" href="Complex-Model.ccomand.ccommands-cresponse.html#723" class="InductiveConstructor">transferc</a> <a id="9155" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9155" class="Bound">amount</a> <a id="9162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9162" class="Bound">destinationAddr</a><a id="9177" class="Symbol">)</a> <a id="9179" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9179" class="Bound">costcomputecont</a> <a id="9195" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9195" class="Bound">cont</a><a id="9199" class="Symbol">)</a> <a id="9201" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9201" class="Bound">gasLeft</a>  <a id="9210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9210" class="Bound">funNameevalState</a> <a id="9227" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9227" class="Bound">msgevalState</a><a id="9239" class="Symbol">)</a>
       <a id="9248" class="Symbol">=</a> <a id="9250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6434" class="Function">executeTransfer</a> <a id="9266" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9037" class="Bound">oldLedger</a> <a id="9276" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9056" class="Bound">currentLedger</a> <a id="9290" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9070" class="Bound">executionStack</a> <a id="9305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9085" class="Bound">initialAddr</a> <a id="9317" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9097" class="Bound">lastCallAddr</a> <a id="9330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9110" class="Bound">calledAddr</a>
       <a id="9348" class="Symbol">(</a><a id="9349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9195" class="Bound">cont</a> <a id="9354" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="9356" class="Symbol">)</a> <a id="9358" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9201" class="Bound">gasLeft</a>  <a id="9367" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9210" class="Bound">funNameevalState</a> <a id="9384" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9227" class="Bound">msgevalState</a> <a id="9397" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9155" class="Bound">amount</a> <a id="9404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9162" class="Bound">destinationAddr</a>

<a id="9421" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="9428" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9428" class="Bound">oldLedger</a> <a id="9438" class="Symbol">(</a><a id="9439" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="9447" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9447" class="Bound">currentLedger</a> <a id="9461" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9461" class="Bound">executionStack</a> <a id="9476" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9476" class="Bound">initialAddr</a> <a id="9488" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9488" class="Bound">lastCallAddr</a> <a id="9501" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9501" class="Bound">calledAddr</a>
                 <a id="9529" class="Symbol">(</a><a id="9530" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="9535" class="Symbol">(</a><a id="9536" href="Complex-Model.ccomand.ccommands-cresponse.html#894" class="InductiveConstructor">getAmountc</a> <a id="9547" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9547" class="Bound">addrLookedUp</a><a id="9559" class="Symbol">)</a> <a id="9561" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9561" class="Bound">costcomputecont</a> <a id="9577" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9577" class="Bound">cont</a><a id="9581" class="Symbol">)</a> <a id="9583" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9583" class="Bound">gasLeft</a> <a id="9591" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9591" class="Bound">funNameevalState</a> <a id="9608" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9608" class="Bound">msgevalState</a><a id="9620" class="Symbol">)</a>
       <a id="9629" class="Symbol">=</a> <a id="9631" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="9639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9447" class="Bound">currentLedger</a> <a id="9653" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9461" class="Bound">executionStack</a> <a id="9668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9476" class="Bound">initialAddr</a> <a id="9680" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9488" class="Bound">lastCallAddr</a> <a id="9693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9501" class="Bound">calledAddr</a>
           <a id="9715" class="Symbol">(</a><a id="9716" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9577" class="Bound">cont</a> <a id="9721" class="Symbol">(</a><a id="9722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9447" class="Bound">currentLedger</a> <a id="9736" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9547" class="Bound">addrLookedUp</a> <a id="9749" class="Symbol">.</a><a id="9750" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="9756" class="Symbol">))</a> <a id="9759" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9583" class="Bound">gasLeft</a> <a id="9767" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9591" class="Bound">funNameevalState</a> <a id="9784" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9608" class="Bound">msgevalState</a>


<a id="9799" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="9806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9806" class="Bound">oldLedger</a> <a id="9816" class="Symbol">(</a><a id="9817" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="9825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9825" class="Bound">ledger</a> <a id="9832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9832" class="Bound">executionStack</a> <a id="9847" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9847" class="Bound">initialAddr</a> <a id="9859" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9859" class="Bound">lastCallAddr</a> <a id="9872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9872" class="Bound">calledAddr</a>
                   <a id="9902" class="Symbol">(</a><a id="9903" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="9908" class="Symbol">(</a><a id="9909" href="Complex-Model.ccomand.ccommands-cresponse.html#678" class="InductiveConstructor">raiseException</a> <a id="9924" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9924" class="Bound">cost</a> <a id="9929" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9929" class="Bound">str</a><a id="9932" class="Symbol">)</a> <a id="9934" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9934" class="Bound">costcomputecont</a> <a id="9950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9950" class="Bound">cont</a><a id="9954" class="Symbol">)</a>
                   <a id="9975" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9975" class="Bound">gasLeft</a> <a id="9983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9983" class="Bound">funNameevalState</a> <a id="10000" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10000" class="Bound">msgevalState</a><a id="10012" class="Symbol">)</a>
       <a id="10021" class="Symbol">=</a> <a id="10023" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="10031" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9806" class="Bound">oldLedger</a> <a id="10041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9832" class="Bound">executionStack</a> <a id="10056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9847" class="Bound">initialAddr</a> <a id="10068" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9859" class="Bound">lastCallAddr</a> <a id="10081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9872" class="Bound">calledAddr</a>
         <a id="10101" class="Symbol">(</a><a id="10102" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="InductiveConstructor">error</a>  <a id="10109" class="Symbol">(</a><a id="10110" href="basicDataStructure.html#694" class="InductiveConstructor">strErr</a> <a id="10117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9929" class="Bound">str</a><a id="10120" class="Symbol">)</a> <a id="10122" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="10124" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9859" class="Bound">lastCallAddr</a> <a id="10137" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="10140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9847" class="Bound">initialAddr</a> <a id="10152" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="10154" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9983" class="Bound">funNameevalState</a> <a id="10171" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="10173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10000" class="Bound">msgevalState</a> <a id="10186" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="10188" class="Symbol">)</a>
         <a id="10199" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9975" class="Bound">gasLeft</a> <a id="10207" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9983" class="Bound">funNameevalState</a> <a id="10224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10000" class="Bound">msgevalState</a>


<a id="10239" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="10246" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10246" class="Bound">oldLedger</a> <a id="10256" class="Symbol">(</a><a id="10257" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="10265" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10265" class="Bound">currentLedger</a> <a id="10279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10279" class="Bound">executionStack</a> <a id="10294" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10294" class="Bound">initialAddr</a> <a id="10306" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10306" class="Bound">lastCallAddr</a> <a id="10319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10319" class="Bound">calledAddr</a>
                 <a id="10347" class="Symbol">(</a><a id="10348" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="InductiveConstructor">error</a> <a id="10354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10354" class="Bound">errorMsg</a> <a id="10363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10363" class="Bound">debugInfo</a><a id="10372" class="Symbol">)</a> <a id="10374" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10374" class="Bound">gasLeft</a>  <a id="10383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10383" class="Bound">funNameevalState</a> <a id="10400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10400" class="Bound">msgevalState</a><a id="10412" class="Symbol">)</a>
       <a id="10421" class="Symbol">=</a> <a id="10423" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="10431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10246" class="Bound">oldLedger</a> <a id="10441" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10279" class="Bound">executionStack</a> <a id="10456" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10294" class="Bound">initialAddr</a> <a id="10468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10306" class="Bound">lastCallAddr</a> <a id="10481" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10319" class="Bound">calledAddr</a>
         <a id="10501" class="Symbol">(</a><a id="10502" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="InductiveConstructor">error</a> <a id="10508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10354" class="Bound">errorMsg</a> <a id="10517" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10363" class="Bound">debugInfo</a><a id="10526" class="Symbol">)</a>  <a id="10529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10374" class="Bound">gasLeft</a>  <a id="10538" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10383" class="Bound">funNameevalState</a> <a id="10555" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10400" class="Bound">msgevalState</a>


<a id="10570" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="10577" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10577" class="Bound">oldLedger</a> <a id="10587" class="Symbol">(</a><a id="10588" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="10596" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10596" class="Bound">currentLedger</a> <a id="10610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10610" class="Bound">executionStack</a> <a id="10625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10625" class="Bound">initialAddr</a> <a id="10637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10637" class="Bound">lastCallAddr</a> <a id="10650" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10650" class="Bound">calledAddr</a>
                 <a id="10678" class="Symbol">(</a><a id="10679" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="10684" class="Symbol">(</a><a id="10685" href="Complex-Model.ccomand.ccommands-cresponse.html#491" class="InductiveConstructor">callPure</a> <a id="10694" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10694" class="Bound">addr</a> <a id="10699" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10699" class="Bound">fname</a> <a id="10705" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10705" class="Bound">msg</a><a id="10708" class="Symbol">)</a> <a id="10710" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10710" class="Bound">costcomputecont</a> <a id="10726" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10726" class="Bound">cont</a><a id="10730" class="Symbol">)</a> <a id="10732" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10732" class="Bound">gasLeft</a>
                  <a id="10758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10758" class="Bound">funNameevalState</a> <a id="10775" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10775" class="Bound">msgevalState</a><a id="10787" class="Symbol">)</a>
       <a id="10796" class="Symbol">=</a> <a id="10798" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="10806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10596" class="Bound">currentLedger</a> <a id="10820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10610" class="Bound">executionStack</a> <a id="10835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10625" class="Bound">initialAddr</a> <a id="10847" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10637" class="Bound">lastCallAddr</a> <a id="10860" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10650" class="Bound">calledAddr</a>
         <a id="10880" class="Symbol">(</a><a id="10881" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10726" class="Bound">cont</a> <a id="10886" class="Symbol">(</a><a id="10887" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10596" class="Bound">currentLedger</a> <a id="10901" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10694" class="Bound">addr</a> <a id="10906" class="Symbol">.</a><a id="10907" href="libraries.Mainlibrary.html#931" class="Field">purefunction</a> <a id="10920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10699" class="Bound">fname</a> <a id="10926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10705" class="Bound">msg</a><a id="10929" class="Symbol">))</a> <a id="10932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10732" class="Bound">gasLeft</a> <a id="10940" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10699" class="Bound">fname</a> <a id="10946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10705" class="Bound">msg</a>


<a id="10952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="10959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10959" class="Bound">oldLedger</a> <a id="10969" class="Symbol">(</a><a id="10970" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="10978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10978" class="Bound">currentLedger</a> <a id="10992" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="10995" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10995" class="Bound">initialAddr</a> <a id="11007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11007" class="Bound">lastCallAddr</a> <a id="11020" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11020" class="Bound">calledAddr</a>
                 <a id="11048" class="Symbol">(</a><a id="11049" href="Complex-Model.ccomand.ccommands-cresponse.html#1557" class="InductiveConstructor">return</a> <a id="11056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11056" class="Bound">cost</a> <a id="11061" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11061" class="Bound">result</a><a id="11067" class="Symbol">)</a> <a id="11069" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11069" class="Bound">gasLeft</a>  <a id="11078" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11078" class="Bound">funNameevalState</a> <a id="11095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11095" class="Bound">msgevalState</a><a id="11107" class="Symbol">)</a>
       <a id="11116" class="Symbol">=</a> <a id="11118" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="11126" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10978" class="Bound">currentLedger</a> <a id="11140" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="11143" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10995" class="Bound">initialAddr</a> <a id="11155" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11007" class="Bound">lastCallAddr</a> <a id="11168" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11020" class="Bound">calledAddr</a>
         <a id="11188" class="Symbol">(</a><a id="11189" href="Complex-Model.ccomand.ccommands-cresponse.html#1557" class="InductiveConstructor">return</a> <a id="11196" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11056" class="Bound">cost</a> <a id="11201" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11061" class="Bound">result</a><a id="11207" class="Symbol">)</a> <a id="11209" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11069" class="Bound">gasLeft</a>  <a id="11218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11078" class="Bound">funNameevalState</a> <a id="11235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11095" class="Bound">msgevalState</a> 

<a id="11250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="11257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11257" class="Bound">oldLedger</a> <a id="11267" class="Symbol">(</a><a id="11268" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="11276" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11276" class="Bound">currentLedger</a> <a id="11290" class="Symbol">(</a><a id="11291" href="libraries.Mainlibrary.html#1133" class="InductiveConstructor">execStackEl</a> <a id="11303" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11303" class="Bound">prevLastCallAddress</a> <a id="11323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11323" class="Bound">prevCalledAddress</a> <a id="11341" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11341" class="Bound">prevContinuation</a>
                 <a id="11375" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11375" class="Bound">prevCostCont</a> <a id="11388" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11388" class="Bound">prevFunName</a> <a id="11400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11400" class="Bound">prevMsgExec</a> <a id="11412" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11414" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11414" class="Bound">executionStack</a><a id="11428" class="Symbol">)</a>
                  <a id="11448" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11448" class="Bound">initialAddr</a> <a id="11460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11460" class="Bound">lastCallAddr</a> <a id="11473" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11473" class="Bound">calledAddr</a> <a id="11484" class="Symbol">(</a><a id="11485" href="Complex-Model.ccomand.ccommands-cresponse.html#1557" class="InductiveConstructor">return</a> <a id="11492" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11492" class="Bound">cost</a> <a id="11497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11497" class="Bound">result</a><a id="11503" class="Symbol">)</a> <a id="11505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11505" class="Bound">gasLeft</a> <a id="11513" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11513" class="Bound">funNameevalState</a> <a id="11530" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11530" class="Bound">msgevalState</a><a id="11542" class="Symbol">)</a>
       <a id="11551" class="Symbol">=</a> <a id="11553" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="11561" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11276" class="Bound">currentLedger</a> <a id="11575" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11414" class="Bound">executionStack</a> <a id="11590" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11448" class="Bound">initialAddr</a> <a id="11602" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11303" class="Bound">prevLastCallAddress</a> <a id="11622" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11323" class="Bound">prevCalledAddress</a>
          <a id="11650" class="Symbol">(</a><a id="11651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11341" class="Bound">prevContinuation</a> <a id="11668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11497" class="Bound">result</a><a id="11674" class="Symbol">)</a> <a id="11676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11505" class="Bound">gasLeft</a> <a id="11684" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11388" class="Bound">prevFunName</a> <a id="11696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11400" class="Bound">prevMsgExec</a>


<a id="11710" class="Comment">--some lemmas to prove and we use them with our executevotingexample.agda</a>
<a id="lemmaStepEFpreserveGas"></a><a id="11784" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11784" class="Function">lemmaStepEFpreserveGas</a> <a id="11807" class="Symbol">:</a> <a id="11809" class="Symbol">(</a><a id="11810" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11810" class="Bound">oldLedger</a> <a id="11820" class="Symbol">:</a> <a id="11822" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="11828" class="Symbol">)</a> <a id="11830" class="Symbol">→</a> <a id="11832" class="Symbol">(</a><a id="11833" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11833" class="Bound">state</a> <a id="11839" class="Symbol">:</a> <a id="11841" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a><a id="11853" class="Symbol">)</a> <a id="11855" class="Symbol">→</a>
                         <a id="11882" href="libraries.Mainlibrary.html#2589" class="Field">gasLeft</a> <a id="11890" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11833" class="Bound">state</a> <a id="11896" href="libraries.natCompare.html#552" class="Function Operator">==r</a> <a id="11900" href="libraries.Mainlibrary.html#2589" class="Field">gasLeft</a> <a id="11908" class="Symbol">(</a><a id="11909" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="11916" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11810" class="Bound">oldLedger</a> <a id="11926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11833" class="Bound">state</a><a id="11931" class="Symbol">)</a>
<a id="11933" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11784" class="Function">lemmaStepEFpreserveGas</a> <a id="11956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11956" class="Bound">oldLedger</a> <a id="11966" class="Symbol">(</a><a id="11967" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="11975" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11975" class="Bound">ledger</a> <a id="11982" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="11985" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11985" class="Bound">initialAddr</a> <a id="11997" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11997" class="Bound">lastCallAddr</a> <a id="12010" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12010" class="Bound">calledAddr</a>
                       <a id="12044" class="Symbol">(</a><a id="12045" href="Complex-Model.ccomand.ccommands-cresponse.html#1557" class="InductiveConstructor">return</a> <a id="12052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12052" class="Bound">x</a> <a id="12054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12054" class="Bound">x₁</a><a id="12056" class="Symbol">)</a> <a id="12058" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12058" class="Bound">gasLeft1</a> <a id="12067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12067" class="Bound">funNameevalState</a> <a id="12084" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12084" class="Bound">msgevalState</a><a id="12096" class="Symbol">)</a> <a id="12098" class="Symbol">=</a> <a id="12100" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="12108" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12058" class="Bound">gasLeft1</a>
<a id="12117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11784" class="Function">lemmaStepEFpreserveGas</a> <a id="12140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12140" class="Bound">oldLedger</a> <a id="12150" class="Symbol">(</a><a id="12151" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="12159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12159" class="Bound">ledger</a> <a id="12166" class="Symbol">(</a><a id="12167" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12167" class="Bound">x₂</a> <a id="12170" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="12172" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12172" class="Bound">executionStack₁</a><a id="12187" class="Symbol">)</a> <a id="12189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12189" class="Bound">initialAddr</a> <a id="12201" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12201" class="Bound">lastCallAddr</a> <a id="12214" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12214" class="Bound">calledAddr</a>
                       <a id="12248" class="Symbol">(</a><a id="12249" href="Complex-Model.ccomand.ccommands-cresponse.html#1557" class="InductiveConstructor">return</a> <a id="12256" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12256" class="Bound">x</a> <a id="12258" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12258" class="Bound">x₁</a><a id="12260" class="Symbol">)</a> <a id="12262" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12262" class="Bound">gasLeft1</a> <a id="12271" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12271" class="Bound">funNameevalState</a> <a id="12288" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12288" class="Bound">msgevalState</a><a id="12300" class="Symbol">)</a> <a id="12302" class="Symbol">=</a> <a id="12304" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="12312" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12262" class="Bound">gasLeft1</a>
<a id="12321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11784" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12343" class="CatchallClause"> </a><a id="12344" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12344" class="CatchallClause Bound">oldLedger</a><a id="12353" class="CatchallClause"> </a><a id="12354" class="CatchallClause Symbol">(</a><a id="12355" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="12362" class="CatchallClause"> </a><a id="12363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12363" class="CatchallClause Bound">ledger</a><a id="12369" class="CatchallClause"> </a><a id="12370" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12370" class="CatchallClause Bound">executionStack</a><a id="12384" class="CatchallClause"> </a><a id="12385" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12385" class="CatchallClause Bound">initialAddr</a><a id="12396" class="CatchallClause"> </a><a id="12397" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12397" class="CatchallClause Bound">lastCallAddr</a><a id="12409" class="CatchallClause"> </a><a id="12410" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12410" class="CatchallClause Bound">calledAddr</a>
                       <a id="12444" class="CatchallClause Symbol">(</a><a id="12445" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="CatchallClause InductiveConstructor">error</a><a id="12450" class="CatchallClause"> </a><a id="12451" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12451" class="CatchallClause Bound">x</a><a id="12452" class="CatchallClause"> </a><a id="12453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12453" class="CatchallClause Bound">x₁</a><a id="12455" class="CatchallClause Symbol">)</a><a id="12456" class="CatchallClause"> </a><a id="12457" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12457" class="CatchallClause Bound">gasLeft1</a><a id="12465" class="CatchallClause"> </a><a id="12466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12466" class="CatchallClause Bound">funNameevalState</a><a id="12482" class="CatchallClause"> </a><a id="12483" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12483" class="CatchallClause Bound">msgevalState</a><a id="12495" class="CatchallClause Symbol">)</a> <a id="12497" class="Symbol">=</a> <a id="12499" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="12507" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12457" class="Bound">gasLeft1</a>
<a id="12516" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11784" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12538" class="CatchallClause"> </a><a id="12539" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12539" class="CatchallClause Bound">oldLedger</a><a id="12548" class="CatchallClause"> </a><a id="12549" class="CatchallClause Symbol">(</a><a id="12550" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="12557" class="CatchallClause"> </a><a id="12558" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12558" class="CatchallClause Bound">ledger</a><a id="12564" class="CatchallClause"> </a><a id="12565" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12565" class="CatchallClause Bound">executionStack</a><a id="12579" class="CatchallClause"> </a><a id="12580" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12580" class="CatchallClause Bound">initialAddr</a><a id="12591" class="CatchallClause"> </a><a id="12592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12592" class="CatchallClause Bound">lastCallAddr</a><a id="12604" class="CatchallClause"> </a><a id="12605" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12605" class="CatchallClause Bound">calledAddr</a>
                       <a id="12639" class="CatchallClause Symbol">(</a><a id="12640" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="12644" class="CatchallClause"> </a><a id="12645" class="CatchallClause Symbol">(</a><a id="12646" href="Complex-Model.ccomand.ccommands-cresponse.html#491" class="CatchallClause InductiveConstructor">callPure</a><a id="12654" class="CatchallClause"> </a><a id="12655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12655" class="CatchallClause Bound">x₂</a><a id="12657" class="CatchallClause"> </a><a id="12658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12658" class="CatchallClause Bound">x₃</a><a id="12660" class="CatchallClause"> </a><a id="12661" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12661" class="CatchallClause Bound">x₄</a><a id="12663" class="CatchallClause Symbol">)</a><a id="12664" class="CatchallClause"> </a><a id="12665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12665" class="CatchallClause Bound">x</a><a id="12666" class="CatchallClause"> </a><a id="12667" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12667" class="CatchallClause Bound">x₁</a><a id="12669" class="CatchallClause Symbol">)</a><a id="12670" class="CatchallClause"> </a><a id="12671" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12671" class="CatchallClause Bound">gasLeft1</a><a id="12679" class="CatchallClause"> </a><a id="12680" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12680" class="CatchallClause Bound">funNameevalState</a><a id="12696" class="CatchallClause"> </a><a id="12697" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12697" class="CatchallClause Bound">msgevalState</a><a id="12709" class="CatchallClause Symbol">)</a> <a id="12711" class="Symbol">=</a> <a id="12713" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="12721" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12671" class="Bound">gasLeft1</a>
<a id="12730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11784" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12752" class="CatchallClause"> </a><a id="12753" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12753" class="CatchallClause Bound">oldLedger</a><a id="12762" class="CatchallClause"> </a><a id="12763" class="CatchallClause Symbol">(</a><a id="12764" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="12771" class="CatchallClause"> </a><a id="12772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12772" class="CatchallClause Bound">ledger</a><a id="12778" class="CatchallClause"> </a><a id="12779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12779" class="CatchallClause Bound">executionStack</a><a id="12793" class="CatchallClause"> </a><a id="12794" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12794" class="CatchallClause Bound">initialAddr</a><a id="12805" class="CatchallClause"> </a><a id="12806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12806" class="CatchallClause Bound">lastCallAddr</a><a id="12818" class="CatchallClause"> </a><a id="12819" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12819" class="CatchallClause Bound">calledAddr</a>
                       <a id="12853" class="CatchallClause Symbol">(</a><a id="12854" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="12858" class="CatchallClause"> </a><a id="12859" class="CatchallClause Symbol">(</a><a id="12860" href="Complex-Model.ccomand.ccommands-cresponse.html#550" class="CatchallClause InductiveConstructor">updatec</a><a id="12867" class="CatchallClause"> </a><a id="12868" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12868" class="CatchallClause Bound">x₂</a><a id="12870" class="CatchallClause"> </a><a id="12871" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12871" class="CatchallClause Bound">x₃</a><a id="12873" class="CatchallClause"> </a><a id="12874" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12874" class="CatchallClause Bound">x₄</a><a id="12876" class="CatchallClause Symbol">)</a><a id="12877" class="CatchallClause"> </a><a id="12878" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12878" class="CatchallClause Bound">x</a><a id="12879" class="CatchallClause"> </a><a id="12880" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12880" class="CatchallClause Bound">x₁</a><a id="12882" class="CatchallClause Symbol">)</a><a id="12883" class="CatchallClause"> </a><a id="12884" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12884" class="CatchallClause Bound">gasLeft1</a><a id="12892" class="CatchallClause"> </a><a id="12893" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12893" class="CatchallClause Bound">funNameevalState</a><a id="12909" class="CatchallClause"> </a><a id="12910" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12910" class="CatchallClause Bound">msgevalState</a><a id="12922" class="CatchallClause Symbol">)</a> <a id="12924" class="Symbol">=</a> <a id="12926" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="12934" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12884" class="Bound">gasLeft1</a>
<a id="12943" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11784" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12965" class="CatchallClause"> </a><a id="12966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12966" class="CatchallClause Bound">oldLedger</a><a id="12975" class="CatchallClause"> </a><a id="12976" class="CatchallClause Symbol">(</a><a id="12977" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="12984" class="CatchallClause"> </a><a id="12985" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12985" class="CatchallClause Bound">ledger</a><a id="12991" class="CatchallClause"> </a><a id="12992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12992" class="CatchallClause Bound">executionStack</a><a id="13006" class="CatchallClause"> </a><a id="13007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13007" class="CatchallClause Bound">initialAddr</a><a id="13018" class="CatchallClause"> </a><a id="13019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13019" class="CatchallClause Bound">lastCallAddr</a><a id="13031" class="CatchallClause"> </a><a id="13032" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13032" class="CatchallClause Bound">calledAddr</a>
                       <a id="13066" class="CatchallClause Symbol">(</a><a id="13067" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="13071" class="CatchallClause"> </a><a id="13072" class="CatchallClause Symbol">(</a><a id="13073" href="Complex-Model.ccomand.ccommands-cresponse.html#678" class="CatchallClause InductiveConstructor">raiseException</a><a id="13087" class="CatchallClause"> </a><a id="13088" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13088" class="CatchallClause Bound">x₂</a><a id="13090" class="CatchallClause"> </a><a id="13091" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13091" class="CatchallClause Bound">x₃</a><a id="13093" class="CatchallClause Symbol">)</a><a id="13094" class="CatchallClause"> </a><a id="13095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13095" class="CatchallClause Bound">x</a><a id="13096" class="CatchallClause"> </a><a id="13097" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13097" class="CatchallClause Bound">x₁</a><a id="13099" class="CatchallClause Symbol">)</a><a id="13100" class="CatchallClause"> </a><a id="13101" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13101" class="CatchallClause Bound">gasLeft1</a><a id="13109" class="CatchallClause"> </a><a id="13110" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13110" class="CatchallClause Bound">funNameevalState</a><a id="13126" class="CatchallClause"> </a><a id="13127" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13127" class="CatchallClause Bound">msgevalState</a><a id="13139" class="CatchallClause Symbol">)</a> <a id="13141" class="Symbol">=</a> <a id="13143" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="13151" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13101" class="Bound">gasLeft1</a>
<a id="13160" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11784" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13182" class="CatchallClause"> </a><a id="13183" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13183" class="CatchallClause Bound">oldLedger</a><a id="13192" class="CatchallClause"> </a><a id="13193" class="CatchallClause Symbol">(</a><a id="13194" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="13201" class="CatchallClause"> </a><a id="13202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13202" class="CatchallClause Bound">ledger</a><a id="13208" class="CatchallClause"> </a><a id="13209" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13209" class="CatchallClause Bound">executionStack</a><a id="13223" class="CatchallClause"> </a><a id="13224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13224" class="CatchallClause Bound">initialAddr</a><a id="13235" class="CatchallClause"> </a><a id="13236" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13236" class="CatchallClause Bound">lastCallAddr</a><a id="13248" class="CatchallClause"> </a><a id="13249" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13249" class="CatchallClause Bound">calledAddr</a>
                       <a id="13283" class="CatchallClause Symbol">(</a><a id="13284" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="13288" class="CatchallClause"> </a><a id="13289" class="CatchallClause Symbol">(</a><a id="13290" href="Complex-Model.ccomand.ccommands-cresponse.html#723" class="CatchallClause InductiveConstructor">transferc</a><a id="13299" class="CatchallClause"> </a><a id="13300" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13300" class="CatchallClause Bound">amount</a><a id="13306" class="CatchallClause"> </a><a id="13307" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13307" class="CatchallClause Bound">destinationAddr</a><a id="13322" class="CatchallClause Symbol">)</a><a id="13323" class="CatchallClause"> </a><a id="13324" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13324" class="CatchallClause Bound">costcomputecont</a><a id="13339" class="CatchallClause"> </a><a id="13340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13340" class="CatchallClause Bound">cont</a><a id="13344" class="CatchallClause Symbol">)</a><a id="13345" class="CatchallClause"> </a><a id="13346" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13346" class="CatchallClause Bound">gasLeft1</a><a id="13354" class="CatchallClause"> </a><a id="13355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13355" class="CatchallClause Bound">funNameevalState</a><a id="13371" class="CatchallClause"> </a><a id="13372" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13372" class="CatchallClause Bound">msgevalState</a><a id="13384" class="CatchallClause Symbol">)</a>
                       <a id="13409" class="Symbol">=</a> <a id="13411" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4923" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="13440" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13183" class="Bound">oldLedger</a> <a id="13450" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13202" class="Bound">ledger</a> <a id="13457" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13209" class="Bound">executionStack</a> <a id="13472" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13224" class="Bound">initialAddr</a> <a id="13484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13236" class="Bound">lastCallAddr</a> <a id="13497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13249" class="Bound">calledAddr</a>
                       <a id="13531" class="Symbol">(</a><a id="13532" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13340" class="Bound">cont</a> <a id="13537" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="13539" class="Symbol">)</a> <a id="13541" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13346" class="Bound">gasLeft1</a> <a id="13550" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13355" class="Bound">funNameevalState</a> <a id="13567" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13372" class="Bound">msgevalState</a> <a id="13580" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13300" class="Bound">amount</a> <a id="13587" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13307" class="Bound">destinationAddr</a>
                       <a id="13626" class="Symbol">((</a><a id="13628" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="13639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13300" class="Bound">amount</a> <a id="13646" class="Symbol">(</a><a id="13647" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13202" class="Bound">ledger</a> <a id="13654" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13249" class="Bound">calledAddr</a> <a id="13665" class="Symbol">.</a><a id="13666" href="libraries.Mainlibrary.html#839" class="Field">Contract.amount</a><a id="13681" class="Symbol">)))</a>
<a id="13685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11784" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13707" class="CatchallClause"> </a><a id="13708" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13708" class="CatchallClause Bound">oldLedger</a><a id="13717" class="CatchallClause"> </a><a id="13718" class="CatchallClause Symbol">(</a><a id="13719" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="13726" class="CatchallClause"> </a><a id="13727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13727" class="CatchallClause Bound">ledger</a><a id="13733" class="CatchallClause"> </a><a id="13734" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13734" class="CatchallClause Bound">executionStack</a><a id="13748" class="CatchallClause"> </a><a id="13749" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13749" class="CatchallClause Bound">initialAddr</a><a id="13760" class="CatchallClause"> </a><a id="13761" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13761" class="CatchallClause Bound">lastCallAddr</a><a id="13773" class="CatchallClause"> </a><a id="13774" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13774" class="CatchallClause Bound">calledAddr</a>
                       <a id="13808" class="CatchallClause Symbol">(</a><a id="13809" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="13813" class="CatchallClause"> </a><a id="13814" class="CatchallClause Symbol">(</a><a id="13815" href="Complex-Model.ccomand.ccommands-cresponse.html#769" class="CatchallClause InductiveConstructor">callc</a><a id="13820" class="CatchallClause"> </a><a id="13821" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13821" class="CatchallClause Bound">x₂</a><a id="13823" class="CatchallClause"> </a><a id="13824" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13824" class="CatchallClause Bound">x₃</a><a id="13826" class="CatchallClause"> </a><a id="13827" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13827" class="CatchallClause Bound">x₄</a><a id="13829" class="CatchallClause Symbol">)</a><a id="13830" class="CatchallClause"> </a><a id="13831" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13831" class="CatchallClause Bound">x</a><a id="13832" class="CatchallClause"> </a><a id="13833" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13833" class="CatchallClause Bound">x₁</a><a id="13835" class="CatchallClause Symbol">)</a><a id="13836" class="CatchallClause"> </a><a id="13837" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13837" class="CatchallClause Bound">gasLeft1</a><a id="13845" class="CatchallClause"> </a><a id="13846" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13846" class="CatchallClause Bound">funNameevalState</a><a id="13862" class="CatchallClause"> </a><a id="13863" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13863" class="CatchallClause Bound">msgevalState</a><a id="13875" class="CatchallClause Symbol">)</a> <a id="13877" class="Symbol">=</a> <a id="13879" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="13887" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13837" class="Bound">gasLeft1</a>
<a id="13896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11784" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13918" class="CatchallClause"> </a><a id="13919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13919" class="CatchallClause Bound">oldLedger</a><a id="13928" class="CatchallClause"> </a><a id="13929" class="CatchallClause Symbol">(</a><a id="13930" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="13937" class="CatchallClause"> </a><a id="13938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13938" class="CatchallClause Bound">ledger</a><a id="13944" class="CatchallClause"> </a><a id="13945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13945" class="CatchallClause Bound">executionStack</a><a id="13959" class="CatchallClause"> </a><a id="13960" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13960" class="CatchallClause Bound">initialAddr</a><a id="13971" class="CatchallClause"> </a><a id="13972" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13972" class="CatchallClause Bound">lastCallAddr</a><a id="13984" class="CatchallClause"> </a><a id="13985" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13985" class="CatchallClause Bound">calledAddr</a>
                       <a id="14019" class="CatchallClause Symbol">(</a><a id="14020" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="14024" class="CatchallClause"> </a><a id="14025" href="Complex-Model.ccomand.ccommands-cresponse.html#827" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="14043" class="CatchallClause"> </a><a id="14044" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14044" class="CatchallClause Bound">x</a><a id="14045" class="CatchallClause"> </a><a id="14046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14046" class="CatchallClause Bound">x₁</a><a id="14048" class="CatchallClause Symbol">)</a><a id="14049" class="CatchallClause"> </a><a id="14050" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14050" class="CatchallClause Bound">gasLeft1</a><a id="14058" class="CatchallClause"> </a><a id="14059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14059" class="CatchallClause Bound">funNameevalState</a><a id="14075" class="CatchallClause"> </a><a id="14076" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14076" class="CatchallClause Bound">msgevalState</a><a id="14088" class="CatchallClause Symbol">)</a> <a id="14090" class="Symbol">=</a> <a id="14092" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="14100" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14050" class="Bound">gasLeft1</a>
<a id="14109" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11784" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14131" class="CatchallClause"> </a><a id="14132" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14132" class="CatchallClause Bound">oldLedger</a><a id="14141" class="CatchallClause"> </a><a id="14142" class="CatchallClause Symbol">(</a><a id="14143" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="14150" class="CatchallClause"> </a><a id="14151" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14151" class="CatchallClause Bound">ledger</a><a id="14157" class="CatchallClause"> </a><a id="14158" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14158" class="CatchallClause Bound">executionStack</a><a id="14172" class="CatchallClause"> </a><a id="14173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14173" class="CatchallClause Bound">initialAddr</a><a id="14184" class="CatchallClause"> </a><a id="14185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14185" class="CatchallClause Bound">lastCallAddr</a><a id="14197" class="CatchallClause"> </a><a id="14198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14198" class="CatchallClause Bound">calledAddr</a>
                       <a id="14232" class="CatchallClause Symbol">(</a><a id="14233" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="14237" class="CatchallClause"> </a><a id="14238" href="Complex-Model.ccomand.ccommands-cresponse.html#862" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="14253" class="CatchallClause"> </a><a id="14254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14254" class="CatchallClause Bound">x</a><a id="14255" class="CatchallClause"> </a><a id="14256" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14256" class="CatchallClause Bound">x₁</a><a id="14258" class="CatchallClause Symbol">)</a><a id="14259" class="CatchallClause"> </a><a id="14260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14260" class="CatchallClause Bound">gasLeft1</a><a id="14268" class="CatchallClause"> </a><a id="14269" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14269" class="CatchallClause Bound">funNameevalState</a><a id="14285" class="CatchallClause"> </a><a id="14286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14286" class="CatchallClause Bound">msgevalState</a><a id="14298" class="CatchallClause Symbol">)</a> <a id="14300" class="Symbol">=</a> <a id="14302" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="14310" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14260" class="Bound">gasLeft1</a>
<a id="14319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11784" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14341" class="CatchallClause"> </a><a id="14342" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14342" class="CatchallClause Bound">oldLedger</a><a id="14351" class="CatchallClause"> </a><a id="14352" class="CatchallClause Symbol">(</a><a id="14353" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="14360" class="CatchallClause"> </a><a id="14361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14361" class="CatchallClause Bound">ledger</a><a id="14367" class="CatchallClause"> </a><a id="14368" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14368" class="CatchallClause Bound">executionStack</a><a id="14382" class="CatchallClause"> </a><a id="14383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14383" class="CatchallClause Bound">initialAddr</a><a id="14394" class="CatchallClause"> </a><a id="14395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14395" class="CatchallClause Bound">lastCallAddr</a><a id="14407" class="CatchallClause"> </a><a id="14408" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14408" class="CatchallClause Bound">calledAddr</a>
                       <a id="14442" class="CatchallClause Symbol">(</a><a id="14443" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="14447" class="CatchallClause"> </a><a id="14448" class="CatchallClause Symbol">(</a><a id="14449" href="Complex-Model.ccomand.ccommands-cresponse.html#894" class="CatchallClause InductiveConstructor">getAmountc</a><a id="14459" class="CatchallClause"> </a><a id="14460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14460" class="CatchallClause Bound">x₂</a><a id="14462" class="CatchallClause Symbol">)</a><a id="14463" class="CatchallClause"> </a><a id="14464" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14464" class="CatchallClause Bound">x</a><a id="14465" class="CatchallClause"> </a><a id="14466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14466" class="CatchallClause Bound">x₁</a><a id="14468" class="CatchallClause Symbol">)</a><a id="14469" class="CatchallClause"> </a><a id="14470" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14470" class="CatchallClause Bound">gasLeft1</a><a id="14478" class="CatchallClause"> </a><a id="14479" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14479" class="CatchallClause Bound">funNameevalState</a><a id="14495" class="CatchallClause"> </a><a id="14496" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14496" class="CatchallClause Bound">msgevalState</a><a id="14508" class="CatchallClause Symbol">)</a> <a id="14510" class="Symbol">=</a> <a id="14512" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="14520" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14470" class="Bound">gasLeft1</a>



<a id="lemmaStepEFpreserveGas2"></a><a id="14532" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14532" class="Function">lemmaStepEFpreserveGas2</a> <a id="14556" class="Symbol">:</a> <a id="14558" class="Symbol">(</a><a id="14559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14559" class="Bound">oldLedger</a> <a id="14569" class="Symbol">:</a> <a id="14571" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="14577" class="Symbol">)</a> <a id="14579" class="Symbol">→</a> <a id="14581" class="Symbol">(</a><a id="14582" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14582" class="Bound">state</a> <a id="14588" class="Symbol">:</a> <a id="14590" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a><a id="14602" class="Symbol">)</a> <a id="14604" class="Symbol">→</a>
                          <a id="14632" href="libraries.Mainlibrary.html#2589" class="Field">gasLeft</a> <a id="14640" class="Symbol">(</a><a id="14641" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="14648" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14559" class="Bound">oldLedger</a> <a id="14658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14582" class="Bound">state</a><a id="14663" class="Symbol">)</a> <a id="14665" href="libraries.natCompare.html#552" class="Function Operator">==r</a> <a id="14669" href="libraries.Mainlibrary.html#2589" class="Field">gasLeft</a> <a id="14677" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14582" class="Bound">state</a>
<a id="14683" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14532" class="Function">lemmaStepEFpreserveGas2</a> <a id="14707" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14707" class="Bound">oldLedger</a> <a id="14717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14717" class="Bound">state</a> <a id="14723" class="Symbol">=</a> <a id="14725" href="libraries.natCompare.html#2249" class="Function">sym==</a> <a id="14731" class="Symbol">(</a><a id="14732" href="libraries.Mainlibrary.html#2589" class="Field">gasLeft</a> <a id="14740" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14717" class="Bound">state</a><a id="14745" class="Symbol">)</a> <a id="14747" class="Symbol">(</a><a id="14748" href="libraries.Mainlibrary.html#2589" class="Field">gasLeft</a> <a id="14756" class="Symbol">(</a><a id="14757" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="14764" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14707" class="Bound">oldLedger</a> <a id="14774" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14717" class="Bound">state</a><a id="14779" class="Symbol">))</a>
                                          <a id="14824" class="Symbol">(</a><a id="14825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11784" class="Function">lemmaStepEFpreserveGas</a> <a id="14848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14707" class="Bound">oldLedger</a> <a id="14858" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14717" class="Bound">state</a><a id="14863" class="Symbol">)</a>


<a id="14867" class="Comment">-- stepEFgasAvailable which returns gasLeft</a>
<a id="stepEFgasAvailable"></a><a id="14911" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14911" class="Function">stepEFgasAvailable</a> <a id="14930" class="Symbol">:</a> <a id="14932" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a> <a id="14945" class="Symbol">→</a> <a id="14947" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="14949" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14911" class="Function">stepEFgasAvailable</a> <a id="14968" class="Symbol">(</a><a id="14969" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="14977" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14977" class="Bound">ledger</a> <a id="14984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14984" class="Bound">executionStack</a> <a id="14999" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14999" class="Bound">initialAddr</a> <a id="15011" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15011" class="Bound">lastCallAddr</a> <a id="15024" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15024" class="Bound">calledAddr</a>
                   <a id="15054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15054" class="Bound">nextstep</a> <a id="15063" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15063" class="Bound">gasLeft</a>  <a id="15072" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15072" class="Bound">funNameevalState</a> <a id="15089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15089" class="Bound">msgevalState</a><a id="15101" class="Symbol">)</a>
                   <a id="15122" class="Symbol">=</a> <a id="15124" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15063" class="Bound">gasLeft</a>


<a id="15134" class="Comment">--this function simliar to stepEF and deduct the gasleft</a>
<a id="15191" class="Comment">--which returns the gas deducted</a>
<a id="stepEFgasNeeded"></a><a id="15224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15224" class="Function">stepEFgasNeeded</a> <a id="15240" class="Symbol">:</a> <a id="15242" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a> <a id="15255" class="Symbol">→</a> <a id="15257" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="15259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15224" class="Function">stepEFgasNeeded</a>  <a id="15276" class="Symbol">(</a><a id="15277" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="15285" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15285" class="Bound">currentLedger</a> <a id="15299" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="15302" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15302" class="Bound">initialAddr</a> <a id="15314" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15314" class="Bound">lastCallAddr</a> <a id="15327" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15327" class="Bound">calledAddr</a>
                 <a id="15355" class="Symbol">(</a><a id="15356" href="Complex-Model.ccomand.ccommands-cresponse.html#1557" class="InductiveConstructor">return</a> <a id="15363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15363" class="Bound">cost</a> <a id="15368" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15368" class="Bound">result</a><a id="15374" class="Symbol">)</a> <a id="15376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15376" class="Bound">gasLeft</a>  <a id="15385" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15385" class="Bound">funNameevalState</a> <a id="15402" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15402" class="Bound">msgevalState</a><a id="15414" class="Symbol">)</a>
       <a id="15423" class="Symbol">=</a> <a id="15425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15363" class="Bound">cost</a>
<a id="15430" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15224" class="Function">stepEFgasNeeded</a>  <a id="15447" class="Symbol">(</a><a id="15448" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="15456" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15456" class="Bound">currentLedger</a> <a id="15470" class="Symbol">(</a><a id="15471" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15471" class="Bound">execSEl</a> <a id="15479" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="15481" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15481" class="Bound">executionStack</a><a id="15495" class="Symbol">)</a> <a id="15497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15497" class="Bound">initialAddr</a> <a id="15509" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15509" class="Bound">lastCallAddr</a> <a id="15522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15522" class="Bound">calledAddr</a>
                 <a id="15550" class="Symbol">(</a><a id="15551" href="Complex-Model.ccomand.ccommands-cresponse.html#1557" class="InductiveConstructor">return</a> <a id="15558" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15558" class="Bound">cost</a> <a id="15563" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15563" class="Bound">result</a><a id="15569" class="Symbol">)</a> <a id="15571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15571" class="Bound">gasLeft</a>  <a id="15580" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15580" class="Bound">funNameevalState</a> <a id="15597" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15597" class="Bound">msgevalState</a><a id="15609" class="Symbol">)</a>
       <a id="15618" class="Symbol">=</a> <a id="15620" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15558" class="Bound">cost</a>

<a id="15626" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15224" class="CatchallClause Function">stepEFgasNeeded</a><a id="15641" class="CatchallClause"> </a><a id="15642" class="CatchallClause Symbol">(</a><a id="15643" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="15650" class="CatchallClause"> </a><a id="15651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15651" class="CatchallClause Bound">currentLedger</a><a id="15664" class="CatchallClause"> </a><a id="15665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15665" class="CatchallClause Bound">executionStack</a><a id="15679" class="CatchallClause"> </a><a id="15680" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15680" class="CatchallClause Bound">initialAddr</a><a id="15691" class="CatchallClause"> </a><a id="15692" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15692" class="CatchallClause Bound">lastCallAddr</a><a id="15704" class="CatchallClause"> </a><a id="15705" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15705" class="CatchallClause Bound">calledAddr</a>
                 <a id="15733" class="CatchallClause Symbol">(</a><a id="15734" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="15738" class="CatchallClause"> </a><a id="15739" href="Complex-Model.ccomand.ccommands-cresponse.html#827" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="15757" class="CatchallClause"> </a><a id="15758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15758" class="CatchallClause Bound">costcomputecont</a><a id="15773" class="CatchallClause"> </a><a id="15774" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15774" class="CatchallClause Bound">cont</a><a id="15778" class="CatchallClause Symbol">)</a>
                 <a id="15797" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15797" class="CatchallClause Bound">gasLeft</a><a id="15804" class="CatchallClause">  </a><a id="15806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15806" class="CatchallClause Bound">funNameevalState</a><a id="15822" class="CatchallClause"> </a><a id="15823" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15823" class="CatchallClause Bound">msgevalState</a><a id="15835" class="CatchallClause Symbol">)</a>
       <a id="15844" class="Symbol">=</a> <a id="15846" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15758" class="Bound">costcomputecont</a> <a id="15862" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15705" class="Bound">calledAddr</a>

<a id="15874" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15224" class="CatchallClause Function">stepEFgasNeeded</a><a id="15889" class="CatchallClause"> </a><a id="15890" class="CatchallClause Symbol">(</a><a id="15891" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="15898" class="CatchallClause"> </a><a id="15899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15899" class="CatchallClause Bound">currentLedger</a><a id="15912" class="CatchallClause"> </a><a id="15913" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15913" class="CatchallClause Bound">executionStack</a><a id="15927" class="CatchallClause"> </a><a id="15928" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15928" class="CatchallClause Bound">initialAddr</a><a id="15939" class="CatchallClause"> </a><a id="15940" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15940" class="CatchallClause Bound">lastCallAddr</a><a id="15952" class="CatchallClause"> </a><a id="15953" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15953" class="CatchallClause Bound">calledAddr</a>
                 <a id="15981" class="CatchallClause Symbol">(</a><a id="15982" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="15986" class="CatchallClause"> </a><a id="15987" href="Complex-Model.ccomand.ccommands-cresponse.html#862" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="16002" class="CatchallClause"> </a><a id="16003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16003" class="CatchallClause Bound">costcomputecont</a><a id="16018" class="CatchallClause"> </a><a id="16019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16019" class="CatchallClause Bound">cont</a><a id="16023" class="CatchallClause Symbol">)</a>
                 <a id="16042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16042" class="CatchallClause Bound">gasLeft</a><a id="16049" class="CatchallClause">  </a><a id="16051" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16051" class="CatchallClause Bound">funNameevalState</a><a id="16067" class="CatchallClause"> </a><a id="16068" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16068" class="CatchallClause Bound">msgevalState</a><a id="16080" class="CatchallClause Symbol">)</a>
       <a id="16089" class="Symbol">=</a> <a id="16091" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16003" class="Bound">costcomputecont</a> <a id="16107" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15940" class="Bound">lastCallAddr</a>

<a id="16121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15224" class="CatchallClause Function">stepEFgasNeeded</a><a id="16136" class="CatchallClause"> </a><a id="16137" class="CatchallClause Symbol">(</a><a id="16138" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="16145" class="CatchallClause"> </a><a id="16146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16146" class="CatchallClause Bound">currentLedger</a><a id="16159" class="CatchallClause"> </a><a id="16160" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16160" class="CatchallClause Bound">executionStack</a><a id="16174" class="CatchallClause"> </a><a id="16175" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16175" class="CatchallClause Bound">initialAddr</a><a id="16186" class="CatchallClause"> </a><a id="16187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16187" class="CatchallClause Bound">lastCallAddr</a><a id="16199" class="CatchallClause"> </a><a id="16200" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16200" class="CatchallClause Bound">calledAddr</a>
                 <a id="16228" class="CatchallClause Symbol">(</a><a id="16229" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="16233" class="CatchallClause"> </a><a id="16234" class="CatchallClause Symbol">(</a><a id="16235" href="Complex-Model.ccomand.ccommands-cresponse.html#550" class="CatchallClause InductiveConstructor">updatec</a><a id="16242" class="CatchallClause"> </a><a id="16243" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16243" class="CatchallClause Bound">changedFname</a><a id="16255" class="CatchallClause"> </a><a id="16256" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16256" class="CatchallClause Bound">changedPufun</a><a id="16268" class="CatchallClause"> </a><a id="16269" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16269" class="CatchallClause Bound">cost</a><a id="16273" class="CatchallClause Symbol">)</a><a id="16274" class="CatchallClause"> </a><a id="16275" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16275" class="CatchallClause Bound">costcomputecont</a><a id="16290" class="CatchallClause"> </a><a id="16291" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16291" class="CatchallClause Bound">cont</a><a id="16295" class="CatchallClause Symbol">)</a>
                 <a id="16314" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16314" class="CatchallClause Bound">gasLeft</a><a id="16321" class="CatchallClause">  </a><a id="16323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16323" class="CatchallClause Bound">funNameevalState</a><a id="16339" class="CatchallClause"> </a><a id="16340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16340" class="CatchallClause Bound">msgevalState</a><a id="16352" class="CatchallClause Symbol">)</a>
       <a id="16361" class="Symbol">=</a> <a id="16363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16269" class="Bound">cost</a> <a id="16368" class="Symbol">(</a><a id="16369" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16146" class="Bound">currentLedger</a> <a id="16383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16200" class="Bound">calledAddr</a> <a id="16394" class="Symbol">.</a><a id="16395" href="libraries.Mainlibrary.html#931" class="Field">purefunction</a> <a id="16408" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16243" class="Bound">changedFname</a><a id="16420" class="Symbol">)</a> <a id="16422" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="16424" class="Symbol">(</a><a id="16425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16275" class="Bound">costcomputecont</a> <a id="16441" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="16443" class="Symbol">)</a>


<a id="16447" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15224" class="CatchallClause Function">stepEFgasNeeded</a><a id="16462" class="CatchallClause"> </a><a id="16463" class="CatchallClause Symbol">(</a><a id="16464" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="16471" class="CatchallClause"> </a><a id="16472" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16472" class="CatchallClause Bound">currentLedger</a><a id="16485" class="CatchallClause"> </a><a id="16486" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16486" class="CatchallClause Bound">executionStack</a><a id="16500" class="CatchallClause"> </a><a id="16501" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16501" class="CatchallClause Bound">initialAddr</a><a id="16512" class="CatchallClause"> </a><a id="16513" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16513" class="CatchallClause Bound">oldlastCallAddr</a><a id="16528" class="CatchallClause"> </a><a id="16529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16529" class="CatchallClause Bound">oldcalledAddr</a>
                 <a id="16560" class="CatchallClause Symbol">(</a><a id="16561" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="16565" class="CatchallClause"> </a><a id="16566" class="CatchallClause Symbol">(</a><a id="16567" href="Complex-Model.ccomand.ccommands-cresponse.html#769" class="CatchallClause InductiveConstructor">callc</a><a id="16572" class="CatchallClause"> </a><a id="16573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16573" class="CatchallClause Bound">newaddr</a><a id="16580" class="CatchallClause"> </a><a id="16581" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16581" class="CatchallClause Bound">fname</a><a id="16586" class="CatchallClause"> </a><a id="16587" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16587" class="CatchallClause Bound">msg</a><a id="16590" class="CatchallClause Symbol">)</a><a id="16591" class="CatchallClause"> </a><a id="16592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16592" class="CatchallClause Bound">costcomputecont</a><a id="16607" class="CatchallClause"> </a><a id="16608" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16608" class="CatchallClause Bound">cont</a><a id="16612" class="CatchallClause Symbol">)</a>
                 <a id="16631" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16631" class="CatchallClause Bound">gasLeft</a><a id="16638" class="CatchallClause">  </a><a id="16640" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16640" class="CatchallClause Bound">funNameevalState</a><a id="16656" class="CatchallClause"> </a><a id="16657" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16657" class="CatchallClause Bound">msgevalState</a><a id="16669" class="CatchallClause Symbol">)</a>
       <a id="16678" class="Symbol">=</a> <a id="16680" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16592" class="Bound">costcomputecont</a> <a id="16696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16587" class="Bound">msg</a>

<a id="16701" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15224" class="CatchallClause Function">stepEFgasNeeded</a><a id="16716" class="CatchallClause"> </a><a id="16717" class="CatchallClause Symbol">(</a><a id="16718" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="16725" class="CatchallClause"> </a><a id="16726" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16726" class="CatchallClause Bound">currentLedger</a><a id="16739" class="CatchallClause"> </a><a id="16740" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16740" class="CatchallClause Bound">executionStack</a><a id="16754" class="CatchallClause"> </a><a id="16755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16755" class="CatchallClause Bound">initialAddr</a><a id="16766" class="CatchallClause"> </a><a id="16767" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16767" class="CatchallClause Bound">lastCallAddr</a><a id="16779" class="CatchallClause"> </a><a id="16780" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16780" class="CatchallClause Bound">calledAddr</a>
                 <a id="16808" class="CatchallClause Symbol">(</a><a id="16809" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="16813" class="CatchallClause"> </a><a id="16814" class="CatchallClause Symbol">(</a><a id="16815" href="Complex-Model.ccomand.ccommands-cresponse.html#723" class="CatchallClause InductiveConstructor">transferc</a><a id="16824" class="CatchallClause"> </a><a id="16825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16825" class="CatchallClause Bound">amount</a><a id="16831" class="CatchallClause"> </a><a id="16832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16832" class="CatchallClause Bound">destinationAddr</a><a id="16847" class="CatchallClause Symbol">)</a><a id="16848" class="CatchallClause"> </a><a id="16849" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16849" class="CatchallClause Bound">costcomputecont</a><a id="16864" class="CatchallClause"> </a><a id="16865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16865" class="CatchallClause Bound">cont</a><a id="16869" class="CatchallClause Symbol">)</a>
                 <a id="16888" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16888" class="CatchallClause Bound">gasLeft</a><a id="16895" class="CatchallClause">  </a><a id="16897" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16897" class="CatchallClause Bound">funNameevalState</a><a id="16913" class="CatchallClause"> </a><a id="16914" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16914" class="CatchallClause Bound">msgevalState</a><a id="16926" class="CatchallClause Symbol">)</a>
       <a id="16935" class="Symbol">=</a> <a id="16937" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16849" class="Bound">costcomputecont</a> <a id="16953" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>

<a id="16957" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15224" class="CatchallClause Function">stepEFgasNeeded</a><a id="16972" class="CatchallClause"> </a><a id="16973" class="CatchallClause Symbol">(</a><a id="16974" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="16981" class="CatchallClause"> </a><a id="16982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16982" class="CatchallClause Bound">currentLedger</a><a id="16995" class="CatchallClause"> </a><a id="16996" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16996" class="CatchallClause Bound">executionStack</a><a id="17010" class="CatchallClause"> </a><a id="17011" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17011" class="CatchallClause Bound">initialAddr</a><a id="17022" class="CatchallClause"> </a><a id="17023" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17023" class="CatchallClause Bound">lastCallAddr</a><a id="17035" class="CatchallClause"> </a><a id="17036" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17036" class="CatchallClause Bound">calledAddr</a>
                 <a id="17064" class="CatchallClause Symbol">(</a><a id="17065" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="17069" class="CatchallClause"> </a><a id="17070" class="CatchallClause Symbol">(</a><a id="17071" href="Complex-Model.ccomand.ccommands-cresponse.html#894" class="CatchallClause InductiveConstructor">getAmountc</a><a id="17081" class="CatchallClause">  </a><a id="17083" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17083" class="CatchallClause Bound">addrLookedUp</a><a id="17095" class="CatchallClause Symbol">)</a><a id="17096" class="CatchallClause"> </a><a id="17097" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17097" class="CatchallClause Bound">costcomputecont</a><a id="17112" class="CatchallClause"> </a><a id="17113" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17113" class="CatchallClause Bound">cont</a><a id="17117" class="CatchallClause Symbol">)</a>
                 <a id="17136" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17136" class="CatchallClause Bound">gasLeft</a><a id="17143" class="CatchallClause">  </a><a id="17145" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17145" class="CatchallClause Bound">funNameevalState</a><a id="17161" class="CatchallClause"> </a><a id="17162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17162" class="CatchallClause Bound">msgevalState</a><a id="17174" class="CatchallClause Symbol">)</a>
       <a id="17183" class="Symbol">=</a> <a id="17185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17097" class="Bound">costcomputecont</a> <a id="17201" class="Symbol">(</a><a id="17202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16982" class="Bound">currentLedger</a> <a id="17216" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17083" class="Bound">addrLookedUp</a> <a id="17229" class="Symbol">.</a><a id="17230" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="17236" class="Symbol">)</a>


<a id="17240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15224" class="CatchallClause Function">stepEFgasNeeded</a><a id="17255" class="CatchallClause"> </a><a id="17256" class="CatchallClause Symbol">(</a><a id="17257" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="17264" class="CatchallClause"> </a><a id="17265" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17265" class="CatchallClause Bound">ledger</a><a id="17271" class="CatchallClause"> </a><a id="17272" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17272" class="CatchallClause Bound">executionStack</a><a id="17286" class="CatchallClause"> </a><a id="17287" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17287" class="CatchallClause Bound">initialAddr</a><a id="17298" class="CatchallClause"> </a><a id="17299" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17299" class="CatchallClause Bound">lastCallAddr</a><a id="17311" class="CatchallClause"> </a><a id="17312" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17312" class="CatchallClause Bound">calledAddr</a>
                 <a id="17340" class="CatchallClause Symbol">(</a><a id="17341" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="17345" class="CatchallClause"> </a><a id="17346" class="CatchallClause Symbol">(</a><a id="17347" href="Complex-Model.ccomand.ccommands-cresponse.html#678" class="CatchallClause InductiveConstructor">raiseException</a><a id="17361" class="CatchallClause"> </a><a id="17362" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17362" class="CatchallClause Bound">cost</a><a id="17366" class="CatchallClause"> </a><a id="17367" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17367" class="CatchallClause Bound">str</a><a id="17370" class="CatchallClause Symbol">)</a><a id="17371" class="CatchallClause"> </a><a id="17372" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17372" class="CatchallClause Bound">costcomputecont</a><a id="17387" class="CatchallClause"> </a><a id="17388" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17388" class="CatchallClause Bound">cont</a><a id="17392" class="CatchallClause Symbol">)</a>
                 <a id="17411" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17411" class="CatchallClause Bound">gasLeft</a><a id="17418" class="CatchallClause"> </a><a id="17419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17419" class="CatchallClause Bound">funNameevalState</a><a id="17435" class="CatchallClause"> </a><a id="17436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17436" class="CatchallClause Bound">msgevalState</a><a id="17448" class="CatchallClause Symbol">)</a>
                 <a id="17467" class="Symbol">=</a> <a id="17469" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17362" class="Bound">cost</a>

<a id="17475" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15224" class="CatchallClause Function">stepEFgasNeeded</a><a id="17490" class="CatchallClause"> </a><a id="17491" class="CatchallClause Symbol">(</a><a id="17492" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="17499" class="CatchallClause"> </a><a id="17500" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17500" class="CatchallClause Bound">currentLedger</a><a id="17513" class="CatchallClause"> </a><a id="17514" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17514" class="CatchallClause Bound">executionStack</a><a id="17528" class="CatchallClause"> </a><a id="17529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17529" class="CatchallClause Bound">initialAddr</a><a id="17540" class="CatchallClause"> </a><a id="17541" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17541" class="CatchallClause Bound">lastCallAddr</a><a id="17553" class="CatchallClause"> </a><a id="17554" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17554" class="CatchallClause Bound">calledAddr</a>
                 <a id="17582" class="CatchallClause Symbol">(</a><a id="17583" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="17587" class="CatchallClause"> </a><a id="17588" class="CatchallClause Symbol">(</a><a id="17589" href="Complex-Model.ccomand.ccommands-cresponse.html#491" class="CatchallClause InductiveConstructor">callPure</a><a id="17597" class="CatchallClause"> </a><a id="17598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17598" class="CatchallClause Bound">addr</a><a id="17602" class="CatchallClause"> </a><a id="17603" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17603" class="CatchallClause Bound">fname</a><a id="17608" class="CatchallClause"> </a><a id="17609" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17609" class="CatchallClause Bound">msg</a><a id="17612" class="CatchallClause Symbol">)</a><a id="17613" class="CatchallClause"> </a><a id="17614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17614" class="CatchallClause Bound">costcompute</a><a id="17625" class="CatchallClause"> </a><a id="17626" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17626" class="CatchallClause Bound">cont</a><a id="17630" class="CatchallClause Symbol">)</a>
                 <a id="17649" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17649" class="CatchallClause Bound">gasLeft</a><a id="17656" class="CatchallClause">  </a><a id="17658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17658" class="CatchallClause Bound">funNameevalState</a><a id="17674" class="CatchallClause"> </a><a id="17675" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17675" class="CatchallClause Bound">msgevalState</a><a id="17687" class="CatchallClause Symbol">)</a>
       <a id="17696" class="Symbol">=</a> <a id="17698" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17614" class="Bound">costcompute</a> <a id="17710" class="Symbol">(</a><a id="17711" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17500" class="Bound">currentLedger</a> <a id="17725" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17554" class="Bound">calledAddr</a> <a id="17736" class="Symbol">.</a><a id="17737" href="libraries.Mainlibrary.html#931" class="Field">purefunction</a> <a id="17750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17603" class="Bound">fname</a> <a id="17756" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17609" class="Bound">msg</a><a id="17759" class="Symbol">)</a>


<a id="17763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15224" class="CatchallClause Function">stepEFgasNeeded</a><a id="17778" class="CatchallClause"> </a><a id="17779" class="CatchallClause Symbol">(</a><a id="17780" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="17787" class="CatchallClause"> </a><a id="17788" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17788" class="CatchallClause Bound">currentLedger</a><a id="17801" class="CatchallClause"> </a><a id="17802" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17802" class="CatchallClause Bound">executionStack</a><a id="17816" class="CatchallClause"> </a><a id="17817" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17817" class="CatchallClause Bound">initialAddr</a><a id="17828" class="CatchallClause"> </a><a id="17829" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17829" class="CatchallClause Bound">lastCallAddr</a><a id="17841" class="CatchallClause"> </a><a id="17842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17842" class="CatchallClause Bound">calledAddr</a>
                 <a id="17870" class="CatchallClause Symbol">(</a><a id="17871" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="CatchallClause InductiveConstructor">error</a><a id="17876" class="CatchallClause"> </a><a id="17877" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17877" class="CatchallClause Bound">errorMsg</a><a id="17885" class="CatchallClause"> </a><a id="17886" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17886" class="CatchallClause Bound">debuginfo</a><a id="17895" class="CatchallClause Symbol">)</a><a id="17896" class="CatchallClause"> </a><a id="17897" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17897" class="CatchallClause Bound">gasLeft</a><a id="17904" class="CatchallClause">  </a><a id="17906" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17906" class="CatchallClause Bound">funNameevalState</a><a id="17922" class="CatchallClause"> </a><a id="17923" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17923" class="CatchallClause Bound">msgevalState</a><a id="17935" class="CatchallClause Symbol">)</a>
       <a id="17944" class="Symbol">=</a> <a id="17946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="17952" class="Symbol">.</a><a id="17953" href="constantparameters.html#665" class="Field">costerror</a> <a id="17963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17877" class="Bound">errorMsg</a>


<a id="17974" class="Comment">--This function we use it to deduct gas from evalstate not ledger</a>
<a id="deductGas"></a><a id="18040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18040" class="Function">deductGas</a> <a id="18050" class="Symbol">:</a>  <a id="18053" class="Symbol">(</a><a id="18054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18054" class="Bound">statefun</a> <a id="18063" class="Symbol">:</a> <a id="18065" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a><a id="18077" class="Symbol">)</a> <a id="18079" class="Symbol">(</a><a id="18080" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18080" class="Bound">gasDeducted</a> <a id="18092" class="Symbol">:</a> <a id="18094" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="18095" class="Symbol">)</a> <a id="18097" class="Symbol">→</a> <a id="18099" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a>
<a id="18112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18040" class="Function">deductGas</a> <a id="18122" class="Symbol">(</a><a id="18123" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="18131" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18131" class="Bound">ledger</a> <a id="18138" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18138" class="Bound">executionStack</a> <a id="18153" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18153" class="Bound">initialAddr</a> <a id="18165" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18165" class="Bound">lastCallAddr</a> <a id="18178" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18178" class="Bound">calledAddr</a> <a id="18189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18189" class="Bound">nextstep</a>
            <a id="18210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18210" class="Bound">gasLeft</a>  <a id="18219" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18219" class="Bound">funNameevalState</a> <a id="18236" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18236" class="Bound">msgevalState</a><a id="18248" class="Symbol">)</a> <a id="18250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18250" class="Bound">gasDeducted</a>
       <a id="18269" class="Symbol">=</a> <a id="18271" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="18279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18131" class="Bound">ledger</a> <a id="18286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18138" class="Bound">executionStack</a> <a id="18301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18153" class="Bound">initialAddr</a> <a id="18313" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18165" class="Bound">lastCallAddr</a> <a id="18326" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18178" class="Bound">calledAddr</a> <a id="18337" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18189" class="Bound">nextstep</a>
       <a id="18353" class="Symbol">(</a><a id="18354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18210" class="Bound">gasLeft</a> <a id="18362" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="18364" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18250" class="Bound">gasDeducted</a><a id="18375" class="Symbol">)</a>  <a id="18378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18219" class="Bound">funNameevalState</a> <a id="18395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18236" class="Bound">msgevalState</a>


<a id="18410" class="Comment">-- this function we use it to cpmare gas in stepEFgasNeeded with stepEFgasAvailable</a>
<a id="stepEFAuxCompare"></a><a id="18494" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18494" class="Function">stepEFAuxCompare</a> <a id="18511" class="Symbol">:</a> <a id="18513" class="Symbol">(</a><a id="18514" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18514" class="Bound">oldLedger</a> <a id="18524" class="Symbol">:</a> <a id="18526" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="18532" class="Symbol">)</a> <a id="18534" class="Symbol">→</a> <a id="18536" class="Symbol">(</a><a id="18537" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18537" class="Bound">statefun</a> <a id="18546" class="Symbol">:</a> <a id="18548" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a><a id="18560" class="Symbol">)</a>
                <a id="18578" class="Symbol">→</a> <a id="18580" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="18592" class="Symbol">(</a><a id="18593" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="18597" class="Symbol">(</a><a id="18598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15224" class="Function">stepEFgasNeeded</a> <a id="18614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18537" class="Bound">statefun</a><a id="18622" class="Symbol">))(</a><a id="18625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14911" class="Function">stepEFgasAvailable</a> <a id="18644" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18537" class="Bound">statefun</a><a id="18652" class="Symbol">)</a>
                <a id="18670" class="Symbol">→</a> <a id="18672" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a>
<a id="18685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18494" class="Function">stepEFAuxCompare</a> <a id="18702" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18702" class="Bound">oldLedger</a> <a id="18712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18712" class="Bound">statefun</a> <a id="18721" class="Symbol">(</a><a id="18722" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="18726" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18726" class="Bound">x</a><a id="18727" class="Symbol">)</a> <a id="18729" class="Symbol">=</a> <a id="18731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18040" class="Function">deductGas</a> <a id="18741" class="Symbol">(</a><a id="18742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7417" class="Function">stepEF</a> <a id="18749" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18702" class="Bound">oldLedger</a> <a id="18759" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18712" class="Bound">statefun</a><a id="18767" class="Symbol">)</a> <a id="18769" class="Symbol">(</a><a id="18770" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="18774" class="Symbol">(</a><a id="18775" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15224" class="Function">stepEFgasNeeded</a> <a id="18791" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18712" class="Bound">statefun</a><a id="18799" class="Symbol">))</a>
<a id="18802" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18494" class="Function">stepEFAuxCompare</a> <a id="18819" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18819" class="Bound">oldLedger</a> <a id="18829" class="Symbol">(</a><a id="18830" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="18838" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18838" class="Bound">ledger</a> <a id="18845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18845" class="Bound">executionStack</a> <a id="18860" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18860" class="Bound">initialAddr</a> <a id="18872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18872" class="Bound">lastCallAddr</a> <a id="18885" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18885" class="Bound">calledAddr</a> <a id="18896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18896" class="Bound">nextstep</a>
                 <a id="18922" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18922" class="Bound">gasLeft</a>  <a id="18931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18931" class="Bound">funNameevalState</a> <a id="18948" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18948" class="Bound">msgevalState</a><a id="18960" class="Symbol">)</a> <a id="18962" class="Symbol">(</a><a id="18963" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="18971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18971" class="Bound">x</a><a id="18972" class="Symbol">)</a>
        <a id="18982" class="Symbol">=</a> <a id="18984" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="18992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18819" class="Bound">oldLedger</a> <a id="19002" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18845" class="Bound">executionStack</a> <a id="19017" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18860" class="Bound">initialAddr</a> <a id="19029" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18872" class="Bound">lastCallAddr</a> <a id="19042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18885" class="Bound">calledAddr</a> <a id="19053" class="Symbol">(</a><a id="19054" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="InductiveConstructor">error</a> <a id="19060" href="basicDataStructure.html#776" class="InductiveConstructor">outOfGasError</a>
            <a id="19086" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="19088" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18872" class="Bound">lastCallAddr</a> <a id="19101" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="19104" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18860" class="Bound">initialAddr</a> <a id="19116" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="19118" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18931" class="Bound">funNameevalState</a> <a id="19135" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="19137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18948" class="Bound">msgevalState</a> <a id="19150" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="19152" class="Symbol">)</a> <a id="19154" class="Number">0</a>
            <a id="19168" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18931" class="Bound">funNameevalState</a> <a id="19185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18948" class="Bound">msgevalState</a>


<a id="stepEFwithGasError"></a><a id="19200" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19200" class="Function">stepEFwithGasError</a> <a id="19219" class="Symbol">:</a> <a id="19221" class="Symbol">(</a><a id="19222" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19222" class="Bound">oldLedger</a> <a id="19232" class="Symbol">:</a> <a id="19234" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="19240" class="Symbol">)</a> <a id="19242" class="Symbol">→</a> <a id="19244" class="Symbol">(</a><a id="19245" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19245" class="Bound">evals</a> <a id="19251" class="Symbol">:</a> <a id="19253" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a><a id="19265" class="Symbol">)</a> <a id="19267" class="Symbol">→</a> <a id="19269" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a>
<a id="19282" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19200" class="Function">stepEFwithGasError</a> <a id="19301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19301" class="Bound">oldLedger</a> <a id="19311" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19311" class="Bound">evals</a>  <a id="19318" class="Symbol">=</a> <a id="19320" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18494" class="Function">stepEFAuxCompare</a> <a id="19337" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19301" class="Bound">oldLedger</a> <a id="19347" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19311" class="Bound">evals</a>
                                      <a id="19391" class="Symbol">(</a><a id="19392" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="19403" class="Symbol">(</a><a id="19404" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="19408" class="Symbol">(</a><a id="19409" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15224" class="Function">stepEFgasNeeded</a> <a id="19425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19311" class="Bound">evals</a><a id="19430" class="Symbol">))</a>
                                      <a id="19471" class="Symbol">(</a><a id="19472" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14911" class="Function">stepEFgasAvailable</a> <a id="19491" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19311" class="Bound">evals</a><a id="19496" class="Symbol">))</a>



<a id="19502" class="Comment">-- definition of stepEFntimes</a>
<a id="stepEFntimes"></a><a id="19532" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19532" class="Function">stepEFntimes</a> <a id="19545" class="Symbol">:</a> <a id="19547" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a> <a id="19554" class="Symbol">→</a> <a id="19556" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a> <a id="19569" class="Symbol">→</a> <a id="19571" class="Symbol">(</a><a id="19572" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19572" class="Bound">ntimes</a> <a id="19579" class="Symbol">:</a> <a id="19581" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="19582" class="Symbol">)</a> <a id="19584" class="Symbol">→</a> <a id="19586" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a>
<a id="19599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19532" class="Function">stepEFntimes</a> <a id="19612" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19612" class="Bound">oldLedger</a> <a id="19622" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19622" class="Bound">ledgerstateexecfun</a> <a id="19641" class="Number">0</a>
             <a id="19656" class="Symbol">=</a> <a id="19658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19622" class="Bound">ledgerstateexecfun</a>
<a id="19677" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19532" class="Function">stepEFntimes</a> <a id="19690" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19690" class="Bound">oldLedger</a> <a id="19700" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19700" class="Bound">ledgerstateexecfun</a> <a id="19719" class="Symbol">(</a><a id="19720" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="19724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19724" class="Bound">n</a><a id="19725" class="Symbol">)</a>
             <a id="19740" class="Symbol">=</a> <a id="19742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19200" class="Function">stepEFwithGasError</a> <a id="19761" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19690" class="Bound">oldLedger</a> <a id="19771" class="Symbol">(</a><a id="19772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19532" class="Function">stepEFntimes</a> <a id="19785" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19690" class="Bound">oldLedger</a> <a id="19795" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19700" class="Bound">ledgerstateexecfun</a> <a id="19814" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19724" class="Bound">n</a><a id="19815" class="Symbol">)</a>

<a id="19818" class="Comment">-- definition of stepEFntimes list</a>
<a id="stepEFntimesList"></a><a id="19853" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19853" class="Function">stepEFntimesList</a> <a id="19870" class="Symbol">:</a> <a id="19872" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a> <a id="19879" class="Symbol">→</a> <a id="19881" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a> <a id="19894" class="Symbol">→</a> <a id="19896" class="Symbol">(</a><a id="19897" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19897" class="Bound">ntimes</a> <a id="19904" class="Symbol">:</a> <a id="19906" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="19907" class="Symbol">)</a> <a id="19909" class="Symbol">→</a> <a id="19911" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="19916" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a>
<a id="19929" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19853" class="Function">stepEFntimesList</a> <a id="19946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19946" class="Bound">oldLedger</a> <a id="19956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19956" class="Bound">ledgerstateexecfun</a> <a id="19975" class="Number">0</a>
                 <a id="19994" class="Symbol">=</a> <a id="19996" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19956" class="Bound">ledgerstateexecfun</a> <a id="20015" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="20017" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="20020" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19853" class="Function">stepEFntimesList</a> <a id="20037" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20037" class="Bound">oldLedger</a> <a id="20047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20047" class="Bound">ledgerstateexecfun</a> <a id="20066" class="Symbol">(</a><a id="20067" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="20071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20071" class="Bound">n</a><a id="20072" class="Symbol">)</a>
                 <a id="20091" class="Symbol">=</a> <a id="20093" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19532" class="Function">stepEFntimes</a> <a id="20106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20037" class="Bound">oldLedger</a> <a id="20116" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20047" class="Bound">ledgerstateexecfun</a> <a id="20135" class="Symbol">(</a><a id="20136" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="20140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20071" class="Bound">n</a><a id="20141" class="Symbol">)</a>
                   <a id="20162" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="20164" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19853" class="Function">stepEFntimesList</a> <a id="20181" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20037" class="Bound">oldLedger</a> <a id="20191" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20047" class="Bound">ledgerstateexecfun</a> <a id="20210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20071" class="Bound">n</a>

<a id="20213" class="Comment">--this function below we use it to refund as a part of septEF</a>
<a id="20275" class="Comment">---- we use stepEFwithGasError instead of stepEF in refund and stepEFntimesWithRefund</a>
<a id="refund"></a><a id="20361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20361" class="Function">refund</a> <a id="20368" class="Symbol">:</a> <a id="20370" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a> <a id="20383" class="Symbol">→</a> <a id="20385" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a>
<a id="20398" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20361" class="Function">refund</a> <a id="20405" class="Symbol">(</a><a id="20406" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="20414" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20414" class="Bound">currentLedger</a> <a id="20428" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="20431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20431" class="Bound">initialAddr</a> <a id="20443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20443" class="Bound">lastCallAddr</a> <a id="20456" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20456" class="Bound">calledAddr</a> <a id="20467" class="Symbol">(</a><a id="20468" href="Complex-Model.ccomand.ccommands-cresponse.html#1557" class="InductiveConstructor">return</a> <a id="20475" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20475" class="Bound">cost</a> <a id="20480" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20480" class="Bound">result</a><a id="20486" class="Symbol">)</a>
        <a id="20496" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20496" class="Bound">gasLeft</a>  <a id="20505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20505" class="Bound">funNameevalState</a> <a id="20522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20522" class="Bound">msgevalState</a><a id="20534" class="Symbol">)</a>
            <a id="20548" class="Symbol">=</a> <a id="20550" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="20558" class="Symbol">(</a><a id="20559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2965" class="Function">addWeiToLedger</a> <a id="20574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20414" class="Bound">currentLedger</a> <a id="20588" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20443" class="Bound">lastCallAddr</a> <a id="20601" class="Symbol">(</a><a id="20602" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="20611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="20617" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20496" class="Bound">gasLeft</a><a id="20624" class="Symbol">))</a>
              <a id="20641" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="20644" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20431" class="Bound">initialAddr</a> <a id="20656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20443" class="Bound">lastCallAddr</a> <a id="20669" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20456" class="Bound">calledAddr</a> <a id="20680" class="Symbol">(</a><a id="20681" href="Complex-Model.ccomand.ccommands-cresponse.html#1557" class="InductiveConstructor">return</a> <a id="20688" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20475" class="Bound">cost</a> <a id="20693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20480" class="Bound">result</a><a id="20699" class="Symbol">)</a>
               <a id="20716" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20496" class="Bound">gasLeft</a> <a id="20724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20505" class="Bound">funNameevalState</a> <a id="20741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20522" class="Bound">msgevalState</a>
<a id="20754" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20361" class="CatchallClause Function">refund</a><a id="20760" class="CatchallClause"> </a><a id="20761" class="CatchallClause Symbol">(</a><a id="20762" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="20769" class="CatchallClause"> </a><a id="20770" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20770" class="CatchallClause Bound">currentLedger</a><a id="20783" class="CatchallClause"> </a><a id="20784" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20784" class="CatchallClause Bound">executionStack</a><a id="20798" class="CatchallClause"> </a><a id="20799" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20799" class="CatchallClause Bound">initialAddr</a><a id="20810" class="CatchallClause"> </a><a id="20811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20811" class="CatchallClause Bound">lastCallAddr</a><a id="20823" class="CatchallClause"> </a><a id="20824" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20824" class="CatchallClause Bound">calledAddr</a>
       <a id="20842" class="CatchallClause Symbol">(</a><a id="20843" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="CatchallClause InductiveConstructor">error</a><a id="20848" class="CatchallClause"> </a><a id="20849" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20849" class="CatchallClause Bound">errorMsg</a><a id="20857" class="CatchallClause"> </a><a id="20858" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20858" class="CatchallClause Bound">debugInfo</a><a id="20867" class="CatchallClause Symbol">)</a><a id="20868" class="CatchallClause"> </a><a id="20869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20869" class="CatchallClause Bound">gasLeft</a><a id="20876" class="CatchallClause">  </a><a id="20878" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20878" class="CatchallClause Bound">funNameevalState</a><a id="20894" class="CatchallClause"> </a><a id="20895" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20895" class="CatchallClause Bound">msgevalState</a><a id="20907" class="CatchallClause Symbol">)</a>
            <a id="20921" class="Symbol">=</a> <a id="20923" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="20931" class="Symbol">(</a><a id="20932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2965" class="Function">addWeiToLedger</a> <a id="20947" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20770" class="Bound">currentLedger</a>  <a id="20962" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20811" class="Bound">lastCallAddr</a> <a id="20975" class="Symbol">(</a><a id="20976" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="20985" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="20991" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20869" class="Bound">gasLeft</a><a id="20998" class="Symbol">))</a>
              <a id="21015" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20784" class="Bound">executionStack</a> <a id="21030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20799" class="Bound">initialAddr</a> <a id="21042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20811" class="Bound">lastCallAddr</a> <a id="21055" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20824" class="Bound">calledAddr</a>
              <a id="21080" class="Symbol">(</a><a id="21081" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="InductiveConstructor">error</a> <a id="21087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20849" class="Bound">errorMsg</a> <a id="21096" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20858" class="Bound">debugInfo</a><a id="21105" class="Symbol">)</a> <a id="21107" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20869" class="Bound">gasLeft</a>
               <a id="21130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20878" class="Bound">funNameevalState</a> <a id="21147" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20895" class="Bound">msgevalState</a>
<a id="21160" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20361" class="CatchallClause Function">refund</a><a id="21166" class="CatchallClause"> </a><a id="21167" class="CatchallClause Symbol">(</a><a id="21168" href="libraries.Mainlibrary.html#2150" class="CatchallClause InductiveConstructor">stateEF</a><a id="21175" class="CatchallClause"> </a><a id="21176" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21176" class="CatchallClause Bound">ledger</a><a id="21182" class="CatchallClause"> </a><a id="21183" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21183" class="CatchallClause Bound">executionStack</a><a id="21197" class="CatchallClause"> </a><a id="21198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21198" class="CatchallClause Bound">initialAddr</a><a id="21209" class="CatchallClause"> </a><a id="21210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21210" class="CatchallClause Bound">lastCallAddr</a><a id="21222" class="CatchallClause"> </a><a id="21223" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21223" class="CatchallClause Bound">calledAddr</a>
        <a id="21242" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21242" class="CatchallClause Bound">nextstep</a><a id="21250" class="CatchallClause"> </a><a id="21251" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21251" class="CatchallClause Bound">gasLeft</a><a id="21258" class="CatchallClause">  </a><a id="21260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21260" class="CatchallClause Bound">funNameevalState</a><a id="21276" class="CatchallClause"> </a><a id="21277" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21277" class="CatchallClause Bound">msgevalState</a><a id="21289" class="CatchallClause Symbol">)</a>
            <a id="21303" class="Symbol">=</a> <a id="21305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19200" class="Function">stepEFwithGasError</a> <a id="21324" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21176" class="Bound">ledger</a> <a id="21331" class="Symbol">(</a><a id="21332" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="21340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21176" class="Bound">ledger</a> <a id="21347" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21183" class="Bound">executionStack</a>
              <a id="21376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21198" class="Bound">initialAddr</a> <a id="21388" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21210" class="Bound">lastCallAddr</a> <a id="21401" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21223" class="Bound">calledAddr</a> <a id="21412" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21242" class="Bound">nextstep</a> <a id="21421" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21251" class="Bound">gasLeft</a>
                <a id="21445" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21260" class="Bound">funNameevalState</a> <a id="21462" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21277" class="Bound">msgevalState</a><a id="21474" class="Symbol">)</a>


<a id="stepEFntimesWithRefund"></a><a id="21478" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21478" class="Function">stepEFntimesWithRefund</a> <a id="21501" class="Symbol">:</a> <a id="21503" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a> <a id="21510" class="Symbol">→</a> <a id="21512" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a> <a id="21525" class="Symbol">→</a> <a id="21527" class="Symbol">(</a><a id="21528" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21528" class="Bound">ntimes</a> <a id="21535" class="Symbol">:</a> <a id="21537" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="21538" class="Symbol">)</a> <a id="21540" class="Symbol">→</a> <a id="21542" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a>
<a id="21555" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21478" class="Function">stepEFntimesWithRefund</a> <a id="21578" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21578" class="Bound">oldLedger</a> <a id="21588" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21588" class="Bound">ledgerstateexecfun</a> <a id="21607" class="Number">0</a>
                       <a id="21632" class="Symbol">=</a> <a id="21634" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21588" class="Bound">ledgerstateexecfun</a>
<a id="21653" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21478" class="Function">stepEFntimesWithRefund</a> <a id="21676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21676" class="Bound">oldLedger</a> <a id="21686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21686" class="Bound">ledgerstateexecfun</a> <a id="21705" class="Symbol">(</a><a id="21706" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="21710" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21710" class="Bound">n</a><a id="21711" class="Symbol">)</a>
                       <a id="21736" class="Symbol">=</a> <a id="21738" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20361" class="Function">refund</a> <a id="21745" class="Symbol">(</a><a id="21746" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19532" class="Function">stepEFntimes</a> <a id="21759" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21676" class="Bound">oldLedger</a> <a id="21769" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21686" class="Bound">ledgerstateexecfun</a> <a id="21788" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21710" class="Bound">n</a><a id="21789" class="Symbol">)</a>


<a id="21793" class="Comment">---## similar to above but we use it with the new version of stepEFwithGasError</a>
<a id="21873" class="Comment">--initialAddr lastCallAddr calledAddr</a>
<a id="stepLedgerFunntimesAux"></a><a id="21911" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21911" class="Function">stepLedgerFunntimesAux</a> <a id="21934" class="Symbol">:</a> <a id="21936" class="Symbol">(</a><a id="21937" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21937" class="Bound">ledger</a> <a id="21944" class="Symbol">:</a> <a id="21946" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="21952" class="Symbol">)</a> <a id="21954" class="Symbol">→</a> <a id="21956" class="Symbol">(</a><a id="21957" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21957" class="Bound">initialAddr</a> <a id="21969" class="Symbol">:</a> <a id="21971" href="basicDataStructure.html#405" class="Function">Address</a><a id="21978" class="Symbol">)</a> <a id="21980" class="Symbol">→</a> <a id="21982" class="Symbol">(</a><a id="21983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21983" class="Bound">lastCallAddr</a> <a id="21996" class="Symbol">:</a> <a id="21998" href="basicDataStructure.html#405" class="Function">Address</a><a id="22005" class="Symbol">)</a> <a id="22007" class="Symbol">→</a> <a id="22009" class="Symbol">(</a><a id="22010" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22010" class="Bound">calledAddr</a> <a id="22021" class="Symbol">:</a> <a id="22023" href="basicDataStructure.html#405" class="Function">Address</a><a id="22030" class="Symbol">)</a> <a id="22032" class="Symbol">→</a> <a id="22034" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                        <a id="22071" class="Symbol">→</a> <a id="22073" href="basicDataStructure.html#523" class="Datatype">Msg</a>  <a id="22078" class="Symbol">→</a> <a id="22080" class="Symbol">(</a><a id="22081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22081" class="Bound">gascost</a> <a id="22089" class="Symbol">:</a> <a id="22091" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="22092" class="Symbol">)</a>  <a id="22095" class="Symbol">→</a> <a id="22097" class="Symbol">(</a><a id="22098" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22098" class="Bound">ntimes</a> <a id="22105" class="Symbol">:</a> <a id="22107" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="22108" class="Symbol">)</a>
                        <a id="22134" class="Symbol">→</a> <a id="22136" class="Symbol">(</a><a id="22137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22137" class="Bound">cp</a>  <a id="22141" class="Symbol">:</a> <a id="22143" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="22155" class="Symbol">(</a><a id="22156" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="22165" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="22171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22081" class="Bound">gascost</a><a id="22178" class="Symbol">)</a> <a id="22180" class="Symbol">(</a><a id="22181" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21937" class="Bound">ledger</a> <a id="22188" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21983" class="Bound">lastCallAddr</a> <a id="22201" class="Symbol">.</a><a id="22202" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="22208" class="Symbol">))</a>
                        <a id="22235" class="Symbol">→</a> <a id="22237" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="22243" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a>
<a id="22256" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21911" class="Function">stepLedgerFunntimesAux</a> <a id="22279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22279" class="Bound">ledger</a> <a id="22286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22286" class="Bound">initialAddr</a> <a id="22298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22298" class="Bound">lastCallAddr</a> <a id="22311" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22311" class="Bound">calledAddr</a> <a id="22322" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22322" class="Bound">funname</a> <a id="22330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22330" class="Bound">msg</a> <a id="22334" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22334" class="Bound">gascost</a>  <a id="22343" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22343" class="Bound">ntimes</a>  <a id="22351" class="Symbol">(</a><a id="22352" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="22356" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22356" class="Bound">leqpro</a><a id="22362" class="Symbol">)</a>
                             <a id="22393" class="Symbol">=</a> <a id="22395" class="Keyword">let</a>
                                 <a id="22432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22432" class="Bound">ledgerDeducted</a> <a id="22447" class="Symbol">:</a> <a id="22449" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a>
                                 <a id="22489" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22432" class="Bound">ledgerDeducted</a> <a id="22504" class="Symbol">=</a> <a id="22506" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2212" class="Function">deductGasFromLedger</a> <a id="22526" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22279" class="Bound">ledger</a> <a id="22533" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22298" class="Bound">lastCallAddr</a> <a id="22546" class="Symbol">(</a><a id="22547" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="22556" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="22562" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22334" class="Bound">gascost</a><a id="22569" class="Symbol">)</a> <a id="22571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22356" class="Bound">leqpro</a>
                               <a id="22609" class="Keyword">in</a> <a id="22612" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="22617" class="Symbol">(</a><a id="22618" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19532" class="Function">stepEFntimes</a> <a id="22631" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22432" class="Bound">ledgerDeducted</a>
                               <a id="22677" class="Symbol">(</a><a id="22678" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="22686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22432" class="Bound">ledgerDeducted</a> <a id="22701" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="22704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22286" class="Bound">initialAddr</a> <a id="22716" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22298" class="Bound">lastCallAddr</a> <a id="22729" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22311" class="Bound">calledAddr</a>
                               <a id="22771" class="Symbol">(</a><a id="22772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22432" class="Bound">ledgerDeducted</a> <a id="22787" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22311" class="Bound">calledAddr</a> <a id="22798" class="Symbol">.</a><a id="22799" href="libraries.Mainlibrary.html#865" class="Field">fun</a> <a id="22803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22322" class="Bound">funname</a> <a id="22811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22330" class="Bound">msg</a><a id="22814" class="Symbol">)</a>
                               <a id="22847" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22334" class="Bound">gascost</a> <a id="22855" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22322" class="Bound">funname</a> <a id="22863" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22330" class="Bound">msg</a><a id="22866" class="Symbol">)</a>
                               <a id="22899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22343" class="Bound">ntimes</a><a id="22905" class="Symbol">)</a>

<a id="22908" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21911" class="Function">stepLedgerFunntimesAux</a> <a id="22931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22931" class="Bound">ledger</a> <a id="22938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22938" class="Bound">initialAddr</a> <a id="22950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22950" class="Bound">lastCallAddr</a> <a id="22963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22963" class="Bound">calledAddr</a> <a id="22974" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22974" class="Bound">funname</a> <a id="22982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22982" class="Bound">msg</a> <a id="22986" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22986" class="Bound">gascost</a> <a id="22994" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22994" class="Bound">ntimes</a> <a id="23001" class="Symbol">(</a><a id="23002" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="23010" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23010" class="Bound">greaterpro</a><a id="23020" class="Symbol">)</a>
                             <a id="23051" class="Symbol">=</a> <a id="23053" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>

<a id="23062" class="Comment">--stepLedgerFunntimesAux ledger callAddr currentAddr funname msg gasreserved ntimes</a>
<a id="23146" class="Comment">--                       (compareLeq (GastoWei param gasreserved) (ledger callAddr .amount))</a>
<a id="23239" class="Comment">-- NNN here we need before running stepEFntimes  deduct the gas from ledger</a>
<a id="23315" class="Comment">-- NNN    it needs as argument just one gas parameter which is set to both oldgas and newgas</a>
<a id="23408" class="Comment">-- NNN    if there is not enough money in the account, then we should fail (not an error but fail)</a>
<a id="23507" class="Comment">-- NNN    so return type  should be Maybe EvalState</a>

<a id="stepLedgerFunntimes"></a><a id="23560" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23560" class="Function">stepLedgerFunntimes</a> <a id="23580" class="Symbol">:</a> <a id="23582" class="Symbol">(</a><a id="23583" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23583" class="Bound">ledger</a> <a id="23590" class="Symbol">:</a> <a id="23592" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="23598" class="Symbol">)</a>
                      <a id="23622" class="Symbol">→</a> <a id="23624" class="Symbol">(</a><a id="23625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23625" class="Bound">initialAddr</a> <a id="23637" class="Symbol">:</a> <a id="23639" href="basicDataStructure.html#405" class="Function">Address</a><a id="23646" class="Symbol">)</a>
                      <a id="23670" class="Symbol">→</a> <a id="23672" class="Symbol">(</a><a id="23673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23673" class="Bound">lastCallAddr</a> <a id="23686" class="Symbol">:</a> <a id="23688" href="basicDataStructure.html#405" class="Function">Address</a><a id="23695" class="Symbol">)</a>
                      <a id="23719" class="Symbol">→</a> <a id="23721" class="Symbol">(</a><a id="23722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23722" class="Bound">calledAddr</a> <a id="23733" class="Symbol">:</a> <a id="23735" href="basicDataStructure.html#405" class="Function">Address</a><a id="23742" class="Symbol">)</a>
                      <a id="23766" class="Symbol">→</a> <a id="23768" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                      <a id="23803" class="Symbol">→</a> <a id="23805" href="basicDataStructure.html#523" class="Datatype">Msg</a>
                      <a id="23831" class="Symbol">→</a> <a id="23833" class="Symbol">(</a><a id="23834" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23834" class="Bound">gasreserved</a> <a id="23846" class="Symbol">:</a> <a id="23848" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="23849" class="Symbol">)</a>
                      <a id="23873" class="Symbol">→</a> <a id="23875" class="Symbol">(</a><a id="23876" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23876" class="Bound">ntimes</a> <a id="23883" class="Symbol">:</a> <a id="23885" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="23886" class="Symbol">)</a>
                      <a id="23910" class="Symbol">→</a> <a id="23912" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="23918" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a>
<a id="23931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23560" class="Function">stepLedgerFunntimes</a> <a id="23951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23951" class="Bound">ledger</a> <a id="23958" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23958" class="Bound">initialAddr</a> <a id="23970" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23970" class="Bound">lastCallAddr</a> <a id="23983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23983" class="Bound">calledAddr</a> <a id="23994" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23994" class="Bound">funname</a> <a id="24002" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24002" class="Bound">msg</a> <a id="24006" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24006" class="Bound">gasreserved</a>  <a id="24019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24019" class="Bound">ntimes</a>
                     <a id="24047" class="Symbol">=</a> <a id="24049" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21911" class="Function">stepLedgerFunntimesAux</a> <a id="24072" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23951" class="Bound">ledger</a> <a id="24079" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23958" class="Bound">initialAddr</a> <a id="24091" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23970" class="Bound">lastCallAddr</a> <a id="24104" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23983" class="Bound">calledAddr</a>
                       <a id="24138" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23994" class="Bound">funname</a> <a id="24146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24002" class="Bound">msg</a> <a id="24150" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24006" class="Bound">gasreserved</a>  <a id="24163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24019" class="Bound">ntimes</a>
                       <a id="24193" class="Symbol">(</a><a id="24194" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="24205" class="Symbol">(</a><a id="24206" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="24215" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="24221" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24006" class="Bound">gasreserved</a><a id="24232" class="Symbol">)</a> <a id="24234" class="Symbol">(</a><a id="24235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23951" class="Bound">ledger</a> <a id="24242" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23970" class="Bound">lastCallAddr</a> <a id="24255" class="Symbol">.</a><a id="24256" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="24262" class="Symbol">))</a>


<a id="24267" class="Comment">--with list</a>
<a id="stepLedgerFunntimesListAux"></a><a id="24279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24279" class="Function">stepLedgerFunntimesListAux</a> <a id="24306" class="Symbol">:</a> <a id="24308" class="Symbol">(</a><a id="24309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24309" class="Bound">ledger</a> <a id="24316" class="Symbol">:</a> <a id="24318" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="24324" class="Symbol">)</a>
                           <a id="24353" class="Symbol">→</a> <a id="24355" class="Symbol">(</a><a id="24356" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24356" class="Bound">initialAddr</a> <a id="24368" class="Symbol">:</a> <a id="24370" href="basicDataStructure.html#405" class="Function">Address</a><a id="24377" class="Symbol">)</a>
                           <a id="24406" class="Symbol">→</a> <a id="24408" class="Symbol">(</a><a id="24409" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24409" class="Bound">lastCallAddr</a> <a id="24422" class="Symbol">:</a> <a id="24424" href="basicDataStructure.html#405" class="Function">Address</a><a id="24431" class="Symbol">)</a>
                           <a id="24460" class="Symbol">→</a> <a id="24462" class="Symbol">(</a><a id="24463" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24463" class="Bound">calledAddr</a> <a id="24474" class="Symbol">:</a> <a id="24476" href="basicDataStructure.html#405" class="Function">Address</a><a id="24483" class="Symbol">)</a>
                           <a id="24512" class="Symbol">→</a> <a id="24514" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                           <a id="24554" class="Symbol">→</a> <a id="24556" href="basicDataStructure.html#523" class="Datatype">Msg</a>
                           <a id="24587" class="Symbol">→</a> <a id="24589" class="Symbol">(</a><a id="24590" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24590" class="Bound">gasreserved</a> <a id="24602" class="Symbol">:</a> <a id="24604" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="24605" class="Symbol">)</a>
                           <a id="24634" class="Symbol">→</a> <a id="24636" class="Symbol">(</a><a id="24637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24637" class="Bound">ntimes</a> <a id="24644" class="Symbol">:</a> <a id="24646" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="24647" class="Symbol">)</a>
                           <a id="24676" class="Symbol">→</a> <a id="24678" class="Symbol">(</a><a id="24679" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24679" class="Bound">cp</a>  <a id="24683" class="Symbol">:</a> <a id="24685" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="24697" class="Symbol">(</a><a id="24698" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="24707" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="24713" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24590" class="Bound">gasreserved</a><a id="24724" class="Symbol">)</a> <a id="24726" class="Symbol">(</a><a id="24727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24309" class="Bound">ledger</a> <a id="24734" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24409" class="Bound">lastCallAddr</a> <a id="24747" class="Symbol">.</a><a id="24748" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="24754" class="Symbol">))</a>
                           <a id="24784" class="Symbol">→</a> <a id="24786" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="24792" class="Symbol">(</a><a id="24793" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="24798" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a><a id="24810" class="Symbol">)</a>
<a id="24812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24279" class="Function">stepLedgerFunntimesListAux</a> <a id="24839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24839" class="Bound">ledger</a> <a id="24846" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24846" class="Bound">initialAddr</a> <a id="24858" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24858" class="Bound">lastCallAddr</a> <a id="24871" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24871" class="Bound">calledAddr</a> <a id="24882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24882" class="Bound">funname</a> <a id="24890" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24890" class="Bound">msg</a> <a id="24894" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24894" class="Bound">gasreserved</a>  <a id="24907" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24907" class="Bound">ntimes</a> <a id="24914" class="Symbol">(</a><a id="24915" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="24919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24919" class="Bound">leqpro</a><a id="24925" class="Symbol">)</a>
                            <a id="24955" class="Symbol">=</a> <a id="24957" class="Keyword">let</a>
                               <a id="24992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24992" class="Bound">ledgerDeducted</a> <a id="25007" class="Symbol">:</a> <a id="25009" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a>
                               <a id="25047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24992" class="Bound">ledgerDeducted</a> <a id="25062" class="Symbol">=</a> <a id="25064" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2212" class="Function">deductGasFromLedger</a> <a id="25084" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24839" class="Bound">ledger</a> <a id="25091" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24858" class="Bound">lastCallAddr</a> <a id="25104" class="Symbol">(</a><a id="25105" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="25114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="25120" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24894" class="Bound">gasreserved</a><a id="25131" class="Symbol">)</a> <a id="25133" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24919" class="Bound">leqpro</a>
                            <a id="25168" class="Keyword">in</a>
                              <a id="25201" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="25206" class="Symbol">(</a><a id="25207" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19853" class="Function">stepEFntimesList</a> <a id="25224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24992" class="Bound">ledgerDeducted</a>
                                   <a id="25274" class="Symbol">(</a><a id="25275" href="libraries.Mainlibrary.html#2150" class="InductiveConstructor">stateEF</a> <a id="25283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24992" class="Bound">ledgerDeducted</a> <a id="25298" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="25301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24846" class="Bound">initialAddr</a> <a id="25313" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24858" class="Bound">lastCallAddr</a> <a id="25326" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24871" class="Bound">calledAddr</a>
                                   <a id="25372" class="Symbol">(</a><a id="25373" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24992" class="Bound">ledgerDeducted</a> <a id="25388" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24871" class="Bound">calledAddr</a> <a id="25399" class="Symbol">.</a><a id="25400" href="libraries.Mainlibrary.html#865" class="Field">fun</a> <a id="25404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24882" class="Bound">funname</a> <a id="25412" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24890" class="Bound">msg</a><a id="25415" class="Symbol">)</a> <a id="25417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24894" class="Bound">gasreserved</a> <a id="25429" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24882" class="Bound">funname</a> <a id="25437" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24890" class="Bound">msg</a><a id="25440" class="Symbol">)</a> <a id="25442" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24907" class="Bound">ntimes</a><a id="25448" class="Symbol">)</a>
<a id="25450" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24279" class="Function">stepLedgerFunntimesListAux</a> <a id="25477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25477" class="Bound">ledger</a> <a id="25484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25484" class="Bound">initialAddr</a> <a id="25496" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25496" class="Bound">lastCallAddr</a> <a id="25509" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25509" class="Bound">calledAddr</a> <a id="25520" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25520" class="Bound">funname</a> <a id="25528" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25528" class="Bound">msg</a> <a id="25532" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25532" class="Bound">gasreserved</a> <a id="25544" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25544" class="Bound">ntimes</a> <a id="25551" class="Symbol">(</a><a id="25552" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="25560" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25560" class="Bound">greaterpro</a><a id="25570" class="Symbol">)</a>
                            <a id="25600" class="Symbol">=</a> <a id="25602" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>


<a id="stepLedgerFunntimesList"></a><a id="25612" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25612" class="Function">stepLedgerFunntimesList</a> <a id="25636" class="Symbol">:</a> <a id="25638" class="Symbol">(</a><a id="25639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25639" class="Bound">ledger</a> <a id="25646" class="Symbol">:</a> <a id="25648" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="25654" class="Symbol">)</a>
                          <a id="25682" class="Symbol">→</a> <a id="25684" class="Symbol">(</a><a id="25685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25685" class="Bound">initialAddr</a> <a id="25697" class="Symbol">:</a> <a id="25699" href="basicDataStructure.html#405" class="Function">Address</a><a id="25706" class="Symbol">)</a>
                          <a id="25734" class="Symbol">→</a> <a id="25736" class="Symbol">(</a><a id="25737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25737" class="Bound">lastCallAddr</a> <a id="25750" class="Symbol">:</a> <a id="25752" href="basicDataStructure.html#405" class="Function">Address</a><a id="25759" class="Symbol">)</a>
                          <a id="25787" class="Symbol">→</a> <a id="25789" class="Symbol">(</a><a id="25790" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25790" class="Bound">calledAddr</a> <a id="25801" class="Symbol">:</a> <a id="25803" href="basicDataStructure.html#405" class="Function">Address</a><a id="25810" class="Symbol">)</a>
                          <a id="25838" class="Symbol">→</a> <a id="25840" class="Symbol">(</a><a id="25841" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25841" class="Bound">funname</a> <a id="25849" class="Symbol">:</a> <a id="25851" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="25863" class="Symbol">)</a>
                          <a id="25891" class="Symbol">→</a> <a id="25893" class="Symbol">(</a><a id="25894" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25894" class="Bound">msg</a> <a id="25898" class="Symbol">:</a> <a id="25900" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="25903" class="Symbol">)</a>
                          <a id="25931" class="Symbol">→</a> <a id="25933" class="Symbol">(</a><a id="25934" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25934" class="Bound">gasreserved</a> <a id="25946" class="Symbol">:</a> <a id="25948" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="25949" class="Symbol">)</a>
                          <a id="25977" class="Symbol">→</a> <a id="25979" class="Symbol">(</a><a id="25980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25980" class="Bound">ntimes</a> <a id="25987" class="Symbol">:</a> <a id="25989" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="25990" class="Symbol">)</a>
                          <a id="26018" class="Symbol">→</a> <a id="26020" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="26026" class="Symbol">(</a><a id="26027" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="26032" href="libraries.Mainlibrary.html#2111" class="Record">StateExecFun</a><a id="26044" class="Symbol">)</a>
<a id="26046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25612" class="Function">stepLedgerFunntimesList</a> <a id="26070" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26070" class="Bound">ledger</a> <a id="26077" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26077" class="Bound">initialAddr</a> <a id="26089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26089" class="Bound">lastCallAddr</a> <a id="26102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26102" class="Bound">calledAddr</a> <a id="26113" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26113" class="Bound">funname</a> <a id="26121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26121" class="Bound">msg</a> <a id="26125" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26125" class="Bound">gasreserved</a>  <a id="26138" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26138" class="Bound">ntimes</a>
                        <a id="26169" class="Symbol">=</a> <a id="26171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24279" class="Function">stepLedgerFunntimesListAux</a> <a id="26198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26070" class="Bound">ledger</a> <a id="26205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26077" class="Bound">initialAddr</a> <a id="26217" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26089" class="Bound">lastCallAddr</a> <a id="26230" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26102" class="Bound">calledAddr</a> <a id="26241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26113" class="Bound">funname</a> <a id="26249" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26121" class="Bound">msg</a> <a id="26253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26125" class="Bound">gasreserved</a>  <a id="26266" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26138" class="Bound">ntimes</a>
                       <a id="26296" class="Symbol">(</a><a id="26297" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="26308" class="Symbol">(</a><a id="26309" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="26318" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="26324" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26125" class="Bound">gasreserved</a><a id="26335" class="Symbol">)</a> <a id="26337" class="Symbol">(</a><a id="26338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26070" class="Bound">ledger</a> <a id="26345" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26089" class="Bound">lastCallAddr</a> <a id="26358" class="Symbol">.</a><a id="26359" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="26365" class="Symbol">))</a>





<a id="26373" class="Comment">--clear version of evaluateNonTerminating&#39;</a>
<a id="26416" class="Comment">-- the below is the final step and we use it to solve the return cost</a>

<a id="evaluateAuxfinal0&#39;"></a><a id="26487" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26487" class="Function">evaluateAuxfinal0&#39;</a> <a id="26506" class="Symbol">:</a> <a id="26508" class="Symbol">(</a><a id="26509" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26509" class="Bound">oldLedger</a> <a id="26519" class="Symbol">:</a> <a id="26521" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="26527" class="Symbol">)</a>
                          <a id="26555" class="Symbol">→</a> <a id="26557" class="Symbol">(</a><a id="26558" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26558" class="Bound">currentLedger</a> <a id="26572" class="Symbol">:</a> <a id="26574" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a><a id="26580" class="Symbol">)</a>
                          <a id="26608" class="Symbol">→</a> <a id="26610" class="Symbol">(</a><a id="26611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26611" class="Bound">initialAddr</a> <a id="26623" class="Symbol">:</a> <a id="26625" href="basicDataStructure.html#405" class="Function">Address</a><a id="26632" class="Symbol">)</a>
                          <a id="26660" class="Symbol">→</a> <a id="26662" class="Symbol">(</a><a id="26663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26663" class="Bound">lastCallAddr</a> <a id="26676" class="Symbol">:</a> <a id="26678" href="basicDataStructure.html#405" class="Function">Address</a><a id="26685" class="Symbol">)</a>
                          <a id="26713" class="Symbol">→</a> <a id="26715" class="Symbol">(</a><a id="26716" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26716" class="Bound">calledAddr</a> <a id="26727" class="Symbol">:</a> <a id="26729" href="basicDataStructure.html#405" class="Function">Address</a><a id="26736" class="Symbol">)</a>
                          <a id="26764" class="Symbol">→</a> <a id="26766" class="Symbol">(</a><a id="26767" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26767" class="Bound">cost</a> <a id="26772" class="Symbol">:</a> <a id="26774" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="26775" class="Symbol">)</a>
                          <a id="26803" class="Symbol">→</a> <a id="26805" class="Symbol">(</a><a id="26806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26806" class="Bound">returnvalue</a> <a id="26818" class="Symbol">:</a> <a id="26820" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="26823" class="Symbol">)</a>
                          <a id="26851" class="Symbol">→</a> <a id="26853" class="Symbol">(</a><a id="26854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26854" class="Bound">gasLeft</a> <a id="26862" class="Symbol">:</a> <a id="26864" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="26865" class="Symbol">)</a>
                          <a id="26893" class="Symbol">→</a> <a id="26895" class="Symbol">(</a><a id="26896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26896" class="Bound">funNameevalState</a> <a id="26913" class="Symbol">:</a> <a id="26915" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="26927" class="Symbol">)</a>
                          <a id="26955" class="Symbol">→</a> <a id="26957" class="Symbol">(</a><a id="26958" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26958" class="Bound">msgevalState</a> <a id="26971" class="Symbol">:</a> <a id="26973" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="26976" class="Symbol">)</a>
                          <a id="27004" class="Symbol">→</a> <a id="27006" class="Symbol">(</a><a id="27007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27007" class="Bound">cp</a>  <a id="27011" class="Symbol">:</a> <a id="27013" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="27025" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26767" class="Bound">cost</a> <a id="27030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26854" class="Bound">gasLeft</a><a id="27037" class="Symbol">)</a>
                          <a id="27065" class="Symbol">→</a> <a id="27067" class="Symbol">(</a><a id="27068" href="libraries.Mainlibrary.html#1012" class="Function">Ledger</a> <a id="27075" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="27077" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a><a id="27094" class="Symbol">)</a>
<a id="27096" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26487" class="Function">evaluateAuxfinal0&#39;</a> <a id="27115" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27115" class="Bound">oldLedger</a> <a id="27125" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27125" class="Bound">currentLedger</a> <a id="27139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27139" class="Bound">initialAddr</a> <a id="27151" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27151" class="Bound">lastCallAddr</a> <a id="27164" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27164" class="Bound">calledAddr</a> <a id="27175" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27175" class="Bound">cost</a> <a id="27180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27180" class="Bound">ms</a> <a id="27183" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27183" class="Bound">gasLeft</a> <a id="27191" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27191" class="Bound">funNameevalState</a> <a id="27208" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27208" class="Bound">msgevalState</a> <a id="27221" class="Symbol">(</a><a id="27222" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="27226" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27226" class="Bound">x</a><a id="27227" class="Symbol">)</a>
                               <a id="27260" class="Symbol">=</a>  <a id="27263" class="Symbol">(</a><a id="27264" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2965" class="Function">addWeiToLedger</a> <a id="27279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27125" class="Bound">currentLedger</a> <a id="27293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27139" class="Bound">initialAddr</a>
                                   <a id="27340" class="Symbol">(</a><a id="27341" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="27350" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="27356" class="Symbol">(</a><a id="27357" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27183" class="Bound">gasLeft</a> <a id="27365" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="27367" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27175" class="Bound">cost</a><a id="27371" class="Symbol">)))</a> <a id="27375" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="27378" class="Symbol">(</a><a id="27379" href="basicDataStructure.html#1562" class="InductiveConstructor">theMsg</a> <a id="27386" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27180" class="Bound">ms</a> <a id="27389" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">,</a> <a id="27391" class="Symbol">(</a><a id="27392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27183" class="Bound">gasLeft</a> <a id="27400" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="27402" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27175" class="Bound">cost</a><a id="27406" class="Symbol">)</a> <a id="27408" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">gas</a><a id="27411" class="Symbol">)</a>

<a id="27414" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26487" class="Function">evaluateAuxfinal0&#39;</a> <a id="27433" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27433" class="Bound">oldLedger</a> <a id="27443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27443" class="Bound">currentLedger</a> <a id="27457" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27457" class="Bound">initialAddr</a> <a id="27469" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27469" class="Bound">lastCallAddr</a> <a id="27482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27482" class="Bound">calledAddr</a> <a id="27493" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27493" class="Bound">cost</a> <a id="27498" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27498" class="Bound">returnvalue</a> <a id="27510" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27510" class="Bound">gasLeft</a> <a id="27518" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27518" class="Bound">funNameevalState</a> <a id="27535" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27535" class="Bound">msgevalState</a> <a id="27548" class="Symbol">(</a><a id="27549" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="27557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27557" class="Bound">x</a><a id="27558" class="Symbol">)</a>
                               <a id="27591" class="Symbol">=</a> <a id="27593" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27433" class="Bound">oldLedger</a> <a id="27603" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="27606" class="Symbol">((</a><a id="27608" href="basicDataStructure.html#1590" class="InductiveConstructor">err</a> <a id="27612" class="Symbol">(</a><a id="27613" href="basicDataStructure.html#694" class="InductiveConstructor">strErr</a> <a id="27620" class="String">&quot; Out Of Gass &quot;</a><a id="27635" class="Symbol">)</a> <a id="27637" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="27639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27469" class="Bound">lastCallAddr</a> <a id="27652" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="27655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27457" class="Bound">initialAddr</a> <a id="27667" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="27669" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27518" class="Bound">funNameevalState</a> <a id="27686" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="27688" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27535" class="Bound">msgevalState</a> <a id="27701" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="27703" class="Symbol">)</a> <a id="27705" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">,</a> <a id="27707" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27510" class="Bound">gasLeft</a> <a id="27715" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">gas</a><a id="27718" class="Symbol">)</a>
</pre></body></html>