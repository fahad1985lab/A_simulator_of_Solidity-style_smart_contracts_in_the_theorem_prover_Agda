<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Complex-Model.ledgerversion.Ledger-Complex-Model</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="constantparameters.html" class="Module">constantparameters</a>

<a id="33" class="Keyword">module</a> <a id="40" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html" class="Module">Complex-Model.ledgerversion.Ledger-Complex-Model</a> <a id="89" class="Symbol">(</a><a id="90" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="96" class="Symbol">:</a> <a id="98" href="constantparameters.html#235" class="Record">ConstantParameters</a><a id="116" class="Symbol">)</a> <a id="118" class="Keyword">where</a>

<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="175" class="Keyword">using</a> <a id="181" class="Symbol">(</a><a id="182" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">_-_</a><a id="185" class="Symbol">;</a> <a id="187" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">_*_</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Data.List.html" class="Module">Data.List</a>
<a id="236" class="Keyword">open</a> <a id="241" class="Keyword">import</a> <a id="248" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Data.Maybe.html" class="Module">Data.Maybe</a>  <a id="335" class="Keyword">hiding</a> <a id="342" class="Symbol">(</a><a id="343" href="Data.Maybe.Base.html#2227" class="Function Operator">_&gt;&gt;=_</a><a id="348" class="Symbol">)</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Data.String.html" class="Module">Data.String</a> <a id="374" class="Keyword">hiding</a> <a id="381" class="Symbol">(</a><a id="382" href="Data.String.Base.html#2430" class="Function">length</a><a id="388" class="Symbol">;</a> <a id="390" href="Data.String.Base.html#1561" class="Primitive">show</a><a id="394" class="Symbol">)</a> <a id="396" class="Keyword">renaming</a> <a id="405" class="Symbol">(</a><a id="406" href="Data.String.Base.html#2366" class="Function Operator">_++_</a> <a id="411" class="Symbol">to</a> <a id="414" class="Function Operator">_++str_</a><a id="421" class="Symbol">)</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Data.Product.html" class="Module">Data.Product</a> <a id="448" class="Keyword">renaming</a> <a id="457" class="Symbol">(</a><a id="458" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="462" class="Symbol">to</a> <a id="465" class="InductiveConstructor Operator">_,,_</a> <a id="470" class="Symbol">)</a>
<a id="472" class="Keyword">open</a> <a id="477" class="Keyword">import</a> <a id="484" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>
<a id="498" class="Keyword">open</a> <a id="503" class="Keyword">import</a> <a id="510" href="Data.Empty.html" class="Module">Data.Empty</a>


<a id="523" class="Comment">-- our work</a>
<a id="535" class="Keyword">open</a> <a id="540" class="Keyword">import</a> <a id="547" href="Complex-Model.ccomand.ccommands-cresponse.html" class="Module">Complex-Model.ccomand.ccommands-cresponse</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="basicDataStructure.html" class="Module">basicDataStructure</a>
<a id="620" class="Keyword">open</a> <a id="625" class="Keyword">import</a> <a id="632" href="libraries.natCompare.html" class="Module">libraries.natCompare</a>
<a id="653" class="Keyword">open</a> <a id="658" class="Keyword">import</a> <a id="665" href="Complex-Model.ccomand.do-notation.html" class="Module">Complex-Model.ccomand.do-notation</a> <a id="699" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a>
<a id="705" class="Keyword">open</a> <a id="710" class="Keyword">import</a> <a id="717" href="libraries.Mainlibrary.html" class="Module">libraries.Mainlibrary</a>




<a id="743" class="Comment">-- update pure function in the ledger</a>
<a id="updateLedgerpurefun"></a><a id="781" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#781" class="Function">updateLedgerpurefun</a> <a id="801" class="Symbol">:</a> <a id="803" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a> <a id="810" class="Symbol">→</a> <a id="812" href="basicDataStructure.html#405" class="Function">Address</a> <a id="820" class="Symbol">→</a> <a id="822" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                   <a id="854" class="Symbol">→</a> <a id="856" class="Symbol">((</a><a id="858" href="basicDataStructure.html#523" class="Datatype">Msg</a> <a id="862" class="Symbol">→</a> <a id="864" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a><a id="874" class="Symbol">)</a> <a id="876" class="Symbol">→</a> <a id="878" class="Symbol">(</a><a id="879" href="basicDataStructure.html#523" class="Datatype">Msg</a> <a id="883" class="Symbol">→</a> <a id="885" href="basicDataStructure.html#1431" class="Datatype">MsgOrError</a><a id="895" class="Symbol">))</a>
                   <a id="917" class="Symbol">→</a> <a id="919" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a>
<a id="926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#781" class="Function">updateLedgerpurefun</a> <a id="946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#946" class="Bound">ledger</a> <a id="953" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#953" class="Bound">changedAddr</a> <a id="965" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#965" class="Bound">changedFname</a> <a id="978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#978" class="Bound">f</a> <a id="980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#980" class="Bound">a</a> <a id="982" class="Symbol">.</a><a id="983" href="libraries.Mainlibrary.html#839" class="Field">amount</a> <a id="990" class="Symbol">=</a> <a id="992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#946" class="Bound">ledger</a> <a id="999" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#980" class="Bound">a</a> <a id="1001" class="Symbol">.</a><a id="1002" href="libraries.Mainlibrary.html#839" class="Field">amount</a>
<a id="1009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#781" class="Function">updateLedgerpurefun</a> <a id="1029" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1029" class="Bound">ledger</a> <a id="1036" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1036" class="Bound">changedAddr</a> <a id="1048" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1048" class="Bound">changedFname</a> <a id="1061" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1061" class="Bound">f</a> <a id="1063" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1063" class="Bound">a</a> <a id="1065" class="Symbol">.</a><a id="1066" href="libraries.Mainlibrary.html#865" class="Field">fun</a>  <a id="1071" class="Symbol">=</a> <a id="1073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1029" class="Bound">ledger</a> <a id="1080" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1063" class="Bound">a</a> <a id="1082" class="Symbol">.</a><a id="1083" href="libraries.Mainlibrary.html#865" class="Field">fun</a>
<a id="1087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#781" class="Function">updateLedgerpurefun</a> <a id="1107" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1107" class="Bound">ledger</a> <a id="1114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1114" class="Bound">changedAddr</a> <a id="1126" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1126" class="Bound">changedFname</a> <a id="1139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1139" class="Bound">f</a> <a id="1141" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1141" class="Bound">a</a> <a id="1143" class="Symbol">.</a><a id="1144" href="libraries.Mainlibrary.html#927" class="Field">purefunction</a> <a id="1157" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1157" class="Bound">fname</a> <a id="1163" class="Symbol">=</a>
                               <a id="1196" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1199" class="Symbol">(</a><a id="1200" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1126" class="Bound">changedFname</a> <a id="1213" href="basicDataStructure.html#275" class="Function Operator">≡fun</a> <a id="1218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1157" class="Bound">fname</a><a id="1223" class="Symbol">)</a> <a id="1225" href="Data.Bool.Base.html#1283" class="Function Operator">then</a>  <a id="1231" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1139" class="Bound">f</a> <a id="1233" class="Symbol">(</a><a id="1234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1107" class="Bound">ledger</a> <a id="1241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1141" class="Bound">a</a> <a id="1243" class="Symbol">.</a><a id="1244" href="libraries.Mainlibrary.html#927" class="Field">purefunction</a> <a id="1257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1157" class="Bound">fname</a><a id="1262" class="Symbol">)</a>
                               <a id="1295" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>  <a id="1301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1107" class="Bound">ledger</a> <a id="1308" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1141" class="Bound">a</a> <a id="1310" class="Symbol">.</a><a id="1311" href="libraries.Mainlibrary.html#927" class="Field">purefunction</a> <a id="1324" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1157" class="Bound">fname</a>


<a id="1332" class="Comment">--update ledger amount</a>
<a id="updateLedgerAmount"></a><a id="1355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1355" class="Function">updateLedgerAmount</a> <a id="1374" class="Symbol">:</a> <a id="1376" class="Symbol">(</a><a id="1377" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1377" class="Bound">ledger</a> <a id="1384" class="Symbol">:</a> <a id="1386" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="1392" class="Symbol">)</a>
                   <a id="1413" class="Symbol">→</a> <a id="1415" class="Symbol">(</a><a id="1416" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1416" class="Bound">calledAddr</a> <a id="1427" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1427" class="Bound">destinationAddr</a> <a id="1443" class="Symbol">:</a> <a id="1445" href="basicDataStructure.html#405" class="Function">Address</a><a id="1452" class="Symbol">)</a> <a id="1454" class="Symbol">(</a><a id="1455" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1455" class="Bound">amount&#39;</a> <a id="1463" class="Symbol">:</a> <a id="1465" href="basicDataStructure.html#378" class="Function">Amount</a><a id="1471" class="Symbol">)</a>
                   <a id="1492" class="Symbol">→</a> <a id="1494" class="Symbol">(</a><a id="1495" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1495" class="Bound">correctAmount</a> <a id="1509" class="Symbol">:</a> <a id="1511" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1455" class="Bound">amount&#39;</a> <a id="1519" href="libraries.natCompare.html#508" class="Function Operator">≦r</a>  <a id="1523" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1377" class="Bound">ledger</a> <a id="1530" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1416" class="Bound">calledAddr</a> <a id="1541" class="Symbol">.</a><a id="1542" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="1548" class="Symbol">)</a>
                   <a id="1569" class="Symbol">→</a> <a id="1571" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a>
<a id="1578" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1355" class="Function">updateLedgerAmount</a> <a id="1597" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1597" class="Bound">ledger</a> <a id="1604" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1604" class="Bound">calledAddr</a> <a id="1615" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1615" class="Bound">destinationAddr</a> <a id="1631" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1631" class="Bound">amount&#39;</a> <a id="1639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1639" class="Bound">correctAmount</a> <a id="1653" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1653" class="Bound">addr</a> <a id="1658" class="Symbol">.</a><a id="1659" href="libraries.Mainlibrary.html#839" class="Field">amount</a>
     <a id="1671" class="Symbol">=</a> <a id="1673" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1653" class="Bound">addr</a> <a id="1681" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="1684" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1604" class="Bound">calledAddr</a>
     <a id="1700" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1705" href="libraries.natCompare.html#1529" class="Function">subtract</a> <a id="1714" class="Symbol">(</a><a id="1715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1597" class="Bound">ledger</a> <a id="1722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1604" class="Bound">calledAddr</a> <a id="1733" class="Symbol">.</a><a id="1734" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="1740" class="Symbol">)</a> <a id="1742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1631" class="Bound">amount&#39;</a> <a id="1750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1639" class="Bound">correctAmount</a>
     <a id="1769" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1774" class="Symbol">(</a><a id="1775" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1778" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1653" class="Bound">addr</a> <a id="1783" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="1786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1615" class="Bound">destinationAddr</a>
     <a id="1807" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1597" class="Bound">ledger</a> <a id="1819" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1615" class="Bound">destinationAddr</a> <a id="1835" class="Symbol">.</a><a id="1836" href="libraries.Mainlibrary.html#839" class="Field">amount</a> <a id="1843" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1631" class="Bound">amount&#39;</a>
       <a id="1860" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1597" class="Bound">ledger</a> <a id="1872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1653" class="Bound">addr</a> <a id="1877" class="Symbol">.</a><a id="1878" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="1884" class="Symbol">)</a>
<a id="1886" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1355" class="Function">updateLedgerAmount</a> <a id="1905" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1905" class="Bound">ledger</a> <a id="1912" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1912" class="Bound">calledAddr</a> <a id="1923" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1923" class="Bound">newAddr</a> <a id="1931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1931" class="Bound">amount&#39;</a> <a id="1939" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1939" class="Bound">correctAmount</a> <a id="1953" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1953" class="Bound">addr</a> <a id="1958" class="Symbol">.</a><a id="1959" href="libraries.Mainlibrary.html#865" class="Field">fun</a>          <a id="1972" class="Symbol">=</a>  <a id="1975" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1905" class="Bound">ledger</a> <a id="1982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1953" class="Bound">addr</a> <a id="1987" class="Symbol">.</a><a id="1988" href="libraries.Mainlibrary.html#865" class="Field">fun</a>

<a id="1993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1355" class="Function">updateLedgerAmount</a> <a id="2012" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2012" class="Bound">ledger</a> <a id="2019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2019" class="Bound">calledAddr</a> <a id="2030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2030" class="Bound">newAddr</a> <a id="2038" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2038" class="Bound">amount&#39;</a> <a id="2046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2046" class="Bound">correctAmount</a> <a id="2060" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2060" class="Bound">addr</a> <a id="2065" class="Symbol">.</a><a id="2066" href="libraries.Mainlibrary.html#927" class="Field">purefunction</a> <a id="2079" class="Symbol">=</a> <a id="2081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2012" class="Bound">ledger</a> <a id="2088" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2060" class="Bound">addr</a> <a id="2093" class="Symbol">.</a><a id="2094" href="libraries.Mainlibrary.html#927" class="Field">purefunction</a>



<a id="2110" class="Comment">--This function we use it to update the gas by decucting from the ledger</a>
<a id="2183" class="Comment">--rename gasPrice to gascost</a>
<a id="deductGasFromLedger"></a><a id="2212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2212" class="Function">deductGasFromLedger</a> <a id="2232" class="Symbol">:</a> <a id="2234" class="Symbol">(</a><a id="2235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2235" class="Bound">ledger</a> <a id="2242" class="Symbol">:</a> <a id="2244" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="2250" class="Symbol">)</a>
                    <a id="2272" class="Symbol">→</a> <a id="2274" class="Symbol">(</a><a id="2275" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2275" class="Bound">calledAddr</a> <a id="2286" class="Symbol">:</a> <a id="2288" href="basicDataStructure.html#405" class="Function">Address</a><a id="2295" class="Symbol">)</a> <a id="2297" class="Symbol">(</a><a id="2298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2298" class="Bound">gascost</a> <a id="2306" class="Symbol">:</a> <a id="2308" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="2309" class="Symbol">)</a>
                    <a id="2331" class="Symbol">→</a> <a id="2333" class="Symbol">(</a><a id="2334" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2334" class="Bound">correctAmount</a> <a id="2348" class="Symbol">:</a> <a id="2350" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2298" class="Bound">gascost</a> <a id="2358" href="libraries.natCompare.html#508" class="Function Operator">≦r</a> <a id="2361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2235" class="Bound">ledger</a> <a id="2368" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2275" class="Bound">calledAddr</a> <a id="2379" class="Symbol">.</a><a id="2380" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="2386" class="Symbol">)</a>
                    <a id="2408" class="Symbol">→</a> <a id="2410" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a>
<a id="2417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2212" class="Function">deductGasFromLedger</a> <a id="2437" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2437" class="Bound">ledger</a> <a id="2444" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2444" class="Bound">calledAddr</a> <a id="2455" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2455" class="Bound">gascost</a> <a id="2463" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2463" class="Bound">correctAmount</a> <a id="2477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2477" class="Bound">addr</a> <a id="2482" class="Symbol">.</a><a id="2483" href="libraries.Mainlibrary.html#839" class="Field">amount</a>
     <a id="2495" class="Symbol">=</a> <a id="2497" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="2500" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2477" class="Bound">addr</a> <a id="2505" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="2508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2444" class="Bound">calledAddr</a>
     <a id="2524" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="2529" href="libraries.natCompare.html#1529" class="Function">subtract</a> <a id="2538" class="Symbol">(</a><a id="2539" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2437" class="Bound">ledger</a> <a id="2546" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2444" class="Bound">calledAddr</a> <a id="2557" class="Symbol">.</a><a id="2558" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="2564" class="Symbol">)</a> <a id="2566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2455" class="Bound">gascost</a> <a id="2574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2463" class="Bound">correctAmount</a>
     <a id="2593" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>  <a id="2599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2437" class="Bound">ledger</a> <a id="2606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2477" class="Bound">addr</a> <a id="2611" class="Symbol">.</a><a id="2612" href="libraries.Mainlibrary.html#839" class="Field">amount</a>
<a id="2619" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2212" class="Function">deductGasFromLedger</a> <a id="2639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2639" class="Bound">ledger</a> <a id="2646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2646" class="Bound">calledAddr</a> <a id="2657" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2657" class="Bound">gascost</a> <a id="2665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2665" class="Bound">correctAmount</a> <a id="2679" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2679" class="Bound">addr</a> <a id="2684" class="Symbol">.</a><a id="2685" href="libraries.Mainlibrary.html#865" class="Field">fun</a>
    <a id="2693" class="Symbol">=</a> <a id="2695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2639" class="Bound">ledger</a> <a id="2702" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2679" class="Bound">addr</a> <a id="2707" class="Symbol">.</a><a id="2708" href="libraries.Mainlibrary.html#865" class="Field">fun</a>
<a id="2712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2212" class="Function">deductGasFromLedger</a> <a id="2732" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2732" class="Bound">ledger</a> <a id="2739" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2739" class="Bound">calledAddr</a> <a id="2750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2750" class="Bound">gascost</a> <a id="2758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2758" class="Bound">correctAmount</a> <a id="2772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2772" class="Bound">addr</a> <a id="2777" class="Symbol">.</a><a id="2778" href="libraries.Mainlibrary.html#927" class="Field">purefunction</a>
    <a id="2795" class="Symbol">=</a> <a id="2797" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2732" class="Bound">ledger</a> <a id="2804" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2772" class="Bound">addr</a> <a id="2809" class="Symbol">.</a><a id="2810" href="libraries.Mainlibrary.html#927" class="Field">purefunction</a>


<a id="2825" class="Comment">-- this function below we use it to refuend in two cases with steEF</a>
<a id="2893" class="Comment">-- 1) when finish (first case)</a>
<a id="2924" class="Comment">-- 2) when we have error (the last case)</a>
<a id="addWeiToLedger"></a><a id="2965" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2965" class="Function">addWeiToLedger</a> <a id="2980" class="Symbol">:</a> <a id="2982" class="Symbol">(</a><a id="2983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2983" class="Bound">ledger</a> <a id="2990" class="Symbol">:</a> <a id="2992" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="2998" class="Symbol">)</a>
               <a id="3015" class="Symbol">→</a> <a id="3017" class="Symbol">(</a><a id="3018" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3018" class="Bound">address</a> <a id="3026" class="Symbol">:</a> <a id="3028" href="basicDataStructure.html#405" class="Function">Address</a><a id="3035" class="Symbol">)</a> <a id="3037" class="Symbol">(</a><a id="3038" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3038" class="Bound">amount&#39;</a> <a id="3046" class="Symbol">:</a> <a id="3048" href="basicDataStructure.html#378" class="Function">Amount</a><a id="3054" class="Symbol">)</a>
               <a id="3071" class="Symbol">→</a> <a id="3073" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a>
<a id="3080" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2965" class="Function">addWeiToLedger</a> <a id="3095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3095" class="Bound">ledger</a> <a id="3102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3102" class="Bound">address</a> <a id="3110" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3110" class="Bound">amount&#39;</a> <a id="3118" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3118" class="Bound">addr</a> <a id="3123" class="Symbol">.</a><a id="3124" href="libraries.Mainlibrary.html#839" class="Field">amount</a>
       <a id="3138" class="Symbol">=</a>   <a id="3142" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="3145" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3118" class="Bound">addr</a> <a id="3150" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="3153" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3102" class="Bound">address</a>
           <a id="3172" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="3177" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3095" class="Bound">ledger</a> <a id="3184" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3102" class="Bound">address</a> <a id="3192" class="Symbol">.</a><a id="3193" href="libraries.Mainlibrary.html#839" class="Field">amount</a> <a id="3200" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3110" class="Bound">amount&#39;</a>
           <a id="3221" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="3226" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3095" class="Bound">ledger</a> <a id="3233" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3118" class="Bound">addr</a> <a id="3238" class="Symbol">.</a><a id="3239" href="libraries.Mainlibrary.html#839" class="Field">amount</a>
<a id="3246" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2965" class="Function">addWeiToLedger</a> <a id="3261" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3261" class="Bound">ledger</a> <a id="3268" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3268" class="Bound">address</a> <a id="3276" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3276" class="Bound">amount&#39;</a> <a id="3284" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3284" class="Bound">addr</a> <a id="3289" class="Symbol">.</a><a id="3290" href="libraries.Mainlibrary.html#865" class="Field">fun</a>
       <a id="3301" class="Symbol">=</a>   <a id="3305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3261" class="Bound">ledger</a> <a id="3312" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3284" class="Bound">addr</a> <a id="3317" class="Symbol">.</a><a id="3318" href="libraries.Mainlibrary.html#865" class="Field">fun</a>
<a id="3322" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2965" class="Function">addWeiToLedger</a> <a id="3337" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3337" class="Bound">ledger</a> <a id="3344" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3344" class="Bound">address</a> <a id="3352" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3352" class="Bound">amount&#39;</a> <a id="3360" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3360" class="Bound">addr</a> <a id="3365" class="Symbol">.</a><a id="3366" href="libraries.Mainlibrary.html#927" class="Field">purefunction</a>
       <a id="3386" class="Symbol">=</a> <a id="3388" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3337" class="Bound">ledger</a> <a id="3395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3360" class="Bound">addr</a> <a id="3400" class="Symbol">.</a><a id="3401" href="libraries.Mainlibrary.html#927" class="Field">purefunction</a>


<a id="3416" class="Comment">-- execute transfer auxiliary</a>
<a id="executeTransferAux"></a><a id="3446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3446" class="Function">executeTransferAux</a> <a id="3465" class="Symbol">:</a> <a id="3467" class="Symbol">(</a><a id="3468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3468" class="Bound">oldLedger</a> <a id="3478" class="Symbol">:</a> <a id="3480" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="3486" class="Symbol">)</a>
                   <a id="3507" class="Symbol">→</a> <a id="3509" class="Symbol">(</a><a id="3510" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3510" class="Bound">currentledger</a> <a id="3524" class="Symbol">:</a> <a id="3526" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="3532" class="Symbol">)</a>
                   <a id="3553" class="Symbol">→</a> <a id="3555" class="Symbol">(</a><a id="3556" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3556" class="Bound">executionStack</a> <a id="3571" class="Symbol">:</a> <a id="3573" href="libraries.Mainlibrary.html#2004" class="Function">ExecutionStack</a><a id="3587" class="Symbol">)</a>
                   <a id="3608" class="Symbol">→</a> <a id="3610" class="Symbol">(</a><a id="3611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3611" class="Bound">initialAddr</a> <a id="3623" class="Symbol">:</a> <a id="3625" href="basicDataStructure.html#405" class="Function">Address</a><a id="3632" class="Symbol">)</a>
                   <a id="3653" class="Symbol">→</a> <a id="3655" class="Symbol">(</a><a id="3656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3656" class="Bound">lastCallAddr</a> <a id="3669" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3669" class="Bound">calledAddr</a> <a id="3680" class="Symbol">:</a> <a id="3682" href="basicDataStructure.html#405" class="Function">Address</a><a id="3689" class="Symbol">)</a>
                   <a id="3710" class="Symbol">→</a> <a id="3712" class="Symbol">(</a><a id="3713" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3713" class="Bound">cont</a> <a id="3718" class="Symbol">:</a> <a id="3720" href="Complex-Model.ccomand.ccommands-cresponse.html#1513" class="Datatype">SmartContract</a> <a id="3734" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="3737" class="Symbol">)</a> <a id="3739" class="Symbol">→</a> <a id="3741" class="Symbol">(</a><a id="3742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3742" class="Bound">gasleft</a> <a id="3750" class="Symbol">:</a> <a id="3752" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3753" class="Symbol">)</a>
                   <a id="3774" class="Symbol">→</a> <a id="3776" class="Symbol">(</a><a id="3777" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3777" class="Bound">funNameevalState</a> <a id="3794" class="Symbol">:</a> <a id="3796" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="3808" class="Symbol">)</a>
                   <a id="3829" class="Symbol">→</a> <a id="3831" class="Symbol">(</a><a id="3832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3832" class="Bound">msgevalState</a> <a id="3845" class="Symbol">:</a> <a id="3847" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="3850" class="Symbol">)</a>
                   <a id="3871" class="Symbol">→</a> <a id="3873" class="Symbol">(</a><a id="3874" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3874" class="Bound">amount&#39;</a> <a id="3882" class="Symbol">:</a> <a id="3884" href="basicDataStructure.html#378" class="Function">Amount</a><a id="3890" class="Symbol">)</a>
                   <a id="3911" class="Symbol">→</a> <a id="3913" class="Symbol">(</a><a id="3914" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3914" class="Bound">destinationAddr</a> <a id="3930" class="Symbol">:</a> <a id="3932" href="basicDataStructure.html#405" class="Function">Address</a><a id="3939" class="Symbol">)</a>
                   <a id="3960" class="Symbol">→</a> <a id="3962" class="Symbol">(</a><a id="3963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3963" class="Bound">cp</a>  <a id="3967" class="Symbol">:</a> <a id="3969" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="3981" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3874" class="Bound">amount&#39;</a> <a id="3989" class="Symbol">(</a><a id="3990" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3510" class="Bound">currentledger</a> <a id="4004" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3669" class="Bound">calledAddr</a> <a id="4015" class="Symbol">.</a><a id="4016" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="4022" class="Symbol">))</a>
                   <a id="4044" class="Symbol">→</a> <a id="4046" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a>
<a id="4059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3446" class="Function">executeTransferAux</a> <a id="4078" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4078" class="Bound">oldLedger</a> <a id="4088" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4088" class="Bound">currentledger</a> <a id="4102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4102" class="Bound">executionStack</a> <a id="4117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4117" class="Bound">initialAddr</a> <a id="4129" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4129" class="Bound">lastCallAddr</a> <a id="4142" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4142" class="Bound">calledAddr</a> <a id="4153" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4153" class="Bound">cont</a> <a id="4158" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4158" class="Bound">gasleft</a>
                   <a id="4185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4185" class="Bound">funNameevalState</a> <a id="4202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4202" class="Bound">msgevalState</a> <a id="4215" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4215" class="Bound">amount&#39;</a> <a id="4223" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4223" class="Bound">destinationAddr</a> <a id="4239" class="Symbol">(</a><a id="4240" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="4244" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4244" class="Bound">x</a><a id="4245" class="Symbol">)</a>
         <a id="4256" class="Symbol">=</a> <a id="4258" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="4266" class="Symbol">(</a><a id="4267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1355" class="Function">updateLedgerAmount</a> <a id="4286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4088" class="Bound">currentledger</a> <a id="4300" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4142" class="Bound">calledAddr</a> <a id="4311" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4223" class="Bound">destinationAddr</a> <a id="4327" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4215" class="Bound">amount&#39;</a> <a id="4335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4244" class="Bound">x</a><a id="4336" class="Symbol">)</a>
          <a id="4348" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4102" class="Bound">executionStack</a> <a id="4363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4117" class="Bound">initialAddr</a> <a id="4375" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4129" class="Bound">lastCallAddr</a> <a id="4388" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4142" class="Bound">calledAddr</a> <a id="4399" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4153" class="Bound">cont</a> <a id="4404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4158" class="Bound">gasleft</a> <a id="4412" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4185" class="Bound">funNameevalState</a> <a id="4429" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4202" class="Bound">msgevalState</a>
<a id="4442" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3446" class="Function">executeTransferAux</a> <a id="4461" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4461" class="Bound">oldLedger</a> <a id="4471" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4471" class="Bound">currentledger</a> <a id="4485" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4485" class="Bound">executionStack</a> <a id="4500" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4500" class="Bound">initialAddr</a> <a id="4512" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4512" class="Bound">lastCallAddr</a> <a id="4525" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4525" class="Bound">calledAddr</a> <a id="4536" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4536" class="Bound">cont</a> <a id="4541" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4541" class="Bound">gasleft</a>
                   <a id="4568" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4568" class="Bound">funNameevalState</a> <a id="4585" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4585" class="Bound">msgevalState</a> <a id="4598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4598" class="Bound">amount&#39;</a> <a id="4606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4606" class="Bound">destinationAddr</a> <a id="4622" class="Symbol">(</a><a id="4623" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="4631" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4631" class="Bound">x</a><a id="4632" class="Symbol">)</a>
          <a id="4644" class="Symbol">=</a> <a id="4646" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="4654" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4461" class="Bound">oldLedger</a> <a id="4664" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4485" class="Bound">executionStack</a> <a id="4679" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4500" class="Bound">initialAddr</a> <a id="4691" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4512" class="Bound">lastCallAddr</a> <a id="4704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4525" class="Bound">calledAddr</a>
            <a id="4727" class="Symbol">(</a><a id="4728" href="Complex-Model.ccomand.ccommands-cresponse.html#1591" class="InductiveConstructor">error</a>  <a id="4735" class="Symbol">(</a><a id="4736" href="basicDataStructure.html#694" class="InductiveConstructor">strErr</a> <a id="4743" class="String">&quot;not enough money&quot;</a><a id="4761" class="Symbol">)</a>
            <a id="4775" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="4777" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4512" class="Bound">lastCallAddr</a> <a id="4790" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="4793" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4500" class="Bound">initialAddr</a> <a id="4805" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="4807" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4568" class="Bound">funNameevalState</a> <a id="4824" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="4826" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4585" class="Bound">msgevalState</a> <a id="4839" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="4841" class="Symbol">)</a>
             <a id="4856" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4541" class="Bound">gasleft</a> <a id="4864" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4568" class="Bound">funNameevalState</a> <a id="4881" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4585" class="Bound">msgevalState</a>


<a id="4896" class="Comment">-- proof transfer Aux </a>
<a id="lemmaExecuteTransferAuxGasEq"></a><a id="4919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4919" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="4948" class="Symbol">:</a> <a id="4950" class="Symbol">(</a><a id="4951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4951" class="Bound">oldLedger</a> <a id="4961" class="Symbol">:</a> <a id="4963" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="4969" class="Symbol">)</a>
                              <a id="5001" class="Symbol">→</a> <a id="5003" class="Symbol">(</a><a id="5004" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5004" class="Bound">currentledger</a> <a id="5018" class="Symbol">:</a> <a id="5020" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="5026" class="Symbol">)</a>
                              <a id="5058" class="Symbol">→</a> <a id="5060" class="Symbol">(</a><a id="5061" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5061" class="Bound">executionStack</a> <a id="5076" class="Symbol">:</a> <a id="5078" href="libraries.Mainlibrary.html#2004" class="Function">ExecutionStack</a><a id="5092" class="Symbol">)</a>
                              <a id="5124" class="Symbol">→</a> <a id="5126" class="Symbol">(</a><a id="5127" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5127" class="Bound">initialAddr</a> <a id="5139" class="Symbol">:</a> <a id="5141" href="basicDataStructure.html#405" class="Function">Address</a><a id="5148" class="Symbol">)</a>
                              <a id="5180" class="Symbol">→</a> <a id="5182" class="Symbol">(</a><a id="5183" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5183" class="Bound">lastCallAddr</a> <a id="5196" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5196" class="Bound">calledAddr</a> <a id="5207" class="Symbol">:</a> <a id="5209" href="basicDataStructure.html#405" class="Function">Address</a><a id="5216" class="Symbol">)</a>
                              <a id="5248" class="Symbol">→</a> <a id="5250" class="Symbol">(</a><a id="5251" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5251" class="Bound">cont</a> <a id="5256" class="Symbol">:</a> <a id="5258" href="Complex-Model.ccomand.ccommands-cresponse.html#1513" class="Datatype">SmartContract</a> <a id="5272" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="5275" class="Symbol">)</a> <a id="5277" class="Symbol">→</a> <a id="5279" class="Symbol">(</a><a id="5280" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5280" class="Bound">gasleft1</a> <a id="5289" class="Symbol">:</a> <a id="5291" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5292" class="Symbol">)</a>
                              <a id="5324" class="Symbol">→</a> <a id="5326" class="Symbol">(</a><a id="5327" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5327" class="Bound">funNameevalState</a> <a id="5344" class="Symbol">:</a> <a id="5346" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="5358" class="Symbol">)</a>
                              <a id="5390" class="Symbol">→</a> <a id="5392" class="Symbol">(</a><a id="5393" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5393" class="Bound">msgevalState</a> <a id="5406" class="Symbol">:</a> <a id="5408" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="5411" class="Symbol">)</a>
                              <a id="5443" class="Symbol">→</a> <a id="5445" class="Symbol">(</a><a id="5446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5446" class="Bound">amount&#39;</a> <a id="5454" class="Symbol">:</a> <a id="5456" href="basicDataStructure.html#378" class="Function">Amount</a><a id="5462" class="Symbol">)</a>
                              <a id="5494" class="Symbol">→</a> <a id="5496" class="Symbol">(</a><a id="5497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5497" class="Bound">destinationAddr</a> <a id="5513" class="Symbol">:</a> <a id="5515" href="basicDataStructure.html#405" class="Function">Address</a><a id="5522" class="Symbol">)</a>
                              <a id="5554" class="Symbol">→</a> <a id="5556" class="Symbol">(</a><a id="5557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5557" class="Bound">cp</a>  <a id="5561" class="Symbol">:</a> <a id="5563" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="5575" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5446" class="Bound">amount&#39;</a> <a id="5583" class="Symbol">(</a><a id="5584" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5004" class="Bound">currentledger</a> <a id="5598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5196" class="Bound">calledAddr</a> <a id="5609" class="Symbol">.</a><a id="5610" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="5616" class="Symbol">))</a>
                              <a id="5649" class="Symbol">→</a> <a id="5651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5280" class="Bound">gasleft1</a> <a id="5660" href="libraries.natCompare.html#552" class="Function Operator">==r</a> <a id="5664" href="libraries.Mainlibrary.html#2577" class="Field">gasLeft</a>
                                 <a id="5705" class="Symbol">(</a><a id="5706" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3446" class="Function">executeTransferAux</a> <a id="5725" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4951" class="Bound">oldLedger</a> <a id="5735" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5004" class="Bound">currentledger</a> <a id="5749" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5061" class="Bound">executionStack</a> <a id="5764" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5127" class="Bound">initialAddr</a>
                                  <a id="5810" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5183" class="Bound">lastCallAddr</a> <a id="5823" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5196" class="Bound">calledAddr</a> <a id="5834" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5251" class="Bound">cont</a> <a id="5839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5280" class="Bound">gasleft1</a> <a id="5848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5327" class="Bound">funNameevalState</a>
                                  <a id="5899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5393" class="Bound">msgevalState</a> <a id="5912" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5446" class="Bound">amount&#39;</a> <a id="5920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5497" class="Bound">destinationAddr</a> <a id="5936" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5557" class="Bound">cp</a><a id="5938" class="Symbol">)</a>
<a id="5940" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4919" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="5969" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5969" class="Bound">oldLedger</a> <a id="5979" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5979" class="Bound">currentledger</a> <a id="5993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5993" class="Bound">executionStack</a> <a id="6008" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6008" class="Bound">initialAddr</a> <a id="6020" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6020" class="Bound">lastCallAddr</a> <a id="6033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6033" class="Bound">calledAddr</a>
                             <a id="6073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6073" class="Bound">cont</a> <a id="6078" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6078" class="Bound">gasleft1</a> <a id="6087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6087" class="Bound">funNameevalState</a> <a id="6104" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6104" class="Bound">msgevalState</a> <a id="6117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6117" class="Bound">amount&#39;</a> <a id="6125" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6125" class="Bound">destinationAddr</a> <a id="6141" class="Symbol">(</a><a id="6142" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="6146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6146" class="Bound">x</a><a id="6147" class="Symbol">)</a>     <a id="6153" class="Symbol">=</a> <a id="6155" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="6163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6078" class="Bound">gasleft1</a>
<a id="6172" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4919" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="6201" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6201" class="Bound">oldLedger</a> <a id="6211" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6211" class="Bound">currentledger</a> <a id="6225" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6225" class="Bound">executionStack</a> <a id="6240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6240" class="Bound">initialAddr</a> <a id="6252" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6252" class="Bound">lastCallAddr</a> <a id="6265" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6265" class="Bound">calledAddr</a>
                             <a id="6305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6305" class="Bound">cont</a> <a id="6310" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6310" class="Bound">gasleft1</a> <a id="6319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6319" class="Bound">funNameevalState</a> <a id="6336" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6336" class="Bound">msgevalState</a> <a id="6349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6349" class="Bound">amount&#39;</a> <a id="6357" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6357" class="Bound">destinationAddr</a> <a id="6373" class="Symbol">(</a><a id="6374" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="6382" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6382" class="Bound">x</a><a id="6383" class="Symbol">)</a> <a id="6385" class="Symbol">=</a> <a id="6387" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="6395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6310" class="Bound">gasleft1</a>


<a id="6406" class="Comment">-- execute transfer</a>
<a id="executeTransfer"></a><a id="6426" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6426" class="Function">executeTransfer</a> <a id="6442" class="Symbol">:</a> <a id="6444" class="Symbol">(</a><a id="6445" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6445" class="Bound">oldLedger</a> <a id="6455" class="Symbol">:</a> <a id="6457" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="6463" class="Symbol">)</a>
                <a id="6481" class="Symbol">→</a> <a id="6483" class="Symbol">(</a><a id="6484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6484" class="Bound">currentledger</a> <a id="6498" class="Symbol">:</a> <a id="6500" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="6506" class="Symbol">)</a>
                <a id="6524" class="Symbol">→</a> <a id="6526" class="Symbol">(</a><a id="6527" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6527" class="Bound">execStack</a> <a id="6537" class="Symbol">:</a> <a id="6539" href="libraries.Mainlibrary.html#2004" class="Function">ExecutionStack</a><a id="6553" class="Symbol">)</a>
                <a id="6571" class="Symbol">→</a> <a id="6573" class="Symbol">(</a><a id="6574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6574" class="Bound">initialAddr</a> <a id="6586" class="Symbol">:</a> <a id="6588" href="basicDataStructure.html#405" class="Function">Address</a><a id="6595" class="Symbol">)</a>
                <a id="6613" class="Symbol">→</a> <a id="6615" class="Symbol">(</a><a id="6616" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6616" class="Bound">lastCallAddr</a> <a id="6629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6629" class="Bound">calledAddr</a> <a id="6640" class="Symbol">:</a> <a id="6642" href="basicDataStructure.html#405" class="Function">Address</a><a id="6649" class="Symbol">)</a>
                <a id="6667" class="Symbol">→</a> <a id="6669" class="Symbol">(</a><a id="6670" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6670" class="Bound">cont</a> <a id="6675" class="Symbol">:</a> <a id="6677" href="Complex-Model.ccomand.ccommands-cresponse.html#1513" class="Datatype">SmartContract</a> <a id="6691" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="6694" class="Symbol">)</a>
                <a id="6712" class="Symbol">→</a> <a id="6714" class="Symbol">(</a><a id="6715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6715" class="Bound">gasleft</a> <a id="6723" class="Symbol">:</a> <a id="6725" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="6726" class="Symbol">)</a>
                <a id="6744" class="Symbol">→</a> <a id="6746" class="Symbol">(</a><a id="6747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6747" class="Bound">funNameevalState</a> <a id="6764" class="Symbol">:</a> <a id="6766" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="6778" class="Symbol">)</a>
                <a id="6796" class="Symbol">→</a> <a id="6798" class="Symbol">(</a><a id="6799" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6799" class="Bound">msgevalState</a> <a id="6812" class="Symbol">:</a> <a id="6814" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="6817" class="Symbol">)</a>
                <a id="6835" class="Symbol">→</a> <a id="6837" class="Symbol">(</a><a id="6838" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6838" class="Bound">amount&#39;</a> <a id="6846" class="Symbol">:</a> <a id="6848" href="basicDataStructure.html#378" class="Function">Amount</a><a id="6854" class="Symbol">)</a>
                <a id="6872" class="Symbol">→</a> <a id="6874" class="Symbol">(</a><a id="6875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6875" class="Bound">destinationAddr</a> <a id="6891" class="Symbol">:</a> <a id="6893" href="basicDataStructure.html#405" class="Function">Address</a><a id="6900" class="Symbol">)</a>
                <a id="6918" class="Symbol">→</a> <a id="6920" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a>
<a id="6933" class="Comment">--@END</a>
<a id="6940" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6426" class="Function">executeTransfer</a> <a id="6956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6956" class="Bound">oldLedger</a> <a id="6966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6966" class="Bound">currentledger</a> <a id="6980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6980" class="Bound">execStack</a> <a id="6990" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6990" class="Bound">initialAddr</a> <a id="7002" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7002" class="Bound">lastCallAddr</a> <a id="7015" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7015" class="Bound">calledAddr</a>
                <a id="7042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7042" class="Bound">cont</a> <a id="7047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7047" class="Bound">gasleft</a>  <a id="7056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7056" class="Bound">funNameevalState</a> <a id="7073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7073" class="Bound">msgevalState</a> <a id="7086" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7086" class="Bound">amount&#39;</a> <a id="7094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7094" class="Bound">destinationAddr</a>
         <a id="7119" class="Symbol">=</a> <a id="7121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3446" class="Function">executeTransferAux</a> <a id="7140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6956" class="Bound">oldLedger</a> <a id="7150" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6966" class="Bound">currentledger</a> <a id="7164" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6980" class="Bound">execStack</a> <a id="7174" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6990" class="Bound">initialAddr</a> <a id="7186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7002" class="Bound">lastCallAddr</a> <a id="7199" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7015" class="Bound">calledAddr</a>
            <a id="7222" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7042" class="Bound">cont</a> <a id="7227" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7047" class="Bound">gasleft</a>  <a id="7236" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7056" class="Bound">funNameevalState</a> <a id="7253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7073" class="Bound">msgevalState</a> <a id="7266" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7086" class="Bound">amount&#39;</a>
            <a id="7286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7094" class="Bound">destinationAddr</a> <a id="7302" class="Symbol">(</a><a id="7303" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="7314" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7086" class="Bound">amount&#39;</a> <a id="7322" class="Symbol">(</a><a id="7323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6966" class="Bound">currentledger</a> <a id="7337" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7015" class="Bound">calledAddr</a> <a id="7348" class="Symbol">.</a><a id="7349" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="7355" class="Symbol">))</a>



<a id="7361" class="Comment">-- the stepEF without deducting the gasLeft</a>
<a id="stepEF"></a><a id="7405" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="7412" class="Symbol">:</a> <a id="7414" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a> <a id="7421" class="Symbol">→</a> <a id="7423" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a> <a id="7436" class="Symbol">→</a> <a id="7438" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a>
<a id="7451" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="7458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7458" class="Bound">oldLedger</a> <a id="7468" class="Symbol">(</a><a id="7469" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="7477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7477" class="Bound">currentLedger</a> <a id="7491" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7491" class="Bound">executionStack</a> <a id="7506" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7506" class="Bound">initialAddr</a> <a id="7518" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7518" class="Bound">lastCallAddr</a> <a id="7531" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7531" class="Bound">calledAddr</a>
                 <a id="7559" class="Symbol">(</a><a id="7560" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="InductiveConstructor">exec</a> <a id="7565" href="Complex-Model.ccomand.ccommands-cresponse.html#827" class="InductiveConstructor">currentAddrLookupc</a> <a id="7584" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7584" class="Bound">costcomputecont</a> <a id="7600" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7600" class="Bound">cont</a><a id="7604" class="Symbol">)</a> <a id="7606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7606" class="Bound">gasLeft</a> <a id="7614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7614" class="Bound">funNameevalState</a> <a id="7631" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7631" class="Bound">msgevalState</a><a id="7643" class="Symbol">)</a>
       <a id="7652" class="Symbol">=</a> <a id="7654" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="7662" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7477" class="Bound">currentLedger</a> <a id="7676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7491" class="Bound">executionStack</a> <a id="7691" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7506" class="Bound">initialAddr</a> <a id="7703" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7518" class="Bound">lastCallAddr</a> <a id="7716" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7531" class="Bound">calledAddr</a>
          <a id="7737" class="Symbol">(</a><a id="7738" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7600" class="Bound">cont</a> <a id="7743" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7531" class="Bound">calledAddr</a><a id="7753" class="Symbol">)</a> <a id="7755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7606" class="Bound">gasLeft</a>  <a id="7764" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7614" class="Bound">funNameevalState</a> <a id="7781" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7631" class="Bound">msgevalState</a> 

<a id="7796" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="7803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7803" class="Bound">oldLedger</a> <a id="7813" class="Symbol">(</a><a id="7814" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="7822" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7822" class="Bound">currentLedger</a> <a id="7836" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7836" class="Bound">executionStack</a> <a id="7851" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7851" class="Bound">initialAddr</a> <a id="7863" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7863" class="Bound">lastCallAddr</a> <a id="7876" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7876" class="Bound">calledAddr</a>
                 <a id="7904" class="Symbol">(</a><a id="7905" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="InductiveConstructor">exec</a> <a id="7910" href="Complex-Model.ccomand.ccommands-cresponse.html#862" class="InductiveConstructor">callAddrLookupc</a> <a id="7926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7926" class="Bound">costcomputecont</a> <a id="7942" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7942" class="Bound">cont</a><a id="7946" class="Symbol">)</a> <a id="7948" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7948" class="Bound">gasLeft</a> <a id="7956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7956" class="Bound">funNameevalState</a> <a id="7973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7973" class="Bound">msgevalState</a><a id="7985" class="Symbol">)</a>
       <a id="7994" class="Symbol">=</a> <a id="7996" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="8004" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7822" class="Bound">currentLedger</a> <a id="8018" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7836" class="Bound">executionStack</a> <a id="8033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7851" class="Bound">initialAddr</a> <a id="8045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7863" class="Bound">lastCallAddr</a> <a id="8058" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7876" class="Bound">calledAddr</a> <a id="8069" class="Symbol">(</a><a id="8070" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7942" class="Bound">cont</a> <a id="8075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7863" class="Bound">lastCallAddr</a><a id="8087" class="Symbol">)</a>
          <a id="8099" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7948" class="Bound">gasLeft</a>  <a id="8108" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7956" class="Bound">funNameevalState</a> <a id="8125" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7973" class="Bound">msgevalState</a>

<a id="8139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="8146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8146" class="Bound">oldLedger</a> <a id="8156" class="Symbol">(</a><a id="8157" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="8165" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8165" class="Bound">currentLedger</a> <a id="8179" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8179" class="Bound">executionStack</a> <a id="8194" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8194" class="Bound">initialAddr</a> <a id="8206" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8206" class="Bound">lastCallAddr</a> <a id="8219" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8219" class="Bound">calledAddr</a>
                 <a id="8247" class="Symbol">(</a><a id="8248" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="InductiveConstructor">exec</a> <a id="8253" class="Symbol">(</a><a id="8254" href="Complex-Model.ccomand.ccommands-cresponse.html#550" class="InductiveConstructor">updatec</a> <a id="8262" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8262" class="Bound">changedFname</a> <a id="8275" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8275" class="Bound">changedPFun</a> <a id="8287" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8287" class="Bound">cost</a><a id="8291" class="Symbol">)</a> <a id="8293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8293" class="Bound">costcomputecont</a> <a id="8309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8309" class="Bound">cont</a><a id="8313" class="Symbol">)</a> <a id="8315" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8315" class="Bound">gasLeft</a> <a id="8323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8323" class="Bound">funNameevalState</a> <a id="8340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8340" class="Bound">msgevalState</a><a id="8352" class="Symbol">)</a>
       <a id="8361" class="Symbol">=</a> <a id="8363" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="8371" class="Symbol">(</a><a id="8372" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#781" class="Function">updateLedgerpurefun</a> <a id="8392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8165" class="Bound">currentLedger</a> <a id="8406" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8219" class="Bound">calledAddr</a> <a id="8417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8262" class="Bound">changedFname</a>  <a id="8431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8275" class="Bound">changedPFun</a><a id="8442" class="Symbol">)</a>
          <a id="8454" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8179" class="Bound">executionStack</a> <a id="8469" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8194" class="Bound">initialAddr</a> <a id="8481" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8206" class="Bound">lastCallAddr</a> <a id="8494" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8219" class="Bound">calledAddr</a> <a id="8505" class="Symbol">(</a><a id="8506" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8309" class="Bound">cont</a> <a id="8511" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="8513" class="Symbol">)</a> <a id="8515" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8315" class="Bound">gasLeft</a> <a id="8523" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8323" class="Bound">funNameevalState</a> <a id="8540" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8340" class="Bound">msgevalState</a>

<a id="8554" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="8561" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8561" class="Bound">oldLedger</a> <a id="8571" class="Symbol">(</a><a id="8572" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="8580" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8580" class="Bound">currentLedger</a> <a id="8594" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8594" class="Bound">executionStack</a> <a id="8609" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8609" class="Bound">initialAddr</a> <a id="8621" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8621" class="Bound">oldlastCallAddr</a> <a id="8637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8637" class="Bound">oldcalledAddr</a>
                 <a id="8668" class="Symbol">(</a><a id="8669" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="InductiveConstructor">exec</a> <a id="8674" class="Symbol">(</a><a id="8675" href="Complex-Model.ccomand.ccommands-cresponse.html#769" class="InductiveConstructor">callc</a> <a id="8681" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8681" class="Bound">newaddr</a> <a id="8689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8689" class="Bound">fname</a> <a id="8695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8695" class="Bound">msg</a><a id="8698" class="Symbol">)</a> <a id="8700" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8700" class="Bound">costcomputecont</a> <a id="8716" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8716" class="Bound">cont</a><a id="8720" class="Symbol">)</a> <a id="8722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8722" class="Bound">gasLeft</a> <a id="8730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8730" class="Bound">funNameevalState</a> <a id="8747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8747" class="Bound">msgevalState</a><a id="8759" class="Symbol">)</a>
       <a id="8768" class="Symbol">=</a> <a id="8770" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="8778" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8580" class="Bound">currentLedger</a>
           <a id="8803" class="Symbol">(</a><a id="8804" href="libraries.Mainlibrary.html#1129" class="InductiveConstructor">execStackEl</a> <a id="8816" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8621" class="Bound">oldlastCallAddr</a> <a id="8832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8637" class="Bound">oldcalledAddr</a> <a id="8846" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8716" class="Bound">cont</a> <a id="8851" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8700" class="Bound">costcomputecont</a> <a id="8867" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8730" class="Bound">funNameevalState</a> <a id="8884" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8747" class="Bound">msgevalState</a> <a id="8897" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8594" class="Bound">executionStack</a><a id="8913" class="Symbol">)</a>
           <a id="8926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8609" class="Bound">initialAddr</a> <a id="8938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8637" class="Bound">oldcalledAddr</a> <a id="8952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8681" class="Bound">newaddr</a> <a id="8960" class="Symbol">(</a><a id="8961" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8580" class="Bound">currentLedger</a> <a id="8975" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8681" class="Bound">newaddr</a> <a id="8983" class="Symbol">.</a><a id="8984" href="libraries.Mainlibrary.html#865" class="Field">fun</a> <a id="8988" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8689" class="Bound">fname</a> <a id="8994" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8695" class="Bound">msg</a><a id="8997" class="Symbol">)</a> <a id="8999" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8722" class="Bound">gasLeft</a> <a id="9007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8689" class="Bound">fname</a> <a id="9013" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8695" class="Bound">msg</a>

<a id="9018" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="9025" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9025" class="Bound">oldLedger</a> <a id="9035" class="Symbol">(</a><a id="9036" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="9044" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9044" class="Bound">currentLedger</a> <a id="9058" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9058" class="Bound">executionStack</a> <a id="9073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9073" class="Bound">initialAddr</a> <a id="9085" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9085" class="Bound">lastCallAddr</a> <a id="9098" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9098" class="Bound">calledAddr</a>
                 <a id="9126" class="Symbol">(</a><a id="9127" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="InductiveConstructor">exec</a> <a id="9132" class="Symbol">(</a><a id="9133" href="Complex-Model.ccomand.ccommands-cresponse.html#723" class="InductiveConstructor">transferc</a> <a id="9143" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9143" class="Bound">amount</a> <a id="9150" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9150" class="Bound">destinationAddr</a><a id="9165" class="Symbol">)</a> <a id="9167" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9167" class="Bound">costcomputecont</a> <a id="9183" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9183" class="Bound">cont</a><a id="9187" class="Symbol">)</a> <a id="9189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9189" class="Bound">gasLeft</a>  <a id="9198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9198" class="Bound">funNameevalState</a> <a id="9215" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9215" class="Bound">msgevalState</a><a id="9227" class="Symbol">)</a>
       <a id="9236" class="Symbol">=</a> <a id="9238" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6426" class="Function">executeTransfer</a> <a id="9254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9025" class="Bound">oldLedger</a> <a id="9264" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9044" class="Bound">currentLedger</a> <a id="9278" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9058" class="Bound">executionStack</a> <a id="9293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9073" class="Bound">initialAddr</a> <a id="9305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9085" class="Bound">lastCallAddr</a> <a id="9318" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9098" class="Bound">calledAddr</a>
       <a id="9336" class="Symbol">(</a><a id="9337" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9183" class="Bound">cont</a> <a id="9342" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="9344" class="Symbol">)</a> <a id="9346" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9189" class="Bound">gasLeft</a>  <a id="9355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9198" class="Bound">funNameevalState</a> <a id="9372" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9215" class="Bound">msgevalState</a> <a id="9385" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9143" class="Bound">amount</a> <a id="9392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9150" class="Bound">destinationAddr</a>

<a id="9409" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="9416" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9416" class="Bound">oldLedger</a> <a id="9426" class="Symbol">(</a><a id="9427" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="9435" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9435" class="Bound">currentLedger</a> <a id="9449" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9449" class="Bound">executionStack</a> <a id="9464" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9464" class="Bound">initialAddr</a> <a id="9476" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9476" class="Bound">lastCallAddr</a> <a id="9489" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9489" class="Bound">calledAddr</a>
                 <a id="9517" class="Symbol">(</a><a id="9518" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="InductiveConstructor">exec</a> <a id="9523" class="Symbol">(</a><a id="9524" href="Complex-Model.ccomand.ccommands-cresponse.html#894" class="InductiveConstructor">getAmountc</a> <a id="9535" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9535" class="Bound">addrLookedUp</a><a id="9547" class="Symbol">)</a> <a id="9549" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9549" class="Bound">costcomputecont</a> <a id="9565" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9565" class="Bound">cont</a><a id="9569" class="Symbol">)</a> <a id="9571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9571" class="Bound">gasLeft</a> <a id="9579" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9579" class="Bound">funNameevalState</a> <a id="9596" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9596" class="Bound">msgevalState</a><a id="9608" class="Symbol">)</a>
       <a id="9617" class="Symbol">=</a> <a id="9619" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="9627" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9435" class="Bound">currentLedger</a> <a id="9641" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9449" class="Bound">executionStack</a> <a id="9656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9464" class="Bound">initialAddr</a> <a id="9668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9476" class="Bound">lastCallAddr</a> <a id="9681" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9489" class="Bound">calledAddr</a>
           <a id="9703" class="Symbol">(</a><a id="9704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9565" class="Bound">cont</a> <a id="9709" class="Symbol">(</a><a id="9710" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9435" class="Bound">currentLedger</a> <a id="9724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9535" class="Bound">addrLookedUp</a> <a id="9737" class="Symbol">.</a><a id="9738" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="9744" class="Symbol">))</a> <a id="9747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9571" class="Bound">gasLeft</a> <a id="9755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9579" class="Bound">funNameevalState</a> <a id="9772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9596" class="Bound">msgevalState</a>


<a id="9787" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="9794" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9794" class="Bound">oldLedger</a> <a id="9804" class="Symbol">(</a><a id="9805" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="9813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9813" class="Bound">ledger</a> <a id="9820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9820" class="Bound">executionStack</a> <a id="9835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9835" class="Bound">initialAddr</a> <a id="9847" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9847" class="Bound">lastCallAddr</a> <a id="9860" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9860" class="Bound">calledAddr</a>
                   <a id="9890" class="Symbol">(</a><a id="9891" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="InductiveConstructor">exec</a> <a id="9896" class="Symbol">(</a><a id="9897" href="Complex-Model.ccomand.ccommands-cresponse.html#678" class="InductiveConstructor">raiseException</a> <a id="9912" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9912" class="Bound">cost</a> <a id="9917" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9917" class="Bound">str</a><a id="9920" class="Symbol">)</a> <a id="9922" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9922" class="Bound">costcomputecont</a> <a id="9938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9938" class="Bound">cont</a><a id="9942" class="Symbol">)</a>
                   <a id="9963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9963" class="Bound">gasLeft</a> <a id="9971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9971" class="Bound">funNameevalState</a> <a id="9988" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9988" class="Bound">msgevalState</a><a id="10000" class="Symbol">)</a>
       <a id="10009" class="Symbol">=</a> <a id="10011" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="10019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9794" class="Bound">oldLedger</a> <a id="10029" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9820" class="Bound">executionStack</a> <a id="10044" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9835" class="Bound">initialAddr</a> <a id="10056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9847" class="Bound">lastCallAddr</a> <a id="10069" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9860" class="Bound">calledAddr</a>
         <a id="10089" class="Symbol">(</a><a id="10090" href="Complex-Model.ccomand.ccommands-cresponse.html#1591" class="InductiveConstructor">error</a>  <a id="10097" class="Symbol">(</a><a id="10098" href="basicDataStructure.html#694" class="InductiveConstructor">strErr</a> <a id="10105" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9917" class="Bound">str</a><a id="10108" class="Symbol">)</a> <a id="10110" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="10112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9847" class="Bound">lastCallAddr</a> <a id="10125" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="10128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9835" class="Bound">initialAddr</a> <a id="10140" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="10142" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9971" class="Bound">funNameevalState</a> <a id="10159" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="10161" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9988" class="Bound">msgevalState</a> <a id="10174" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="10176" class="Symbol">)</a>
         <a id="10187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9963" class="Bound">gasLeft</a> <a id="10195" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9971" class="Bound">funNameevalState</a> <a id="10212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9988" class="Bound">msgevalState</a>


<a id="10227" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="10234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10234" class="Bound">oldLedger</a> <a id="10244" class="Symbol">(</a><a id="10245" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="10253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10253" class="Bound">currentLedger</a> <a id="10267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10267" class="Bound">executionStack</a> <a id="10282" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10282" class="Bound">initialAddr</a> <a id="10294" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10294" class="Bound">lastCallAddr</a> <a id="10307" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10307" class="Bound">calledAddr</a>
                 <a id="10335" class="Symbol">(</a><a id="10336" href="Complex-Model.ccomand.ccommands-cresponse.html#1591" class="InductiveConstructor">error</a> <a id="10342" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10342" class="Bound">errorMsg</a> <a id="10351" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10351" class="Bound">debugInfo</a><a id="10360" class="Symbol">)</a> <a id="10362" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10362" class="Bound">gasLeft</a>  <a id="10371" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10371" class="Bound">funNameevalState</a> <a id="10388" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10388" class="Bound">msgevalState</a><a id="10400" class="Symbol">)</a>
       <a id="10409" class="Symbol">=</a> <a id="10411" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="10419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10234" class="Bound">oldLedger</a> <a id="10429" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10267" class="Bound">executionStack</a> <a id="10444" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10282" class="Bound">initialAddr</a> <a id="10456" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10294" class="Bound">lastCallAddr</a> <a id="10469" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10307" class="Bound">calledAddr</a>
         <a id="10489" class="Symbol">(</a><a id="10490" href="Complex-Model.ccomand.ccommands-cresponse.html#1591" class="InductiveConstructor">error</a> <a id="10496" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10342" class="Bound">errorMsg</a> <a id="10505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10351" class="Bound">debugInfo</a><a id="10514" class="Symbol">)</a>  <a id="10517" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10362" class="Bound">gasLeft</a>  <a id="10526" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10371" class="Bound">funNameevalState</a> <a id="10543" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10388" class="Bound">msgevalState</a>


<a id="10558" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="10565" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10565" class="Bound">oldLedger</a> <a id="10575" class="Symbol">(</a><a id="10576" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="10584" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10584" class="Bound">currentLedger</a> <a id="10598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10598" class="Bound">executionStack</a> <a id="10613" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10613" class="Bound">initialAddr</a> <a id="10625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10625" class="Bound">lastCallAddr</a> <a id="10638" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10638" class="Bound">calledAddr</a>
                 <a id="10666" class="Symbol">(</a><a id="10667" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="InductiveConstructor">exec</a> <a id="10672" class="Symbol">(</a><a id="10673" href="Complex-Model.ccomand.ccommands-cresponse.html#491" class="InductiveConstructor">callPure</a> <a id="10682" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10682" class="Bound">addr</a> <a id="10687" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10687" class="Bound">fname</a> <a id="10693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10693" class="Bound">msg</a><a id="10696" class="Symbol">)</a> <a id="10698" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10698" class="Bound">costcomputecont</a> <a id="10714" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10714" class="Bound">cont</a><a id="10718" class="Symbol">)</a> <a id="10720" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10720" class="Bound">gasLeft</a>
                  <a id="10746" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10746" class="Bound">funNameevalState</a> <a id="10763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10763" class="Bound">msgevalState</a><a id="10775" class="Symbol">)</a>
       <a id="10784" class="Symbol">=</a> <a id="10786" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="10794" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10584" class="Bound">currentLedger</a> <a id="10808" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10598" class="Bound">executionStack</a> <a id="10823" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10613" class="Bound">initialAddr</a> <a id="10835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10625" class="Bound">lastCallAddr</a> <a id="10848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10638" class="Bound">calledAddr</a>
         <a id="10868" class="Symbol">(</a><a id="10869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10714" class="Bound">cont</a> <a id="10874" class="Symbol">(</a><a id="10875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10584" class="Bound">currentLedger</a> <a id="10889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10682" class="Bound">addr</a> <a id="10894" class="Symbol">.</a><a id="10895" href="libraries.Mainlibrary.html#927" class="Field">purefunction</a> <a id="10908" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10687" class="Bound">fname</a> <a id="10914" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10693" class="Bound">msg</a><a id="10917" class="Symbol">))</a> <a id="10920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10720" class="Bound">gasLeft</a> <a id="10928" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10687" class="Bound">fname</a> <a id="10934" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10693" class="Bound">msg</a>


<a id="10940" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="10947" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10947" class="Bound">oldLedger</a> <a id="10957" class="Symbol">(</a><a id="10958" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="10966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10966" class="Bound">currentLedger</a> <a id="10980" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="10983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10983" class="Bound">initialAddr</a> <a id="10995" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10995" class="Bound">lastCallAddr</a> <a id="11008" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11008" class="Bound">calledAddr</a>
                 <a id="11036" class="Symbol">(</a><a id="11037" href="Complex-Model.ccomand.ccommands-cresponse.html#1553" class="InductiveConstructor">return</a> <a id="11044" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11044" class="Bound">cost</a> <a id="11049" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11049" class="Bound">result</a><a id="11055" class="Symbol">)</a> <a id="11057" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11057" class="Bound">gasLeft</a>  <a id="11066" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11066" class="Bound">funNameevalState</a> <a id="11083" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11083" class="Bound">msgevalState</a><a id="11095" class="Symbol">)</a>
       <a id="11104" class="Symbol">=</a> <a id="11106" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="11114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10966" class="Bound">currentLedger</a> <a id="11128" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="11131" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10983" class="Bound">initialAddr</a> <a id="11143" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10995" class="Bound">lastCallAddr</a> <a id="11156" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11008" class="Bound">calledAddr</a>
         <a id="11176" class="Symbol">(</a><a id="11177" href="Complex-Model.ccomand.ccommands-cresponse.html#1553" class="InductiveConstructor">return</a> <a id="11184" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11044" class="Bound">cost</a> <a id="11189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11049" class="Bound">result</a><a id="11195" class="Symbol">)</a> <a id="11197" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11057" class="Bound">gasLeft</a>  <a id="11206" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11066" class="Bound">funNameevalState</a> <a id="11223" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11083" class="Bound">msgevalState</a> 

<a id="11238" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="11245" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11245" class="Bound">oldLedger</a> <a id="11255" class="Symbol">(</a><a id="11256" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="11264" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11264" class="Bound">currentLedger</a> <a id="11278" class="Symbol">(</a><a id="11279" href="libraries.Mainlibrary.html#1129" class="InductiveConstructor">execStackEl</a> <a id="11291" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11291" class="Bound">prevLastCallAddress</a> <a id="11311" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11311" class="Bound">prevCalledAddress</a> <a id="11329" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11329" class="Bound">prevContinuation</a>
                 <a id="11363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11363" class="Bound">prevCostCont</a> <a id="11376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11376" class="Bound">prevFunName</a> <a id="11388" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11388" class="Bound">prevMsgExec</a> <a id="11400" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11402" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11402" class="Bound">executionStack</a><a id="11416" class="Symbol">)</a>
                  <a id="11436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11436" class="Bound">initialAddr</a> <a id="11448" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11448" class="Bound">lastCallAddr</a> <a id="11461" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11461" class="Bound">calledAddr</a> <a id="11472" class="Symbol">(</a><a id="11473" href="Complex-Model.ccomand.ccommands-cresponse.html#1553" class="InductiveConstructor">return</a> <a id="11480" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11480" class="Bound">cost</a> <a id="11485" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11485" class="Bound">result</a><a id="11491" class="Symbol">)</a> <a id="11493" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11493" class="Bound">gasLeft</a> <a id="11501" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11501" class="Bound">funNameevalState</a> <a id="11518" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11518" class="Bound">msgevalState</a><a id="11530" class="Symbol">)</a>
       <a id="11539" class="Symbol">=</a> <a id="11541" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="11549" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11264" class="Bound">currentLedger</a> <a id="11563" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11402" class="Bound">executionStack</a> <a id="11578" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11436" class="Bound">initialAddr</a> <a id="11590" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11291" class="Bound">prevLastCallAddress</a> <a id="11610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11311" class="Bound">prevCalledAddress</a>
          <a id="11638" class="Symbol">(</a><a id="11639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11329" class="Bound">prevContinuation</a> <a id="11656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11485" class="Bound">result</a><a id="11662" class="Symbol">)</a> <a id="11664" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11493" class="Bound">gasLeft</a> <a id="11672" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11376" class="Bound">prevFunName</a> <a id="11684" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11388" class="Bound">prevMsgExec</a>


<a id="11698" class="Comment">--some lemmas to prove and we use them with our executevotingexample.agda</a>
<a id="lemmaStepEFpreserveGas"></a><a id="11772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11772" class="Function">lemmaStepEFpreserveGas</a> <a id="11795" class="Symbol">:</a> <a id="11797" class="Symbol">(</a><a id="11798" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11798" class="Bound">oldLedger</a> <a id="11808" class="Symbol">:</a> <a id="11810" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="11816" class="Symbol">)</a> <a id="11818" class="Symbol">→</a> <a id="11820" class="Symbol">(</a><a id="11821" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11821" class="Bound">state</a> <a id="11827" class="Symbol">:</a> <a id="11829" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a><a id="11841" class="Symbol">)</a> <a id="11843" class="Symbol">→</a>
                         <a id="11870" href="libraries.Mainlibrary.html#2577" class="Field">gasLeft</a> <a id="11878" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11821" class="Bound">state</a> <a id="11884" href="libraries.natCompare.html#552" class="Function Operator">==r</a> <a id="11888" href="libraries.Mainlibrary.html#2577" class="Field">gasLeft</a> <a id="11896" class="Symbol">(</a><a id="11897" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="11904" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11798" class="Bound">oldLedger</a> <a id="11914" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11821" class="Bound">state</a><a id="11919" class="Symbol">)</a>
<a id="11921" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11772" class="Function">lemmaStepEFpreserveGas</a> <a id="11944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11944" class="Bound">oldLedger</a> <a id="11954" class="Symbol">(</a><a id="11955" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="11963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11963" class="Bound">ledger</a> <a id="11970" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="11973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11973" class="Bound">initialAddr</a> <a id="11985" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11985" class="Bound">lastCallAddr</a> <a id="11998" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11998" class="Bound">calledAddr</a>
                       <a id="12032" class="Symbol">(</a><a id="12033" href="Complex-Model.ccomand.ccommands-cresponse.html#1553" class="InductiveConstructor">return</a> <a id="12040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12040" class="Bound">x</a> <a id="12042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12042" class="Bound">x₁</a><a id="12044" class="Symbol">)</a> <a id="12046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12046" class="Bound">gasLeft1</a> <a id="12055" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12055" class="Bound">funNameevalState</a> <a id="12072" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12072" class="Bound">msgevalState</a><a id="12084" class="Symbol">)</a> <a id="12086" class="Symbol">=</a> <a id="12088" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="12096" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12046" class="Bound">gasLeft1</a>
<a id="12105" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11772" class="Function">lemmaStepEFpreserveGas</a> <a id="12128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12128" class="Bound">oldLedger</a> <a id="12138" class="Symbol">(</a><a id="12139" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="12147" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12147" class="Bound">ledger</a> <a id="12154" class="Symbol">(</a><a id="12155" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12155" class="Bound">x₂</a> <a id="12158" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="12160" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12160" class="Bound">executionStack₁</a><a id="12175" class="Symbol">)</a> <a id="12177" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12177" class="Bound">initialAddr</a> <a id="12189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12189" class="Bound">lastCallAddr</a> <a id="12202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12202" class="Bound">calledAddr</a>
                       <a id="12236" class="Symbol">(</a><a id="12237" href="Complex-Model.ccomand.ccommands-cresponse.html#1553" class="InductiveConstructor">return</a> <a id="12244" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12244" class="Bound">x</a> <a id="12246" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12246" class="Bound">x₁</a><a id="12248" class="Symbol">)</a> <a id="12250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12250" class="Bound">gasLeft1</a> <a id="12259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12259" class="Bound">funNameevalState</a> <a id="12276" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12276" class="Bound">msgevalState</a><a id="12288" class="Symbol">)</a> <a id="12290" class="Symbol">=</a> <a id="12292" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="12300" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12250" class="Bound">gasLeft1</a>
<a id="12309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11772" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12331" class="CatchallClause"> </a><a id="12332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12332" class="CatchallClause Bound">oldLedger</a><a id="12341" class="CatchallClause"> </a><a id="12342" class="CatchallClause Symbol">(</a><a id="12343" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="12350" class="CatchallClause"> </a><a id="12351" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12351" class="CatchallClause Bound">ledger</a><a id="12357" class="CatchallClause"> </a><a id="12358" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12358" class="CatchallClause Bound">executionStack</a><a id="12372" class="CatchallClause"> </a><a id="12373" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12373" class="CatchallClause Bound">initialAddr</a><a id="12384" class="CatchallClause"> </a><a id="12385" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12385" class="CatchallClause Bound">lastCallAddr</a><a id="12397" class="CatchallClause"> </a><a id="12398" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12398" class="CatchallClause Bound">calledAddr</a>
                       <a id="12432" class="CatchallClause Symbol">(</a><a id="12433" href="Complex-Model.ccomand.ccommands-cresponse.html#1591" class="CatchallClause InductiveConstructor">error</a><a id="12438" class="CatchallClause"> </a><a id="12439" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12439" class="CatchallClause Bound">x</a><a id="12440" class="CatchallClause"> </a><a id="12441" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12441" class="CatchallClause Bound">x₁</a><a id="12443" class="CatchallClause Symbol">)</a><a id="12444" class="CatchallClause"> </a><a id="12445" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12445" class="CatchallClause Bound">gasLeft1</a><a id="12453" class="CatchallClause"> </a><a id="12454" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12454" class="CatchallClause Bound">funNameevalState</a><a id="12470" class="CatchallClause"> </a><a id="12471" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12471" class="CatchallClause Bound">msgevalState</a><a id="12483" class="CatchallClause Symbol">)</a> <a id="12485" class="Symbol">=</a> <a id="12487" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="12495" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12445" class="Bound">gasLeft1</a>
<a id="12504" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11772" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12526" class="CatchallClause"> </a><a id="12527" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12527" class="CatchallClause Bound">oldLedger</a><a id="12536" class="CatchallClause"> </a><a id="12537" class="CatchallClause Symbol">(</a><a id="12538" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="12545" class="CatchallClause"> </a><a id="12546" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12546" class="CatchallClause Bound">ledger</a><a id="12552" class="CatchallClause"> </a><a id="12553" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12553" class="CatchallClause Bound">executionStack</a><a id="12567" class="CatchallClause"> </a><a id="12568" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12568" class="CatchallClause Bound">initialAddr</a><a id="12579" class="CatchallClause"> </a><a id="12580" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12580" class="CatchallClause Bound">lastCallAddr</a><a id="12592" class="CatchallClause"> </a><a id="12593" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12593" class="CatchallClause Bound">calledAddr</a>
                       <a id="12627" class="CatchallClause Symbol">(</a><a id="12628" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="12632" class="CatchallClause"> </a><a id="12633" class="CatchallClause Symbol">(</a><a id="12634" href="Complex-Model.ccomand.ccommands-cresponse.html#491" class="CatchallClause InductiveConstructor">callPure</a><a id="12642" class="CatchallClause"> </a><a id="12643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12643" class="CatchallClause Bound">x₂</a><a id="12645" class="CatchallClause"> </a><a id="12646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12646" class="CatchallClause Bound">x₃</a><a id="12648" class="CatchallClause"> </a><a id="12649" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12649" class="CatchallClause Bound">x₄</a><a id="12651" class="CatchallClause Symbol">)</a><a id="12652" class="CatchallClause"> </a><a id="12653" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12653" class="CatchallClause Bound">x</a><a id="12654" class="CatchallClause"> </a><a id="12655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12655" class="CatchallClause Bound">x₁</a><a id="12657" class="CatchallClause Symbol">)</a><a id="12658" class="CatchallClause"> </a><a id="12659" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12659" class="CatchallClause Bound">gasLeft1</a><a id="12667" class="CatchallClause"> </a><a id="12668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12668" class="CatchallClause Bound">funNameevalState</a><a id="12684" class="CatchallClause"> </a><a id="12685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12685" class="CatchallClause Bound">msgevalState</a><a id="12697" class="CatchallClause Symbol">)</a> <a id="12699" class="Symbol">=</a> <a id="12701" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="12709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12659" class="Bound">gasLeft1</a>
<a id="12718" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11772" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12740" class="CatchallClause"> </a><a id="12741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12741" class="CatchallClause Bound">oldLedger</a><a id="12750" class="CatchallClause"> </a><a id="12751" class="CatchallClause Symbol">(</a><a id="12752" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="12759" class="CatchallClause"> </a><a id="12760" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12760" class="CatchallClause Bound">ledger</a><a id="12766" class="CatchallClause"> </a><a id="12767" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12767" class="CatchallClause Bound">executionStack</a><a id="12781" class="CatchallClause"> </a><a id="12782" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12782" class="CatchallClause Bound">initialAddr</a><a id="12793" class="CatchallClause"> </a><a id="12794" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12794" class="CatchallClause Bound">lastCallAddr</a><a id="12806" class="CatchallClause"> </a><a id="12807" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12807" class="CatchallClause Bound">calledAddr</a>
                       <a id="12841" class="CatchallClause Symbol">(</a><a id="12842" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="12846" class="CatchallClause"> </a><a id="12847" class="CatchallClause Symbol">(</a><a id="12848" href="Complex-Model.ccomand.ccommands-cresponse.html#550" class="CatchallClause InductiveConstructor">updatec</a><a id="12855" class="CatchallClause"> </a><a id="12856" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12856" class="CatchallClause Bound">x₂</a><a id="12858" class="CatchallClause"> </a><a id="12859" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12859" class="CatchallClause Bound">x₃</a><a id="12861" class="CatchallClause"> </a><a id="12862" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12862" class="CatchallClause Bound">x₄</a><a id="12864" class="CatchallClause Symbol">)</a><a id="12865" class="CatchallClause"> </a><a id="12866" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12866" class="CatchallClause Bound">x</a><a id="12867" class="CatchallClause"> </a><a id="12868" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12868" class="CatchallClause Bound">x₁</a><a id="12870" class="CatchallClause Symbol">)</a><a id="12871" class="CatchallClause"> </a><a id="12872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12872" class="CatchallClause Bound">gasLeft1</a><a id="12880" class="CatchallClause"> </a><a id="12881" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12881" class="CatchallClause Bound">funNameevalState</a><a id="12897" class="CatchallClause"> </a><a id="12898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12898" class="CatchallClause Bound">msgevalState</a><a id="12910" class="CatchallClause Symbol">)</a> <a id="12912" class="Symbol">=</a> <a id="12914" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="12922" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12872" class="Bound">gasLeft1</a>
<a id="12931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11772" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12953" class="CatchallClause"> </a><a id="12954" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12954" class="CatchallClause Bound">oldLedger</a><a id="12963" class="CatchallClause"> </a><a id="12964" class="CatchallClause Symbol">(</a><a id="12965" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="12972" class="CatchallClause"> </a><a id="12973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12973" class="CatchallClause Bound">ledger</a><a id="12979" class="CatchallClause"> </a><a id="12980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12980" class="CatchallClause Bound">executionStack</a><a id="12994" class="CatchallClause"> </a><a id="12995" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12995" class="CatchallClause Bound">initialAddr</a><a id="13006" class="CatchallClause"> </a><a id="13007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13007" class="CatchallClause Bound">lastCallAddr</a><a id="13019" class="CatchallClause"> </a><a id="13020" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13020" class="CatchallClause Bound">calledAddr</a>
                       <a id="13054" class="CatchallClause Symbol">(</a><a id="13055" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="13059" class="CatchallClause"> </a><a id="13060" class="CatchallClause Symbol">(</a><a id="13061" href="Complex-Model.ccomand.ccommands-cresponse.html#678" class="CatchallClause InductiveConstructor">raiseException</a><a id="13075" class="CatchallClause"> </a><a id="13076" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13076" class="CatchallClause Bound">x₂</a><a id="13078" class="CatchallClause"> </a><a id="13079" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13079" class="CatchallClause Bound">x₃</a><a id="13081" class="CatchallClause Symbol">)</a><a id="13082" class="CatchallClause"> </a><a id="13083" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13083" class="CatchallClause Bound">x</a><a id="13084" class="CatchallClause"> </a><a id="13085" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13085" class="CatchallClause Bound">x₁</a><a id="13087" class="CatchallClause Symbol">)</a><a id="13088" class="CatchallClause"> </a><a id="13089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13089" class="CatchallClause Bound">gasLeft1</a><a id="13097" class="CatchallClause"> </a><a id="13098" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13098" class="CatchallClause Bound">funNameevalState</a><a id="13114" class="CatchallClause"> </a><a id="13115" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13115" class="CatchallClause Bound">msgevalState</a><a id="13127" class="CatchallClause Symbol">)</a> <a id="13129" class="Symbol">=</a> <a id="13131" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="13139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13089" class="Bound">gasLeft1</a>
<a id="13148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11772" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13170" class="CatchallClause"> </a><a id="13171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13171" class="CatchallClause Bound">oldLedger</a><a id="13180" class="CatchallClause"> </a><a id="13181" class="CatchallClause Symbol">(</a><a id="13182" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="13189" class="CatchallClause"> </a><a id="13190" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13190" class="CatchallClause Bound">ledger</a><a id="13196" class="CatchallClause"> </a><a id="13197" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13197" class="CatchallClause Bound">executionStack</a><a id="13211" class="CatchallClause"> </a><a id="13212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13212" class="CatchallClause Bound">initialAddr</a><a id="13223" class="CatchallClause"> </a><a id="13224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13224" class="CatchallClause Bound">lastCallAddr</a><a id="13236" class="CatchallClause"> </a><a id="13237" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13237" class="CatchallClause Bound">calledAddr</a>
                       <a id="13271" class="CatchallClause Symbol">(</a><a id="13272" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="13276" class="CatchallClause"> </a><a id="13277" class="CatchallClause Symbol">(</a><a id="13278" href="Complex-Model.ccomand.ccommands-cresponse.html#723" class="CatchallClause InductiveConstructor">transferc</a><a id="13287" class="CatchallClause"> </a><a id="13288" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13288" class="CatchallClause Bound">amount</a><a id="13294" class="CatchallClause"> </a><a id="13295" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13295" class="CatchallClause Bound">destinationAddr</a><a id="13310" class="CatchallClause Symbol">)</a><a id="13311" class="CatchallClause"> </a><a id="13312" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13312" class="CatchallClause Bound">costcomputecont</a><a id="13327" class="CatchallClause"> </a><a id="13328" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13328" class="CatchallClause Bound">cont</a><a id="13332" class="CatchallClause Symbol">)</a><a id="13333" class="CatchallClause"> </a><a id="13334" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13334" class="CatchallClause Bound">gasLeft1</a><a id="13342" class="CatchallClause"> </a><a id="13343" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13343" class="CatchallClause Bound">funNameevalState</a><a id="13359" class="CatchallClause"> </a><a id="13360" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13360" class="CatchallClause Bound">msgevalState</a><a id="13372" class="CatchallClause Symbol">)</a>
                       <a id="13397" class="Symbol">=</a> <a id="13399" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4919" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="13428" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13171" class="Bound">oldLedger</a> <a id="13438" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13190" class="Bound">ledger</a> <a id="13445" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13197" class="Bound">executionStack</a> <a id="13460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13212" class="Bound">initialAddr</a> <a id="13472" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13224" class="Bound">lastCallAddr</a> <a id="13485" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13237" class="Bound">calledAddr</a>
                       <a id="13519" class="Symbol">(</a><a id="13520" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13328" class="Bound">cont</a> <a id="13525" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="13527" class="Symbol">)</a> <a id="13529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13334" class="Bound">gasLeft1</a> <a id="13538" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13343" class="Bound">funNameevalState</a> <a id="13555" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13360" class="Bound">msgevalState</a> <a id="13568" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13288" class="Bound">amount</a> <a id="13575" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13295" class="Bound">destinationAddr</a>
                       <a id="13614" class="Symbol">((</a><a id="13616" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="13627" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13288" class="Bound">amount</a> <a id="13634" class="Symbol">(</a><a id="13635" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13190" class="Bound">ledger</a> <a id="13642" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13237" class="Bound">calledAddr</a> <a id="13653" class="Symbol">.</a><a id="13654" href="libraries.Mainlibrary.html#839" class="Field">Contract.amount</a><a id="13669" class="Symbol">)))</a>
<a id="13673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11772" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13695" class="CatchallClause"> </a><a id="13696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13696" class="CatchallClause Bound">oldLedger</a><a id="13705" class="CatchallClause"> </a><a id="13706" class="CatchallClause Symbol">(</a><a id="13707" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="13714" class="CatchallClause"> </a><a id="13715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13715" class="CatchallClause Bound">ledger</a><a id="13721" class="CatchallClause"> </a><a id="13722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13722" class="CatchallClause Bound">executionStack</a><a id="13736" class="CatchallClause"> </a><a id="13737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13737" class="CatchallClause Bound">initialAddr</a><a id="13748" class="CatchallClause"> </a><a id="13749" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13749" class="CatchallClause Bound">lastCallAddr</a><a id="13761" class="CatchallClause"> </a><a id="13762" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13762" class="CatchallClause Bound">calledAddr</a>
                       <a id="13796" class="CatchallClause Symbol">(</a><a id="13797" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="13801" class="CatchallClause"> </a><a id="13802" class="CatchallClause Symbol">(</a><a id="13803" href="Complex-Model.ccomand.ccommands-cresponse.html#769" class="CatchallClause InductiveConstructor">callc</a><a id="13808" class="CatchallClause"> </a><a id="13809" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13809" class="CatchallClause Bound">x₂</a><a id="13811" class="CatchallClause"> </a><a id="13812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13812" class="CatchallClause Bound">x₃</a><a id="13814" class="CatchallClause"> </a><a id="13815" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13815" class="CatchallClause Bound">x₄</a><a id="13817" class="CatchallClause Symbol">)</a><a id="13818" class="CatchallClause"> </a><a id="13819" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13819" class="CatchallClause Bound">x</a><a id="13820" class="CatchallClause"> </a><a id="13821" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13821" class="CatchallClause Bound">x₁</a><a id="13823" class="CatchallClause Symbol">)</a><a id="13824" class="CatchallClause"> </a><a id="13825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13825" class="CatchallClause Bound">gasLeft1</a><a id="13833" class="CatchallClause"> </a><a id="13834" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13834" class="CatchallClause Bound">funNameevalState</a><a id="13850" class="CatchallClause"> </a><a id="13851" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13851" class="CatchallClause Bound">msgevalState</a><a id="13863" class="CatchallClause Symbol">)</a> <a id="13865" class="Symbol">=</a> <a id="13867" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="13875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13825" class="Bound">gasLeft1</a>
<a id="13884" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11772" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13906" class="CatchallClause"> </a><a id="13907" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13907" class="CatchallClause Bound">oldLedger</a><a id="13916" class="CatchallClause"> </a><a id="13917" class="CatchallClause Symbol">(</a><a id="13918" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="13925" class="CatchallClause"> </a><a id="13926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13926" class="CatchallClause Bound">ledger</a><a id="13932" class="CatchallClause"> </a><a id="13933" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13933" class="CatchallClause Bound">executionStack</a><a id="13947" class="CatchallClause"> </a><a id="13948" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13948" class="CatchallClause Bound">initialAddr</a><a id="13959" class="CatchallClause"> </a><a id="13960" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13960" class="CatchallClause Bound">lastCallAddr</a><a id="13972" class="CatchallClause"> </a><a id="13973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13973" class="CatchallClause Bound">calledAddr</a>
                       <a id="14007" class="CatchallClause Symbol">(</a><a id="14008" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="14012" class="CatchallClause"> </a><a id="14013" href="Complex-Model.ccomand.ccommands-cresponse.html#827" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="14031" class="CatchallClause"> </a><a id="14032" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14032" class="CatchallClause Bound">x</a><a id="14033" class="CatchallClause"> </a><a id="14034" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14034" class="CatchallClause Bound">x₁</a><a id="14036" class="CatchallClause Symbol">)</a><a id="14037" class="CatchallClause"> </a><a id="14038" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14038" class="CatchallClause Bound">gasLeft1</a><a id="14046" class="CatchallClause"> </a><a id="14047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14047" class="CatchallClause Bound">funNameevalState</a><a id="14063" class="CatchallClause"> </a><a id="14064" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14064" class="CatchallClause Bound">msgevalState</a><a id="14076" class="CatchallClause Symbol">)</a> <a id="14078" class="Symbol">=</a> <a id="14080" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="14088" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14038" class="Bound">gasLeft1</a>
<a id="14097" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11772" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14119" class="CatchallClause"> </a><a id="14120" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14120" class="CatchallClause Bound">oldLedger</a><a id="14129" class="CatchallClause"> </a><a id="14130" class="CatchallClause Symbol">(</a><a id="14131" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="14138" class="CatchallClause"> </a><a id="14139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14139" class="CatchallClause Bound">ledger</a><a id="14145" class="CatchallClause"> </a><a id="14146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14146" class="CatchallClause Bound">executionStack</a><a id="14160" class="CatchallClause"> </a><a id="14161" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14161" class="CatchallClause Bound">initialAddr</a><a id="14172" class="CatchallClause"> </a><a id="14173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14173" class="CatchallClause Bound">lastCallAddr</a><a id="14185" class="CatchallClause"> </a><a id="14186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14186" class="CatchallClause Bound">calledAddr</a>
                       <a id="14220" class="CatchallClause Symbol">(</a><a id="14221" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="14225" class="CatchallClause"> </a><a id="14226" href="Complex-Model.ccomand.ccommands-cresponse.html#862" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="14241" class="CatchallClause"> </a><a id="14242" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14242" class="CatchallClause Bound">x</a><a id="14243" class="CatchallClause"> </a><a id="14244" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14244" class="CatchallClause Bound">x₁</a><a id="14246" class="CatchallClause Symbol">)</a><a id="14247" class="CatchallClause"> </a><a id="14248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14248" class="CatchallClause Bound">gasLeft1</a><a id="14256" class="CatchallClause"> </a><a id="14257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14257" class="CatchallClause Bound">funNameevalState</a><a id="14273" class="CatchallClause"> </a><a id="14274" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14274" class="CatchallClause Bound">msgevalState</a><a id="14286" class="CatchallClause Symbol">)</a> <a id="14288" class="Symbol">=</a> <a id="14290" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="14298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14248" class="Bound">gasLeft1</a>
<a id="14307" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11772" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14329" class="CatchallClause"> </a><a id="14330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14330" class="CatchallClause Bound">oldLedger</a><a id="14339" class="CatchallClause"> </a><a id="14340" class="CatchallClause Symbol">(</a><a id="14341" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="14348" class="CatchallClause"> </a><a id="14349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14349" class="CatchallClause Bound">ledger</a><a id="14355" class="CatchallClause"> </a><a id="14356" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14356" class="CatchallClause Bound">executionStack</a><a id="14370" class="CatchallClause"> </a><a id="14371" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14371" class="CatchallClause Bound">initialAddr</a><a id="14382" class="CatchallClause"> </a><a id="14383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14383" class="CatchallClause Bound">lastCallAddr</a><a id="14395" class="CatchallClause"> </a><a id="14396" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14396" class="CatchallClause Bound">calledAddr</a>
                       <a id="14430" class="CatchallClause Symbol">(</a><a id="14431" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="14435" class="CatchallClause"> </a><a id="14436" class="CatchallClause Symbol">(</a><a id="14437" href="Complex-Model.ccomand.ccommands-cresponse.html#894" class="CatchallClause InductiveConstructor">getAmountc</a><a id="14447" class="CatchallClause"> </a><a id="14448" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14448" class="CatchallClause Bound">x₂</a><a id="14450" class="CatchallClause Symbol">)</a><a id="14451" class="CatchallClause"> </a><a id="14452" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14452" class="CatchallClause Bound">x</a><a id="14453" class="CatchallClause"> </a><a id="14454" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14454" class="CatchallClause Bound">x₁</a><a id="14456" class="CatchallClause Symbol">)</a><a id="14457" class="CatchallClause"> </a><a id="14458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14458" class="CatchallClause Bound">gasLeft1</a><a id="14466" class="CatchallClause"> </a><a id="14467" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14467" class="CatchallClause Bound">funNameevalState</a><a id="14483" class="CatchallClause"> </a><a id="14484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14484" class="CatchallClause Bound">msgevalState</a><a id="14496" class="CatchallClause Symbol">)</a> <a id="14498" class="Symbol">=</a> <a id="14500" href="libraries.natCompare.html#1703" class="Function">refl==r</a> <a id="14508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14458" class="Bound">gasLeft1</a>



<a id="lemmaStepEFpreserveGas2"></a><a id="14520" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14520" class="Function">lemmaStepEFpreserveGas2</a> <a id="14544" class="Symbol">:</a> <a id="14546" class="Symbol">(</a><a id="14547" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14547" class="Bound">oldLedger</a> <a id="14557" class="Symbol">:</a> <a id="14559" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="14565" class="Symbol">)</a> <a id="14567" class="Symbol">→</a> <a id="14569" class="Symbol">(</a><a id="14570" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14570" class="Bound">state</a> <a id="14576" class="Symbol">:</a> <a id="14578" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a><a id="14590" class="Symbol">)</a> <a id="14592" class="Symbol">→</a>
                          <a id="14620" href="libraries.Mainlibrary.html#2577" class="Field">gasLeft</a> <a id="14628" class="Symbol">(</a><a id="14629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="14636" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14547" class="Bound">oldLedger</a> <a id="14646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14570" class="Bound">state</a><a id="14651" class="Symbol">)</a> <a id="14653" href="libraries.natCompare.html#552" class="Function Operator">==r</a> <a id="14657" href="libraries.Mainlibrary.html#2577" class="Field">gasLeft</a> <a id="14665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14570" class="Bound">state</a>
<a id="14671" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14520" class="Function">lemmaStepEFpreserveGas2</a> <a id="14695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14695" class="Bound">oldLedger</a> <a id="14705" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14705" class="Bound">state</a> <a id="14711" class="Symbol">=</a> <a id="14713" href="libraries.natCompare.html#2249" class="Function">sym==</a> <a id="14719" class="Symbol">(</a><a id="14720" href="libraries.Mainlibrary.html#2577" class="Field">gasLeft</a> <a id="14728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14705" class="Bound">state</a><a id="14733" class="Symbol">)</a> <a id="14735" class="Symbol">(</a><a id="14736" href="libraries.Mainlibrary.html#2577" class="Field">gasLeft</a> <a id="14744" class="Symbol">(</a><a id="14745" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="14752" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14695" class="Bound">oldLedger</a> <a id="14762" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14705" class="Bound">state</a><a id="14767" class="Symbol">))</a>
                                          <a id="14812" class="Symbol">(</a><a id="14813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11772" class="Function">lemmaStepEFpreserveGas</a> <a id="14836" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14695" class="Bound">oldLedger</a> <a id="14846" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14705" class="Bound">state</a><a id="14851" class="Symbol">)</a>


<a id="14855" class="Comment">-- stepEFgasAvailable which returns gasLeft</a>
<a id="stepEFgasAvailable"></a><a id="14899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14899" class="Function">stepEFgasAvailable</a> <a id="14918" class="Symbol">:</a> <a id="14920" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a> <a id="14933" class="Symbol">→</a> <a id="14935" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="14937" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14899" class="Function">stepEFgasAvailable</a> <a id="14956" class="Symbol">(</a><a id="14957" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="14965" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14965" class="Bound">ledger</a> <a id="14972" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14972" class="Bound">executionStack</a> <a id="14987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14987" class="Bound">initialAddr</a> <a id="14999" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14999" class="Bound">lastCallAddr</a> <a id="15012" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15012" class="Bound">calledAddr</a>
                   <a id="15042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15042" class="Bound">nextstep</a> <a id="15051" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15051" class="Bound">gasLeft</a>  <a id="15060" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15060" class="Bound">funNameevalState</a> <a id="15077" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15077" class="Bound">msgevalState</a><a id="15089" class="Symbol">)</a>
                   <a id="15110" class="Symbol">=</a> <a id="15112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15051" class="Bound">gasLeft</a>


<a id="15122" class="Comment">--this function simliar to stepEF and deduct the gasleft</a>
<a id="15179" class="Comment">--which returns the gas deducted</a>
<a id="stepEFgasNeeded"></a><a id="15212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15212" class="Function">stepEFgasNeeded</a> <a id="15228" class="Symbol">:</a> <a id="15230" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a> <a id="15243" class="Symbol">→</a> <a id="15245" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="15247" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15212" class="Function">stepEFgasNeeded</a>  <a id="15264" class="Symbol">(</a><a id="15265" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="15273" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15273" class="Bound">currentLedger</a> <a id="15287" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="15290" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15290" class="Bound">initialAddr</a> <a id="15302" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15302" class="Bound">lastCallAddr</a> <a id="15315" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15315" class="Bound">calledAddr</a>
                 <a id="15343" class="Symbol">(</a><a id="15344" href="Complex-Model.ccomand.ccommands-cresponse.html#1553" class="InductiveConstructor">return</a> <a id="15351" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15351" class="Bound">cost</a> <a id="15356" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15356" class="Bound">result</a><a id="15362" class="Symbol">)</a> <a id="15364" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15364" class="Bound">gasLeft</a>  <a id="15373" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15373" class="Bound">funNameevalState</a> <a id="15390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15390" class="Bound">msgevalState</a><a id="15402" class="Symbol">)</a>
       <a id="15411" class="Symbol">=</a> <a id="15413" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15351" class="Bound">cost</a>
<a id="15418" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15212" class="Function">stepEFgasNeeded</a>  <a id="15435" class="Symbol">(</a><a id="15436" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="15444" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15444" class="Bound">currentLedger</a> <a id="15458" class="Symbol">(</a><a id="15459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15459" class="Bound">execSEl</a> <a id="15467" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="15469" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15469" class="Bound">executionStack</a><a id="15483" class="Symbol">)</a> <a id="15485" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15485" class="Bound">initialAddr</a> <a id="15497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15497" class="Bound">lastCallAddr</a> <a id="15510" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15510" class="Bound">calledAddr</a>
                 <a id="15538" class="Symbol">(</a><a id="15539" href="Complex-Model.ccomand.ccommands-cresponse.html#1553" class="InductiveConstructor">return</a> <a id="15546" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15546" class="Bound">cost</a> <a id="15551" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15551" class="Bound">result</a><a id="15557" class="Symbol">)</a> <a id="15559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15559" class="Bound">gasLeft</a>  <a id="15568" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15568" class="Bound">funNameevalState</a> <a id="15585" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15585" class="Bound">msgevalState</a><a id="15597" class="Symbol">)</a>
       <a id="15606" class="Symbol">=</a> <a id="15608" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15546" class="Bound">cost</a>

<a id="15614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15212" class="CatchallClause Function">stepEFgasNeeded</a><a id="15629" class="CatchallClause"> </a><a id="15630" class="CatchallClause Symbol">(</a><a id="15631" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="15638" class="CatchallClause"> </a><a id="15639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15639" class="CatchallClause Bound">currentLedger</a><a id="15652" class="CatchallClause"> </a><a id="15653" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15653" class="CatchallClause Bound">executionStack</a><a id="15667" class="CatchallClause"> </a><a id="15668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15668" class="CatchallClause Bound">initialAddr</a><a id="15679" class="CatchallClause"> </a><a id="15680" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15680" class="CatchallClause Bound">lastCallAddr</a><a id="15692" class="CatchallClause"> </a><a id="15693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15693" class="CatchallClause Bound">calledAddr</a>
                 <a id="15721" class="CatchallClause Symbol">(</a><a id="15722" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="15726" class="CatchallClause"> </a><a id="15727" href="Complex-Model.ccomand.ccommands-cresponse.html#827" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="15745" class="CatchallClause"> </a><a id="15746" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15746" class="CatchallClause Bound">costcomputecont</a><a id="15761" class="CatchallClause"> </a><a id="15762" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15762" class="CatchallClause Bound">cont</a><a id="15766" class="CatchallClause Symbol">)</a>
                 <a id="15785" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15785" class="CatchallClause Bound">gasLeft</a><a id="15792" class="CatchallClause">  </a><a id="15794" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15794" class="CatchallClause Bound">funNameevalState</a><a id="15810" class="CatchallClause"> </a><a id="15811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15811" class="CatchallClause Bound">msgevalState</a><a id="15823" class="CatchallClause Symbol">)</a>
       <a id="15832" class="Symbol">=</a> <a id="15834" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15746" class="Bound">costcomputecont</a> <a id="15850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15693" class="Bound">calledAddr</a>

<a id="15862" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15212" class="CatchallClause Function">stepEFgasNeeded</a><a id="15877" class="CatchallClause"> </a><a id="15878" class="CatchallClause Symbol">(</a><a id="15879" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="15886" class="CatchallClause"> </a><a id="15887" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15887" class="CatchallClause Bound">currentLedger</a><a id="15900" class="CatchallClause"> </a><a id="15901" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15901" class="CatchallClause Bound">executionStack</a><a id="15915" class="CatchallClause"> </a><a id="15916" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15916" class="CatchallClause Bound">initialAddr</a><a id="15927" class="CatchallClause"> </a><a id="15928" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15928" class="CatchallClause Bound">lastCallAddr</a><a id="15940" class="CatchallClause"> </a><a id="15941" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15941" class="CatchallClause Bound">calledAddr</a>
                 <a id="15969" class="CatchallClause Symbol">(</a><a id="15970" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="15974" class="CatchallClause"> </a><a id="15975" href="Complex-Model.ccomand.ccommands-cresponse.html#862" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="15990" class="CatchallClause"> </a><a id="15991" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15991" class="CatchallClause Bound">costcomputecont</a><a id="16006" class="CatchallClause"> </a><a id="16007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16007" class="CatchallClause Bound">cont</a><a id="16011" class="CatchallClause Symbol">)</a>
                 <a id="16030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16030" class="CatchallClause Bound">gasLeft</a><a id="16037" class="CatchallClause">  </a><a id="16039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16039" class="CatchallClause Bound">funNameevalState</a><a id="16055" class="CatchallClause"> </a><a id="16056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16056" class="CatchallClause Bound">msgevalState</a><a id="16068" class="CatchallClause Symbol">)</a>
       <a id="16077" class="Symbol">=</a> <a id="16079" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15991" class="Bound">costcomputecont</a> <a id="16095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15928" class="Bound">lastCallAddr</a>

<a id="16109" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15212" class="CatchallClause Function">stepEFgasNeeded</a><a id="16124" class="CatchallClause"> </a><a id="16125" class="CatchallClause Symbol">(</a><a id="16126" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="16133" class="CatchallClause"> </a><a id="16134" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16134" class="CatchallClause Bound">currentLedger</a><a id="16147" class="CatchallClause"> </a><a id="16148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16148" class="CatchallClause Bound">executionStack</a><a id="16162" class="CatchallClause"> </a><a id="16163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16163" class="CatchallClause Bound">initialAddr</a><a id="16174" class="CatchallClause"> </a><a id="16175" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16175" class="CatchallClause Bound">lastCallAddr</a><a id="16187" class="CatchallClause"> </a><a id="16188" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16188" class="CatchallClause Bound">calledAddr</a>
                 <a id="16216" class="CatchallClause Symbol">(</a><a id="16217" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="16221" class="CatchallClause"> </a><a id="16222" class="CatchallClause Symbol">(</a><a id="16223" href="Complex-Model.ccomand.ccommands-cresponse.html#550" class="CatchallClause InductiveConstructor">updatec</a><a id="16230" class="CatchallClause"> </a><a id="16231" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16231" class="CatchallClause Bound">changedFname</a><a id="16243" class="CatchallClause"> </a><a id="16244" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16244" class="CatchallClause Bound">changedPufun</a><a id="16256" class="CatchallClause"> </a><a id="16257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16257" class="CatchallClause Bound">cost</a><a id="16261" class="CatchallClause Symbol">)</a><a id="16262" class="CatchallClause"> </a><a id="16263" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16263" class="CatchallClause Bound">costcomputecont</a><a id="16278" class="CatchallClause"> </a><a id="16279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16279" class="CatchallClause Bound">cont</a><a id="16283" class="CatchallClause Symbol">)</a>
                 <a id="16302" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16302" class="CatchallClause Bound">gasLeft</a><a id="16309" class="CatchallClause">  </a><a id="16311" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16311" class="CatchallClause Bound">funNameevalState</a><a id="16327" class="CatchallClause"> </a><a id="16328" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16328" class="CatchallClause Bound">msgevalState</a><a id="16340" class="CatchallClause Symbol">)</a>
       <a id="16349" class="Symbol">=</a> <a id="16351" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16257" class="Bound">cost</a> <a id="16356" class="Symbol">(</a><a id="16357" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16134" class="Bound">currentLedger</a> <a id="16371" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16188" class="Bound">calledAddr</a> <a id="16382" class="Symbol">.</a><a id="16383" href="libraries.Mainlibrary.html#927" class="Field">purefunction</a> <a id="16396" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16231" class="Bound">changedFname</a><a id="16408" class="Symbol">)</a> <a id="16410" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="16412" class="Symbol">(</a><a id="16413" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16263" class="Bound">costcomputecont</a> <a id="16429" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="16431" class="Symbol">)</a>


<a id="16435" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15212" class="CatchallClause Function">stepEFgasNeeded</a><a id="16450" class="CatchallClause"> </a><a id="16451" class="CatchallClause Symbol">(</a><a id="16452" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="16459" class="CatchallClause"> </a><a id="16460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16460" class="CatchallClause Bound">currentLedger</a><a id="16473" class="CatchallClause"> </a><a id="16474" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16474" class="CatchallClause Bound">executionStack</a><a id="16488" class="CatchallClause"> </a><a id="16489" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16489" class="CatchallClause Bound">initialAddr</a><a id="16500" class="CatchallClause"> </a><a id="16501" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16501" class="CatchallClause Bound">oldlastCallAddr</a><a id="16516" class="CatchallClause"> </a><a id="16517" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16517" class="CatchallClause Bound">oldcalledAddr</a>
                 <a id="16548" class="CatchallClause Symbol">(</a><a id="16549" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="16553" class="CatchallClause"> </a><a id="16554" class="CatchallClause Symbol">(</a><a id="16555" href="Complex-Model.ccomand.ccommands-cresponse.html#769" class="CatchallClause InductiveConstructor">callc</a><a id="16560" class="CatchallClause"> </a><a id="16561" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16561" class="CatchallClause Bound">newaddr</a><a id="16568" class="CatchallClause"> </a><a id="16569" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16569" class="CatchallClause Bound">fname</a><a id="16574" class="CatchallClause"> </a><a id="16575" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16575" class="CatchallClause Bound">msg</a><a id="16578" class="CatchallClause Symbol">)</a><a id="16579" class="CatchallClause"> </a><a id="16580" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16580" class="CatchallClause Bound">costcomputecont</a><a id="16595" class="CatchallClause"> </a><a id="16596" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16596" class="CatchallClause Bound">cont</a><a id="16600" class="CatchallClause Symbol">)</a>
                 <a id="16619" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16619" class="CatchallClause Bound">gasLeft</a><a id="16626" class="CatchallClause">  </a><a id="16628" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16628" class="CatchallClause Bound">funNameevalState</a><a id="16644" class="CatchallClause"> </a><a id="16645" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16645" class="CatchallClause Bound">msgevalState</a><a id="16657" class="CatchallClause Symbol">)</a>
       <a id="16666" class="Symbol">=</a> <a id="16668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16580" class="Bound">costcomputecont</a> <a id="16684" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16575" class="Bound">msg</a>

<a id="16689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15212" class="CatchallClause Function">stepEFgasNeeded</a><a id="16704" class="CatchallClause"> </a><a id="16705" class="CatchallClause Symbol">(</a><a id="16706" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="16713" class="CatchallClause"> </a><a id="16714" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16714" class="CatchallClause Bound">currentLedger</a><a id="16727" class="CatchallClause"> </a><a id="16728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16728" class="CatchallClause Bound">executionStack</a><a id="16742" class="CatchallClause"> </a><a id="16743" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16743" class="CatchallClause Bound">initialAddr</a><a id="16754" class="CatchallClause"> </a><a id="16755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16755" class="CatchallClause Bound">lastCallAddr</a><a id="16767" class="CatchallClause"> </a><a id="16768" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16768" class="CatchallClause Bound">calledAddr</a>
                 <a id="16796" class="CatchallClause Symbol">(</a><a id="16797" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="16801" class="CatchallClause"> </a><a id="16802" class="CatchallClause Symbol">(</a><a id="16803" href="Complex-Model.ccomand.ccommands-cresponse.html#723" class="CatchallClause InductiveConstructor">transferc</a><a id="16812" class="CatchallClause"> </a><a id="16813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16813" class="CatchallClause Bound">amount</a><a id="16819" class="CatchallClause"> </a><a id="16820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16820" class="CatchallClause Bound">destinationAddr</a><a id="16835" class="CatchallClause Symbol">)</a><a id="16836" class="CatchallClause"> </a><a id="16837" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16837" class="CatchallClause Bound">costcomputecont</a><a id="16852" class="CatchallClause"> </a><a id="16853" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16853" class="CatchallClause Bound">cont</a><a id="16857" class="CatchallClause Symbol">)</a>
                 <a id="16876" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16876" class="CatchallClause Bound">gasLeft</a><a id="16883" class="CatchallClause">  </a><a id="16885" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16885" class="CatchallClause Bound">funNameevalState</a><a id="16901" class="CatchallClause"> </a><a id="16902" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16902" class="CatchallClause Bound">msgevalState</a><a id="16914" class="CatchallClause Symbol">)</a>
       <a id="16923" class="Symbol">=</a> <a id="16925" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16837" class="Bound">costcomputecont</a> <a id="16941" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>

<a id="16945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15212" class="CatchallClause Function">stepEFgasNeeded</a><a id="16960" class="CatchallClause"> </a><a id="16961" class="CatchallClause Symbol">(</a><a id="16962" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="16969" class="CatchallClause"> </a><a id="16970" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16970" class="CatchallClause Bound">currentLedger</a><a id="16983" class="CatchallClause"> </a><a id="16984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16984" class="CatchallClause Bound">executionStack</a><a id="16998" class="CatchallClause"> </a><a id="16999" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16999" class="CatchallClause Bound">initialAddr</a><a id="17010" class="CatchallClause"> </a><a id="17011" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17011" class="CatchallClause Bound">lastCallAddr</a><a id="17023" class="CatchallClause"> </a><a id="17024" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17024" class="CatchallClause Bound">calledAddr</a>
                 <a id="17052" class="CatchallClause Symbol">(</a><a id="17053" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="17057" class="CatchallClause"> </a><a id="17058" class="CatchallClause Symbol">(</a><a id="17059" href="Complex-Model.ccomand.ccommands-cresponse.html#894" class="CatchallClause InductiveConstructor">getAmountc</a><a id="17069" class="CatchallClause">  </a><a id="17071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17071" class="CatchallClause Bound">addrLookedUp</a><a id="17083" class="CatchallClause Symbol">)</a><a id="17084" class="CatchallClause"> </a><a id="17085" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17085" class="CatchallClause Bound">costcomputecont</a><a id="17100" class="CatchallClause"> </a><a id="17101" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17101" class="CatchallClause Bound">cont</a><a id="17105" class="CatchallClause Symbol">)</a>
                 <a id="17124" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17124" class="CatchallClause Bound">gasLeft</a><a id="17131" class="CatchallClause">  </a><a id="17133" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17133" class="CatchallClause Bound">funNameevalState</a><a id="17149" class="CatchallClause"> </a><a id="17150" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17150" class="CatchallClause Bound">msgevalState</a><a id="17162" class="CatchallClause Symbol">)</a>
       <a id="17171" class="Symbol">=</a> <a id="17173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17085" class="Bound">costcomputecont</a> <a id="17189" class="Symbol">(</a><a id="17190" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16970" class="Bound">currentLedger</a> <a id="17204" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17071" class="Bound">addrLookedUp</a> <a id="17217" class="Symbol">.</a><a id="17218" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="17224" class="Symbol">)</a>


<a id="17228" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15212" class="CatchallClause Function">stepEFgasNeeded</a><a id="17243" class="CatchallClause"> </a><a id="17244" class="CatchallClause Symbol">(</a><a id="17245" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="17252" class="CatchallClause"> </a><a id="17253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17253" class="CatchallClause Bound">ledger</a><a id="17259" class="CatchallClause"> </a><a id="17260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17260" class="CatchallClause Bound">executionStack</a><a id="17274" class="CatchallClause"> </a><a id="17275" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17275" class="CatchallClause Bound">initialAddr</a><a id="17286" class="CatchallClause"> </a><a id="17287" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17287" class="CatchallClause Bound">lastCallAddr</a><a id="17299" class="CatchallClause"> </a><a id="17300" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17300" class="CatchallClause Bound">calledAddr</a>
                 <a id="17328" class="CatchallClause Symbol">(</a><a id="17329" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="17333" class="CatchallClause"> </a><a id="17334" class="CatchallClause Symbol">(</a><a id="17335" href="Complex-Model.ccomand.ccommands-cresponse.html#678" class="CatchallClause InductiveConstructor">raiseException</a><a id="17349" class="CatchallClause"> </a><a id="17350" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17350" class="CatchallClause Bound">cost</a><a id="17354" class="CatchallClause"> </a><a id="17355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17355" class="CatchallClause Bound">str</a><a id="17358" class="CatchallClause Symbol">)</a><a id="17359" class="CatchallClause"> </a><a id="17360" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17360" class="CatchallClause Bound">costcomputecont</a><a id="17375" class="CatchallClause"> </a><a id="17376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17376" class="CatchallClause Bound">cont</a><a id="17380" class="CatchallClause Symbol">)</a>
                 <a id="17399" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17399" class="CatchallClause Bound">gasLeft</a><a id="17406" class="CatchallClause"> </a><a id="17407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17407" class="CatchallClause Bound">funNameevalState</a><a id="17423" class="CatchallClause"> </a><a id="17424" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17424" class="CatchallClause Bound">msgevalState</a><a id="17436" class="CatchallClause Symbol">)</a>
                 <a id="17455" class="Symbol">=</a> <a id="17457" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17350" class="Bound">cost</a>

<a id="17463" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15212" class="CatchallClause Function">stepEFgasNeeded</a><a id="17478" class="CatchallClause"> </a><a id="17479" class="CatchallClause Symbol">(</a><a id="17480" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="17487" class="CatchallClause"> </a><a id="17488" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17488" class="CatchallClause Bound">currentLedger</a><a id="17501" class="CatchallClause"> </a><a id="17502" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17502" class="CatchallClause Bound">executionStack</a><a id="17516" class="CatchallClause"> </a><a id="17517" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17517" class="CatchallClause Bound">initialAddr</a><a id="17528" class="CatchallClause"> </a><a id="17529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17529" class="CatchallClause Bound">lastCallAddr</a><a id="17541" class="CatchallClause"> </a><a id="17542" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17542" class="CatchallClause Bound">calledAddr</a>
                 <a id="17570" class="CatchallClause Symbol">(</a><a id="17571" href="Complex-Model.ccomand.ccommands-cresponse.html#1644" class="CatchallClause InductiveConstructor">exec</a><a id="17575" class="CatchallClause"> </a><a id="17576" class="CatchallClause Symbol">(</a><a id="17577" href="Complex-Model.ccomand.ccommands-cresponse.html#491" class="CatchallClause InductiveConstructor">callPure</a><a id="17585" class="CatchallClause"> </a><a id="17586" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17586" class="CatchallClause Bound">addr</a><a id="17590" class="CatchallClause"> </a><a id="17591" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17591" class="CatchallClause Bound">fname</a><a id="17596" class="CatchallClause"> </a><a id="17597" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17597" class="CatchallClause Bound">msg</a><a id="17600" class="CatchallClause Symbol">)</a><a id="17601" class="CatchallClause"> </a><a id="17602" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17602" class="CatchallClause Bound">costcompute</a><a id="17613" class="CatchallClause"> </a><a id="17614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17614" class="CatchallClause Bound">cont</a><a id="17618" class="CatchallClause Symbol">)</a>
                 <a id="17637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17637" class="CatchallClause Bound">gasLeft</a><a id="17644" class="CatchallClause">  </a><a id="17646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17646" class="CatchallClause Bound">funNameevalState</a><a id="17662" class="CatchallClause"> </a><a id="17663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17663" class="CatchallClause Bound">msgevalState</a><a id="17675" class="CatchallClause Symbol">)</a>
       <a id="17684" class="Symbol">=</a> <a id="17686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17602" class="Bound">costcompute</a> <a id="17698" class="Symbol">(</a><a id="17699" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17488" class="Bound">currentLedger</a> <a id="17713" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17542" class="Bound">calledAddr</a> <a id="17724" class="Symbol">.</a><a id="17725" href="libraries.Mainlibrary.html#927" class="Field">purefunction</a> <a id="17738" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17591" class="Bound">fname</a> <a id="17744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17597" class="Bound">msg</a><a id="17747" class="Symbol">)</a>


<a id="17751" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15212" class="CatchallClause Function">stepEFgasNeeded</a><a id="17766" class="CatchallClause"> </a><a id="17767" class="CatchallClause Symbol">(</a><a id="17768" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="17775" class="CatchallClause"> </a><a id="17776" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17776" class="CatchallClause Bound">currentLedger</a><a id="17789" class="CatchallClause"> </a><a id="17790" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17790" class="CatchallClause Bound">executionStack</a><a id="17804" class="CatchallClause"> </a><a id="17805" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17805" class="CatchallClause Bound">initialAddr</a><a id="17816" class="CatchallClause"> </a><a id="17817" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17817" class="CatchallClause Bound">lastCallAddr</a><a id="17829" class="CatchallClause"> </a><a id="17830" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17830" class="CatchallClause Bound">calledAddr</a>
                 <a id="17858" class="CatchallClause Symbol">(</a><a id="17859" href="Complex-Model.ccomand.ccommands-cresponse.html#1591" class="CatchallClause InductiveConstructor">error</a><a id="17864" class="CatchallClause"> </a><a id="17865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17865" class="CatchallClause Bound">errorMsg</a><a id="17873" class="CatchallClause"> </a><a id="17874" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17874" class="CatchallClause Bound">debuginfo</a><a id="17883" class="CatchallClause Symbol">)</a><a id="17884" class="CatchallClause"> </a><a id="17885" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17885" class="CatchallClause Bound">gasLeft</a><a id="17892" class="CatchallClause">  </a><a id="17894" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17894" class="CatchallClause Bound">funNameevalState</a><a id="17910" class="CatchallClause"> </a><a id="17911" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17911" class="CatchallClause Bound">msgevalState</a><a id="17923" class="CatchallClause Symbol">)</a>
       <a id="17932" class="Symbol">=</a> <a id="17934" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="17940" class="Symbol">.</a><a id="17941" href="constantparameters.html#665" class="Field">costerror</a> <a id="17951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17865" class="Bound">errorMsg</a>


<a id="17962" class="Comment">--This function we use it to deduct gas from evalstate not ledger</a>
<a id="deductGas"></a><a id="18028" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18028" class="Function">deductGas</a> <a id="18038" class="Symbol">:</a>  <a id="18041" class="Symbol">(</a><a id="18042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18042" class="Bound">statefun</a> <a id="18051" class="Symbol">:</a> <a id="18053" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a><a id="18065" class="Symbol">)</a> <a id="18067" class="Symbol">(</a><a id="18068" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18068" class="Bound">gasDeducted</a> <a id="18080" class="Symbol">:</a> <a id="18082" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="18083" class="Symbol">)</a> <a id="18085" class="Symbol">→</a> <a id="18087" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a>
<a id="18100" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18028" class="Function">deductGas</a> <a id="18110" class="Symbol">(</a><a id="18111" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="18119" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18119" class="Bound">ledger</a> <a id="18126" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18126" class="Bound">executionStack</a> <a id="18141" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18141" class="Bound">initialAddr</a> <a id="18153" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18153" class="Bound">lastCallAddr</a> <a id="18166" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18166" class="Bound">calledAddr</a> <a id="18177" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18177" class="Bound">nextstep</a>
            <a id="18198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18198" class="Bound">gasLeft</a>  <a id="18207" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18207" class="Bound">funNameevalState</a> <a id="18224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18224" class="Bound">msgevalState</a><a id="18236" class="Symbol">)</a> <a id="18238" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18238" class="Bound">gasDeducted</a>
       <a id="18257" class="Symbol">=</a> <a id="18259" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="18267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18119" class="Bound">ledger</a> <a id="18274" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18126" class="Bound">executionStack</a> <a id="18289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18141" class="Bound">initialAddr</a> <a id="18301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18153" class="Bound">lastCallAddr</a> <a id="18314" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18166" class="Bound">calledAddr</a> <a id="18325" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18177" class="Bound">nextstep</a>
       <a id="18341" class="Symbol">(</a><a id="18342" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18198" class="Bound">gasLeft</a> <a id="18350" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="18352" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18238" class="Bound">gasDeducted</a><a id="18363" class="Symbol">)</a>  <a id="18366" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18207" class="Bound">funNameevalState</a> <a id="18383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18224" class="Bound">msgevalState</a>


<a id="18398" class="Comment">-- this function we use it to cpmare gas in stepEFgasNeeded with stepEFgasAvailable</a>
<a id="stepEFAuxCompare"></a><a id="18482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18482" class="Function">stepEFAuxCompare</a> <a id="18499" class="Symbol">:</a> <a id="18501" class="Symbol">(</a><a id="18502" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18502" class="Bound">oldLedger</a> <a id="18512" class="Symbol">:</a> <a id="18514" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="18520" class="Symbol">)</a> <a id="18522" class="Symbol">→</a> <a id="18524" class="Symbol">(</a><a id="18525" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18525" class="Bound">statefun</a> <a id="18534" class="Symbol">:</a> <a id="18536" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a><a id="18548" class="Symbol">)</a>
                <a id="18566" class="Symbol">→</a> <a id="18568" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="18580" class="Symbol">(</a><a id="18581" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="18585" class="Symbol">(</a><a id="18586" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15212" class="Function">stepEFgasNeeded</a> <a id="18602" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18525" class="Bound">statefun</a><a id="18610" class="Symbol">))(</a><a id="18613" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14899" class="Function">stepEFgasAvailable</a> <a id="18632" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18525" class="Bound">statefun</a><a id="18640" class="Symbol">)</a>
                <a id="18658" class="Symbol">→</a> <a id="18660" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a>
<a id="18673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18482" class="Function">stepEFAuxCompare</a> <a id="18690" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18690" class="Bound">oldLedger</a> <a id="18700" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18700" class="Bound">statefun</a> <a id="18709" class="Symbol">(</a><a id="18710" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="18714" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18714" class="Bound">x</a><a id="18715" class="Symbol">)</a> <a id="18717" class="Symbol">=</a> <a id="18719" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18028" class="Function">deductGas</a> <a id="18729" class="Symbol">(</a><a id="18730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7405" class="Function">stepEF</a> <a id="18737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18690" class="Bound">oldLedger</a> <a id="18747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18700" class="Bound">statefun</a><a id="18755" class="Symbol">)</a> <a id="18757" class="Symbol">(</a><a id="18758" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="18762" class="Symbol">(</a><a id="18763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15212" class="Function">stepEFgasNeeded</a> <a id="18779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18700" class="Bound">statefun</a><a id="18787" class="Symbol">))</a>
<a id="18790" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18482" class="Function">stepEFAuxCompare</a> <a id="18807" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18807" class="Bound">oldLedger</a> <a id="18817" class="Symbol">(</a><a id="18818" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="18826" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18826" class="Bound">ledger</a> <a id="18833" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18833" class="Bound">executionStack</a> <a id="18848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18848" class="Bound">initialAddr</a> <a id="18860" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18860" class="Bound">lastCallAddr</a> <a id="18873" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18873" class="Bound">calledAddr</a> <a id="18884" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18884" class="Bound">nextstep</a>
                 <a id="18910" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18910" class="Bound">gasLeft</a>  <a id="18919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18919" class="Bound">funNameevalState</a> <a id="18936" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18936" class="Bound">msgevalState</a><a id="18948" class="Symbol">)</a> <a id="18950" class="Symbol">(</a><a id="18951" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="18959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18959" class="Bound">x</a><a id="18960" class="Symbol">)</a>
        <a id="18970" class="Symbol">=</a> <a id="18972" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="18980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18807" class="Bound">oldLedger</a> <a id="18990" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18833" class="Bound">executionStack</a> <a id="19005" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18848" class="Bound">initialAddr</a> <a id="19017" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18860" class="Bound">lastCallAddr</a> <a id="19030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18873" class="Bound">calledAddr</a> <a id="19041" class="Symbol">(</a><a id="19042" href="Complex-Model.ccomand.ccommands-cresponse.html#1591" class="InductiveConstructor">error</a> <a id="19048" href="basicDataStructure.html#776" class="InductiveConstructor">outOfGasError</a>
            <a id="19074" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="19076" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18860" class="Bound">lastCallAddr</a> <a id="19089" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="19092" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18848" class="Bound">initialAddr</a> <a id="19104" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="19106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18919" class="Bound">funNameevalState</a> <a id="19123" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="19125" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18936" class="Bound">msgevalState</a> <a id="19138" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="19140" class="Symbol">)</a> <a id="19142" class="Number">0</a>
            <a id="19156" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18919" class="Bound">funNameevalState</a> <a id="19173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18936" class="Bound">msgevalState</a>


<a id="stepEFwithGasError"></a><a id="19188" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19188" class="Function">stepEFwithGasError</a> <a id="19207" class="Symbol">:</a> <a id="19209" class="Symbol">(</a><a id="19210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19210" class="Bound">oldLedger</a> <a id="19220" class="Symbol">:</a> <a id="19222" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="19228" class="Symbol">)</a> <a id="19230" class="Symbol">→</a> <a id="19232" class="Symbol">(</a><a id="19233" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19233" class="Bound">evals</a> <a id="19239" class="Symbol">:</a> <a id="19241" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a><a id="19253" class="Symbol">)</a> <a id="19255" class="Symbol">→</a> <a id="19257" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a>
<a id="19270" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19188" class="Function">stepEFwithGasError</a> <a id="19289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19289" class="Bound">oldLedger</a> <a id="19299" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19299" class="Bound">evals</a>  <a id="19306" class="Symbol">=</a> <a id="19308" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18482" class="Function">stepEFAuxCompare</a> <a id="19325" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19289" class="Bound">oldLedger</a> <a id="19335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19299" class="Bound">evals</a>
                                      <a id="19379" class="Symbol">(</a><a id="19380" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="19391" class="Symbol">(</a><a id="19392" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="19396" class="Symbol">(</a><a id="19397" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15212" class="Function">stepEFgasNeeded</a> <a id="19413" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19299" class="Bound">evals</a><a id="19418" class="Symbol">))</a>
                                      <a id="19459" class="Symbol">(</a><a id="19460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14899" class="Function">stepEFgasAvailable</a> <a id="19479" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19299" class="Bound">evals</a><a id="19484" class="Symbol">))</a>



<a id="19490" class="Comment">-- definition of stepEFntimes</a>
<a id="stepEFntimes"></a><a id="19520" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19520" class="Function">stepEFntimes</a> <a id="19533" class="Symbol">:</a> <a id="19535" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a> <a id="19542" class="Symbol">→</a> <a id="19544" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a> <a id="19557" class="Symbol">→</a> <a id="19559" class="Symbol">(</a><a id="19560" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19560" class="Bound">ntimes</a> <a id="19567" class="Symbol">:</a> <a id="19569" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="19570" class="Symbol">)</a> <a id="19572" class="Symbol">→</a> <a id="19574" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a>
<a id="19587" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19520" class="Function">stepEFntimes</a> <a id="19600" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19600" class="Bound">oldLedger</a> <a id="19610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19610" class="Bound">ledgerstateexecfun</a> <a id="19629" class="Number">0</a>
             <a id="19644" class="Symbol">=</a> <a id="19646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19610" class="Bound">ledgerstateexecfun</a>
<a id="19665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19520" class="Function">stepEFntimes</a> <a id="19678" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19678" class="Bound">oldLedger</a> <a id="19688" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19688" class="Bound">ledgerstateexecfun</a> <a id="19707" class="Symbol">(</a><a id="19708" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="19712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19712" class="Bound">n</a><a id="19713" class="Symbol">)</a>
             <a id="19728" class="Symbol">=</a> <a id="19730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19188" class="Function">stepEFwithGasError</a> <a id="19749" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19678" class="Bound">oldLedger</a> <a id="19759" class="Symbol">(</a><a id="19760" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19520" class="Function">stepEFntimes</a> <a id="19773" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19678" class="Bound">oldLedger</a> <a id="19783" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19688" class="Bound">ledgerstateexecfun</a> <a id="19802" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19712" class="Bound">n</a><a id="19803" class="Symbol">)</a>

<a id="19806" class="Comment">-- definition of stepEFntimes list</a>
<a id="stepEFntimesList"></a><a id="19841" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19841" class="Function">stepEFntimesList</a> <a id="19858" class="Symbol">:</a> <a id="19860" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a> <a id="19867" class="Symbol">→</a> <a id="19869" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a> <a id="19882" class="Symbol">→</a> <a id="19884" class="Symbol">(</a><a id="19885" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19885" class="Bound">ntimes</a> <a id="19892" class="Symbol">:</a> <a id="19894" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="19895" class="Symbol">)</a> <a id="19897" class="Symbol">→</a> <a id="19899" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="19904" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a>
<a id="19917" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19841" class="Function">stepEFntimesList</a> <a id="19934" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19934" class="Bound">oldLedger</a> <a id="19944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19944" class="Bound">ledgerstateexecfun</a> <a id="19963" class="Number">0</a>
                 <a id="19982" class="Symbol">=</a> <a id="19984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19944" class="Bound">ledgerstateexecfun</a> <a id="20003" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="20005" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="20008" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19841" class="Function">stepEFntimesList</a> <a id="20025" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20025" class="Bound">oldLedger</a> <a id="20035" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20035" class="Bound">ledgerstateexecfun</a> <a id="20054" class="Symbol">(</a><a id="20055" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="20059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20059" class="Bound">n</a><a id="20060" class="Symbol">)</a>
                 <a id="20079" class="Symbol">=</a> <a id="20081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19520" class="Function">stepEFntimes</a> <a id="20094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20025" class="Bound">oldLedger</a> <a id="20104" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20035" class="Bound">ledgerstateexecfun</a> <a id="20123" class="Symbol">(</a><a id="20124" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="20128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20059" class="Bound">n</a><a id="20129" class="Symbol">)</a>
                   <a id="20150" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="20152" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19841" class="Function">stepEFntimesList</a> <a id="20169" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20025" class="Bound">oldLedger</a> <a id="20179" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20035" class="Bound">ledgerstateexecfun</a> <a id="20198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20059" class="Bound">n</a>

<a id="20201" class="Comment">--this function below we use it to refund as a part of septEF</a>
<a id="20263" class="Comment">---- we use stepEFwithGasError instead of stepEF in refund and stepEFntimesWithRefund</a>
<a id="refund"></a><a id="20349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20349" class="Function">refund</a> <a id="20356" class="Symbol">:</a> <a id="20358" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a> <a id="20371" class="Symbol">→</a> <a id="20373" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a>
<a id="20386" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20349" class="Function">refund</a> <a id="20393" class="Symbol">(</a><a id="20394" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="20402" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20402" class="Bound">currentLedger</a> <a id="20416" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="20419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20419" class="Bound">initialAddr</a> <a id="20431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20431" class="Bound">lastCallAddr</a> <a id="20444" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20444" class="Bound">calledAddr</a> <a id="20455" class="Symbol">(</a><a id="20456" href="Complex-Model.ccomand.ccommands-cresponse.html#1553" class="InductiveConstructor">return</a> <a id="20463" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20463" class="Bound">cost</a> <a id="20468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20468" class="Bound">result</a><a id="20474" class="Symbol">)</a>
        <a id="20484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20484" class="Bound">gasLeft</a>  <a id="20493" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20493" class="Bound">funNameevalState</a> <a id="20510" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20510" class="Bound">msgevalState</a><a id="20522" class="Symbol">)</a>
            <a id="20536" class="Symbol">=</a> <a id="20538" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="20546" class="Symbol">(</a><a id="20547" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2965" class="Function">addWeiToLedger</a> <a id="20562" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20402" class="Bound">currentLedger</a> <a id="20576" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20431" class="Bound">lastCallAddr</a> <a id="20589" class="Symbol">(</a><a id="20590" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="20599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="20605" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20484" class="Bound">gasLeft</a><a id="20612" class="Symbol">))</a>
              <a id="20629" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="20632" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20419" class="Bound">initialAddr</a> <a id="20644" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20431" class="Bound">lastCallAddr</a> <a id="20657" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20444" class="Bound">calledAddr</a> <a id="20668" class="Symbol">(</a><a id="20669" href="Complex-Model.ccomand.ccommands-cresponse.html#1553" class="InductiveConstructor">return</a> <a id="20676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20463" class="Bound">cost</a> <a id="20681" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20468" class="Bound">result</a><a id="20687" class="Symbol">)</a>
               <a id="20704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20484" class="Bound">gasLeft</a> <a id="20712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20493" class="Bound">funNameevalState</a> <a id="20729" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20510" class="Bound">msgevalState</a>
<a id="20742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20349" class="CatchallClause Function">refund</a><a id="20748" class="CatchallClause"> </a><a id="20749" class="CatchallClause Symbol">(</a><a id="20750" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="20757" class="CatchallClause"> </a><a id="20758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20758" class="CatchallClause Bound">currentLedger</a><a id="20771" class="CatchallClause"> </a><a id="20772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20772" class="CatchallClause Bound">executionStack</a><a id="20786" class="CatchallClause"> </a><a id="20787" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20787" class="CatchallClause Bound">initialAddr</a><a id="20798" class="CatchallClause"> </a><a id="20799" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20799" class="CatchallClause Bound">lastCallAddr</a><a id="20811" class="CatchallClause"> </a><a id="20812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20812" class="CatchallClause Bound">calledAddr</a>
       <a id="20830" class="CatchallClause Symbol">(</a><a id="20831" href="Complex-Model.ccomand.ccommands-cresponse.html#1591" class="CatchallClause InductiveConstructor">error</a><a id="20836" class="CatchallClause"> </a><a id="20837" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20837" class="CatchallClause Bound">errorMsg</a><a id="20845" class="CatchallClause"> </a><a id="20846" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20846" class="CatchallClause Bound">debugInfo</a><a id="20855" class="CatchallClause Symbol">)</a><a id="20856" class="CatchallClause"> </a><a id="20857" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20857" class="CatchallClause Bound">gasLeft</a><a id="20864" class="CatchallClause">  </a><a id="20866" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20866" class="CatchallClause Bound">funNameevalState</a><a id="20882" class="CatchallClause"> </a><a id="20883" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20883" class="CatchallClause Bound">msgevalState</a><a id="20895" class="CatchallClause Symbol">)</a>
            <a id="20909" class="Symbol">=</a> <a id="20911" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="20919" class="Symbol">(</a><a id="20920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2965" class="Function">addWeiToLedger</a> <a id="20935" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20758" class="Bound">currentLedger</a>  <a id="20950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20799" class="Bound">lastCallAddr</a> <a id="20963" class="Symbol">(</a><a id="20964" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="20973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="20979" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20857" class="Bound">gasLeft</a><a id="20986" class="Symbol">))</a>
              <a id="21003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20772" class="Bound">executionStack</a> <a id="21018" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20787" class="Bound">initialAddr</a> <a id="21030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20799" class="Bound">lastCallAddr</a> <a id="21043" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20812" class="Bound">calledAddr</a>
              <a id="21068" class="Symbol">(</a><a id="21069" href="Complex-Model.ccomand.ccommands-cresponse.html#1591" class="InductiveConstructor">error</a> <a id="21075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20837" class="Bound">errorMsg</a> <a id="21084" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20846" class="Bound">debugInfo</a><a id="21093" class="Symbol">)</a> <a id="21095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20857" class="Bound">gasLeft</a>
               <a id="21118" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20866" class="Bound">funNameevalState</a> <a id="21135" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20883" class="Bound">msgevalState</a>
<a id="21148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20349" class="CatchallClause Function">refund</a><a id="21154" class="CatchallClause"> </a><a id="21155" class="CatchallClause Symbol">(</a><a id="21156" href="libraries.Mainlibrary.html#2142" class="CatchallClause InductiveConstructor">stateEF</a><a id="21163" class="CatchallClause"> </a><a id="21164" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21164" class="CatchallClause Bound">ledger</a><a id="21170" class="CatchallClause"> </a><a id="21171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21171" class="CatchallClause Bound">executionStack</a><a id="21185" class="CatchallClause"> </a><a id="21186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21186" class="CatchallClause Bound">initialAddr</a><a id="21197" class="CatchallClause"> </a><a id="21198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21198" class="CatchallClause Bound">lastCallAddr</a><a id="21210" class="CatchallClause"> </a><a id="21211" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21211" class="CatchallClause Bound">calledAddr</a>
        <a id="21230" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21230" class="CatchallClause Bound">nextstep</a><a id="21238" class="CatchallClause"> </a><a id="21239" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21239" class="CatchallClause Bound">gasLeft</a><a id="21246" class="CatchallClause">  </a><a id="21248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21248" class="CatchallClause Bound">funNameevalState</a><a id="21264" class="CatchallClause"> </a><a id="21265" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21265" class="CatchallClause Bound">msgevalState</a><a id="21277" class="CatchallClause Symbol">)</a>
            <a id="21291" class="Symbol">=</a> <a id="21293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19188" class="Function">stepEFwithGasError</a> <a id="21312" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21164" class="Bound">ledger</a> <a id="21319" class="Symbol">(</a><a id="21320" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="21328" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21164" class="Bound">ledger</a> <a id="21335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21171" class="Bound">executionStack</a>
              <a id="21364" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21186" class="Bound">initialAddr</a> <a id="21376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21198" class="Bound">lastCallAddr</a> <a id="21389" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21211" class="Bound">calledAddr</a> <a id="21400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21230" class="Bound">nextstep</a> <a id="21409" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21239" class="Bound">gasLeft</a>
                <a id="21433" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21248" class="Bound">funNameevalState</a> <a id="21450" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21265" class="Bound">msgevalState</a><a id="21462" class="Symbol">)</a>


<a id="stepEFntimesWithRefund"></a><a id="21466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21466" class="Function">stepEFntimesWithRefund</a> <a id="21489" class="Symbol">:</a> <a id="21491" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a> <a id="21498" class="Symbol">→</a> <a id="21500" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a> <a id="21513" class="Symbol">→</a> <a id="21515" class="Symbol">(</a><a id="21516" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21516" class="Bound">ntimes</a> <a id="21523" class="Symbol">:</a> <a id="21525" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="21526" class="Symbol">)</a> <a id="21528" class="Symbol">→</a> <a id="21530" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a>
<a id="21543" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21466" class="Function">stepEFntimesWithRefund</a> <a id="21566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21566" class="Bound">oldLedger</a> <a id="21576" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21576" class="Bound">ledgerstateexecfun</a> <a id="21595" class="Number">0</a>
                       <a id="21620" class="Symbol">=</a> <a id="21622" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21576" class="Bound">ledgerstateexecfun</a>
<a id="21641" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21466" class="Function">stepEFntimesWithRefund</a> <a id="21664" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21664" class="Bound">oldLedger</a> <a id="21674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21674" class="Bound">ledgerstateexecfun</a> <a id="21693" class="Symbol">(</a><a id="21694" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="21698" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21698" class="Bound">n</a><a id="21699" class="Symbol">)</a>
                       <a id="21724" class="Symbol">=</a> <a id="21726" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20349" class="Function">refund</a> <a id="21733" class="Symbol">(</a><a id="21734" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19520" class="Function">stepEFntimes</a> <a id="21747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21664" class="Bound">oldLedger</a> <a id="21757" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21674" class="Bound">ledgerstateexecfun</a> <a id="21776" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21698" class="Bound">n</a><a id="21777" class="Symbol">)</a>


<a id="21781" class="Comment">---## similar to above but we use it with the new version of stepEFwithGasError</a>
<a id="21861" class="Comment">--initialAddr lastCallAddr calledAddr</a>
<a id="stepLedgerFunntimesAux"></a><a id="21899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21899" class="Function">stepLedgerFunntimesAux</a> <a id="21922" class="Symbol">:</a> <a id="21924" class="Symbol">(</a><a id="21925" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21925" class="Bound">ledger</a> <a id="21932" class="Symbol">:</a> <a id="21934" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="21940" class="Symbol">)</a> <a id="21942" class="Symbol">→</a> <a id="21944" class="Symbol">(</a><a id="21945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21945" class="Bound">initialAddr</a> <a id="21957" class="Symbol">:</a> <a id="21959" href="basicDataStructure.html#405" class="Function">Address</a><a id="21966" class="Symbol">)</a> <a id="21968" class="Symbol">→</a> <a id="21970" class="Symbol">(</a><a id="21971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21971" class="Bound">lastCallAddr</a> <a id="21984" class="Symbol">:</a> <a id="21986" href="basicDataStructure.html#405" class="Function">Address</a><a id="21993" class="Symbol">)</a> <a id="21995" class="Symbol">→</a> <a id="21997" class="Symbol">(</a><a id="21998" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21998" class="Bound">calledAddr</a> <a id="22009" class="Symbol">:</a> <a id="22011" href="basicDataStructure.html#405" class="Function">Address</a><a id="22018" class="Symbol">)</a> <a id="22020" class="Symbol">→</a> <a id="22022" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                        <a id="22059" class="Symbol">→</a> <a id="22061" href="basicDataStructure.html#523" class="Datatype">Msg</a>  <a id="22066" class="Symbol">→</a> <a id="22068" class="Symbol">(</a><a id="22069" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22069" class="Bound">gascost</a> <a id="22077" class="Symbol">:</a> <a id="22079" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="22080" class="Symbol">)</a>  <a id="22083" class="Symbol">→</a> <a id="22085" class="Symbol">(</a><a id="22086" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22086" class="Bound">ntimes</a> <a id="22093" class="Symbol">:</a> <a id="22095" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="22096" class="Symbol">)</a>
                        <a id="22122" class="Symbol">→</a> <a id="22124" class="Symbol">(</a><a id="22125" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22125" class="Bound">cp</a>  <a id="22129" class="Symbol">:</a> <a id="22131" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="22143" class="Symbol">(</a><a id="22144" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="22153" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="22159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22069" class="Bound">gascost</a><a id="22166" class="Symbol">)</a> <a id="22168" class="Symbol">(</a><a id="22169" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21925" class="Bound">ledger</a> <a id="22176" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21971" class="Bound">lastCallAddr</a> <a id="22189" class="Symbol">.</a><a id="22190" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="22196" class="Symbol">))</a>
                        <a id="22223" class="Symbol">→</a> <a id="22225" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="22231" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a>
<a id="22244" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21899" class="Function">stepLedgerFunntimesAux</a> <a id="22267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22267" class="Bound">ledger</a> <a id="22274" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22274" class="Bound">initialAddr</a> <a id="22286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22286" class="Bound">lastCallAddr</a> <a id="22299" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22299" class="Bound">calledAddr</a> <a id="22310" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22310" class="Bound">funname</a> <a id="22318" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22318" class="Bound">msg</a> <a id="22322" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22322" class="Bound">gascost</a>  <a id="22331" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22331" class="Bound">ntimes</a>  <a id="22339" class="Symbol">(</a><a id="22340" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="22344" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22344" class="Bound">leqpro</a><a id="22350" class="Symbol">)</a>
                             <a id="22381" class="Symbol">=</a> <a id="22383" class="Keyword">let</a>
                                 <a id="22420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22420" class="Bound">ledgerDeducted</a> <a id="22435" class="Symbol">:</a> <a id="22437" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a>
                                 <a id="22477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22420" class="Bound">ledgerDeducted</a> <a id="22492" class="Symbol">=</a> <a id="22494" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2212" class="Function">deductGasFromLedger</a> <a id="22514" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22267" class="Bound">ledger</a> <a id="22521" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22286" class="Bound">lastCallAddr</a> <a id="22534" class="Symbol">(</a><a id="22535" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="22544" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="22550" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22322" class="Bound">gascost</a><a id="22557" class="Symbol">)</a> <a id="22559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22344" class="Bound">leqpro</a>
                               <a id="22597" class="Keyword">in</a> <a id="22600" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="22605" class="Symbol">(</a><a id="22606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19520" class="Function">stepEFntimes</a> <a id="22619" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22420" class="Bound">ledgerDeducted</a>
                               <a id="22665" class="Symbol">(</a><a id="22666" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="22674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22420" class="Bound">ledgerDeducted</a> <a id="22689" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="22692" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22274" class="Bound">initialAddr</a> <a id="22704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22286" class="Bound">lastCallAddr</a> <a id="22717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22299" class="Bound">calledAddr</a>
                               <a id="22759" class="Symbol">(</a><a id="22760" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22420" class="Bound">ledgerDeducted</a> <a id="22775" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22299" class="Bound">calledAddr</a> <a id="22786" class="Symbol">.</a><a id="22787" href="libraries.Mainlibrary.html#865" class="Field">fun</a> <a id="22791" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22310" class="Bound">funname</a> <a id="22799" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22318" class="Bound">msg</a><a id="22802" class="Symbol">)</a>
                               <a id="22835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22322" class="Bound">gascost</a> <a id="22843" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22310" class="Bound">funname</a> <a id="22851" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22318" class="Bound">msg</a><a id="22854" class="Symbol">)</a>
                               <a id="22887" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22331" class="Bound">ntimes</a><a id="22893" class="Symbol">)</a>

<a id="22896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21899" class="Function">stepLedgerFunntimesAux</a> <a id="22919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22919" class="Bound">ledger</a> <a id="22926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22926" class="Bound">initialAddr</a> <a id="22938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22938" class="Bound">lastCallAddr</a> <a id="22951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22951" class="Bound">calledAddr</a> <a id="22962" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22962" class="Bound">funname</a> <a id="22970" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22970" class="Bound">msg</a> <a id="22974" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22974" class="Bound">gascost</a> <a id="22982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22982" class="Bound">ntimes</a> <a id="22989" class="Symbol">(</a><a id="22990" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="22998" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22998" class="Bound">greaterpro</a><a id="23008" class="Symbol">)</a>
                             <a id="23039" class="Symbol">=</a> <a id="23041" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>

<a id="23050" class="Comment">--stepLedgerFunntimesAux ledger callAddr currentAddr funname msg gasreserved ntimes</a>
<a id="23134" class="Comment">--                       (compareLeq (GastoWei param gasreserved) (ledger callAddr .amount))</a>
<a id="23227" class="Comment">-- NNN here we need before running stepEFntimes  deduct the gas from ledger</a>
<a id="23303" class="Comment">-- NNN    it needs as argument just one gas parameter which is set to both oldgas and newgas</a>
<a id="23396" class="Comment">-- NNN    if there is not enough money in the account, then we should fail (not an error but fail)</a>
<a id="23495" class="Comment">-- NNN    so return type  should be Maybe EvalState</a>

<a id="stepLedgerFunntimes"></a><a id="23548" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23548" class="Function">stepLedgerFunntimes</a> <a id="23568" class="Symbol">:</a> <a id="23570" class="Symbol">(</a><a id="23571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23571" class="Bound">ledger</a> <a id="23578" class="Symbol">:</a> <a id="23580" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="23586" class="Symbol">)</a>
                      <a id="23610" class="Symbol">→</a> <a id="23612" class="Symbol">(</a><a id="23613" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23613" class="Bound">initialAddr</a> <a id="23625" class="Symbol">:</a> <a id="23627" href="basicDataStructure.html#405" class="Function">Address</a><a id="23634" class="Symbol">)</a>
                      <a id="23658" class="Symbol">→</a> <a id="23660" class="Symbol">(</a><a id="23661" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23661" class="Bound">lastCallAddr</a> <a id="23674" class="Symbol">:</a> <a id="23676" href="basicDataStructure.html#405" class="Function">Address</a><a id="23683" class="Symbol">)</a>
                      <a id="23707" class="Symbol">→</a> <a id="23709" class="Symbol">(</a><a id="23710" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23710" class="Bound">calledAddr</a> <a id="23721" class="Symbol">:</a> <a id="23723" href="basicDataStructure.html#405" class="Function">Address</a><a id="23730" class="Symbol">)</a>
                      <a id="23754" class="Symbol">→</a> <a id="23756" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                      <a id="23791" class="Symbol">→</a> <a id="23793" href="basicDataStructure.html#523" class="Datatype">Msg</a>
                      <a id="23819" class="Symbol">→</a> <a id="23821" class="Symbol">(</a><a id="23822" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23822" class="Bound">gasreserved</a> <a id="23834" class="Symbol">:</a> <a id="23836" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="23837" class="Symbol">)</a>
                      <a id="23861" class="Symbol">→</a> <a id="23863" class="Symbol">(</a><a id="23864" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23864" class="Bound">ntimes</a> <a id="23871" class="Symbol">:</a> <a id="23873" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="23874" class="Symbol">)</a>
                      <a id="23898" class="Symbol">→</a> <a id="23900" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="23906" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a>
<a id="23919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23548" class="Function">stepLedgerFunntimes</a> <a id="23939" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23939" class="Bound">ledger</a> <a id="23946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23946" class="Bound">initialAddr</a> <a id="23958" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23958" class="Bound">lastCallAddr</a> <a id="23971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23971" class="Bound">calledAddr</a> <a id="23982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23982" class="Bound">funname</a> <a id="23990" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23990" class="Bound">msg</a> <a id="23994" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23994" class="Bound">gasreserved</a>  <a id="24007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24007" class="Bound">ntimes</a>
                     <a id="24035" class="Symbol">=</a> <a id="24037" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21899" class="Function">stepLedgerFunntimesAux</a> <a id="24060" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23939" class="Bound">ledger</a> <a id="24067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23946" class="Bound">initialAddr</a> <a id="24079" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23958" class="Bound">lastCallAddr</a> <a id="24092" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23971" class="Bound">calledAddr</a>
                       <a id="24126" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23982" class="Bound">funname</a> <a id="24134" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23990" class="Bound">msg</a> <a id="24138" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23994" class="Bound">gasreserved</a>  <a id="24151" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24007" class="Bound">ntimes</a>
                       <a id="24181" class="Symbol">(</a><a id="24182" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="24193" class="Symbol">(</a><a id="24194" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="24203" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="24209" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23994" class="Bound">gasreserved</a><a id="24220" class="Symbol">)</a> <a id="24222" class="Symbol">(</a><a id="24223" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23939" class="Bound">ledger</a> <a id="24230" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23958" class="Bound">lastCallAddr</a> <a id="24243" class="Symbol">.</a><a id="24244" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="24250" class="Symbol">))</a>


<a id="24255" class="Comment">--with list</a>
<a id="stepLedgerFunntimesListAux"></a><a id="24267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24267" class="Function">stepLedgerFunntimesListAux</a> <a id="24294" class="Symbol">:</a> <a id="24296" class="Symbol">(</a><a id="24297" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24297" class="Bound">ledger</a> <a id="24304" class="Symbol">:</a> <a id="24306" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="24312" class="Symbol">)</a>
                           <a id="24341" class="Symbol">→</a> <a id="24343" class="Symbol">(</a><a id="24344" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24344" class="Bound">initialAddr</a> <a id="24356" class="Symbol">:</a> <a id="24358" href="basicDataStructure.html#405" class="Function">Address</a><a id="24365" class="Symbol">)</a>
                           <a id="24394" class="Symbol">→</a> <a id="24396" class="Symbol">(</a><a id="24397" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24397" class="Bound">lastCallAddr</a> <a id="24410" class="Symbol">:</a> <a id="24412" href="basicDataStructure.html#405" class="Function">Address</a><a id="24419" class="Symbol">)</a>
                           <a id="24448" class="Symbol">→</a> <a id="24450" class="Symbol">(</a><a id="24451" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24451" class="Bound">calledAddr</a> <a id="24462" class="Symbol">:</a> <a id="24464" href="basicDataStructure.html#405" class="Function">Address</a><a id="24471" class="Symbol">)</a>
                           <a id="24500" class="Symbol">→</a> <a id="24502" href="basicDataStructure.html#190" class="Function">FunctionName</a>
                           <a id="24542" class="Symbol">→</a> <a id="24544" href="basicDataStructure.html#523" class="Datatype">Msg</a>
                           <a id="24575" class="Symbol">→</a> <a id="24577" class="Symbol">(</a><a id="24578" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24578" class="Bound">gasreserved</a> <a id="24590" class="Symbol">:</a> <a id="24592" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="24593" class="Symbol">)</a>
                           <a id="24622" class="Symbol">→</a> <a id="24624" class="Symbol">(</a><a id="24625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24625" class="Bound">ntimes</a> <a id="24632" class="Symbol">:</a> <a id="24634" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="24635" class="Symbol">)</a>
                           <a id="24664" class="Symbol">→</a> <a id="24666" class="Symbol">(</a><a id="24667" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24667" class="Bound">cp</a>  <a id="24671" class="Symbol">:</a> <a id="24673" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="24685" class="Symbol">(</a><a id="24686" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="24695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="24701" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24578" class="Bound">gasreserved</a><a id="24712" class="Symbol">)</a> <a id="24714" class="Symbol">(</a><a id="24715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24297" class="Bound">ledger</a> <a id="24722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24397" class="Bound">lastCallAddr</a> <a id="24735" class="Symbol">.</a><a id="24736" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="24742" class="Symbol">))</a>
                           <a id="24772" class="Symbol">→</a> <a id="24774" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="24780" class="Symbol">(</a><a id="24781" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="24786" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a><a id="24798" class="Symbol">)</a>
<a id="24800" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24267" class="Function">stepLedgerFunntimesListAux</a> <a id="24827" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24827" class="Bound">ledger</a> <a id="24834" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24834" class="Bound">initialAddr</a> <a id="24846" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24846" class="Bound">lastCallAddr</a> <a id="24859" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24859" class="Bound">calledAddr</a> <a id="24870" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24870" class="Bound">funname</a> <a id="24878" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24878" class="Bound">msg</a> <a id="24882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24882" class="Bound">gasreserved</a>  <a id="24895" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24895" class="Bound">ntimes</a> <a id="24902" class="Symbol">(</a><a id="24903" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="24907" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24907" class="Bound">leqpro</a><a id="24913" class="Symbol">)</a>
                            <a id="24943" class="Symbol">=</a> <a id="24945" class="Keyword">let</a>
                               <a id="24980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24980" class="Bound">ledgerDeducted</a> <a id="24995" class="Symbol">:</a> <a id="24997" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a>
                               <a id="25035" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24980" class="Bound">ledgerDeducted</a> <a id="25050" class="Symbol">=</a> <a id="25052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2212" class="Function">deductGasFromLedger</a> <a id="25072" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24827" class="Bound">ledger</a> <a id="25079" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24846" class="Bound">lastCallAddr</a> <a id="25092" class="Symbol">(</a><a id="25093" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="25102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="25108" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24882" class="Bound">gasreserved</a><a id="25119" class="Symbol">)</a> <a id="25121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24907" class="Bound">leqpro</a>
                            <a id="25156" class="Keyword">in</a>
                              <a id="25189" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="25194" class="Symbol">(</a><a id="25195" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19841" class="Function">stepEFntimesList</a> <a id="25212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24980" class="Bound">ledgerDeducted</a>
                                   <a id="25262" class="Symbol">(</a><a id="25263" href="libraries.Mainlibrary.html#2142" class="InductiveConstructor">stateEF</a> <a id="25271" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24980" class="Bound">ledgerDeducted</a> <a id="25286" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="25289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24834" class="Bound">initialAddr</a> <a id="25301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24846" class="Bound">lastCallAddr</a> <a id="25314" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24859" class="Bound">calledAddr</a>
                                   <a id="25360" class="Symbol">(</a><a id="25361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24980" class="Bound">ledgerDeducted</a> <a id="25376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24859" class="Bound">calledAddr</a> <a id="25387" class="Symbol">.</a><a id="25388" href="libraries.Mainlibrary.html#865" class="Field">fun</a> <a id="25392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24870" class="Bound">funname</a> <a id="25400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24878" class="Bound">msg</a><a id="25403" class="Symbol">)</a> <a id="25405" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24882" class="Bound">gasreserved</a> <a id="25417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24870" class="Bound">funname</a> <a id="25425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24878" class="Bound">msg</a><a id="25428" class="Symbol">)</a> <a id="25430" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24895" class="Bound">ntimes</a><a id="25436" class="Symbol">)</a>
<a id="25438" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24267" class="Function">stepLedgerFunntimesListAux</a> <a id="25465" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25465" class="Bound">ledger</a> <a id="25472" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25472" class="Bound">initialAddr</a> <a id="25484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25484" class="Bound">lastCallAddr</a> <a id="25497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25497" class="Bound">calledAddr</a> <a id="25508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25508" class="Bound">funname</a> <a id="25516" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25516" class="Bound">msg</a> <a id="25520" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25520" class="Bound">gasreserved</a> <a id="25532" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25532" class="Bound">ntimes</a> <a id="25539" class="Symbol">(</a><a id="25540" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="25548" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25548" class="Bound">greaterpro</a><a id="25558" class="Symbol">)</a>
                            <a id="25588" class="Symbol">=</a> <a id="25590" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>


<a id="stepLedgerFunntimesList"></a><a id="25600" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25600" class="Function">stepLedgerFunntimesList</a> <a id="25624" class="Symbol">:</a> <a id="25626" class="Symbol">(</a><a id="25627" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25627" class="Bound">ledger</a> <a id="25634" class="Symbol">:</a> <a id="25636" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="25642" class="Symbol">)</a>
                          <a id="25670" class="Symbol">→</a> <a id="25672" class="Symbol">(</a><a id="25673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25673" class="Bound">initialAddr</a> <a id="25685" class="Symbol">:</a> <a id="25687" href="basicDataStructure.html#405" class="Function">Address</a><a id="25694" class="Symbol">)</a>
                          <a id="25722" class="Symbol">→</a> <a id="25724" class="Symbol">(</a><a id="25725" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25725" class="Bound">lastCallAddr</a> <a id="25738" class="Symbol">:</a> <a id="25740" href="basicDataStructure.html#405" class="Function">Address</a><a id="25747" class="Symbol">)</a>
                          <a id="25775" class="Symbol">→</a> <a id="25777" class="Symbol">(</a><a id="25778" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25778" class="Bound">calledAddr</a> <a id="25789" class="Symbol">:</a> <a id="25791" href="basicDataStructure.html#405" class="Function">Address</a><a id="25798" class="Symbol">)</a>
                          <a id="25826" class="Symbol">→</a> <a id="25828" class="Symbol">(</a><a id="25829" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25829" class="Bound">funname</a> <a id="25837" class="Symbol">:</a> <a id="25839" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="25851" class="Symbol">)</a>
                          <a id="25879" class="Symbol">→</a> <a id="25881" class="Symbol">(</a><a id="25882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25882" class="Bound">msg</a> <a id="25886" class="Symbol">:</a> <a id="25888" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="25891" class="Symbol">)</a>
                          <a id="25919" class="Symbol">→</a> <a id="25921" class="Symbol">(</a><a id="25922" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25922" class="Bound">gasreserved</a> <a id="25934" class="Symbol">:</a> <a id="25936" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="25937" class="Symbol">)</a>
                          <a id="25965" class="Symbol">→</a> <a id="25967" class="Symbol">(</a><a id="25968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25968" class="Bound">ntimes</a> <a id="25975" class="Symbol">:</a> <a id="25977" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="25978" class="Symbol">)</a>
                          <a id="26006" class="Symbol">→</a> <a id="26008" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="26014" class="Symbol">(</a><a id="26015" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="26020" href="libraries.Mainlibrary.html#2103" class="Record">StateExecFun</a><a id="26032" class="Symbol">)</a>
<a id="26034" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25600" class="Function">stepLedgerFunntimesList</a> <a id="26058" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26058" class="Bound">ledger</a> <a id="26065" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26065" class="Bound">initialAddr</a> <a id="26077" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26077" class="Bound">lastCallAddr</a> <a id="26090" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26090" class="Bound">calledAddr</a> <a id="26101" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26101" class="Bound">funname</a> <a id="26109" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26109" class="Bound">msg</a> <a id="26113" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26113" class="Bound">gasreserved</a>  <a id="26126" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26126" class="Bound">ntimes</a>
                        <a id="26157" class="Symbol">=</a> <a id="26159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24267" class="Function">stepLedgerFunntimesListAux</a> <a id="26186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26058" class="Bound">ledger</a> <a id="26193" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26065" class="Bound">initialAddr</a> <a id="26205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26077" class="Bound">lastCallAddr</a> <a id="26218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26090" class="Bound">calledAddr</a> <a id="26229" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26101" class="Bound">funname</a> <a id="26237" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26109" class="Bound">msg</a> <a id="26241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26113" class="Bound">gasreserved</a>  <a id="26254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26126" class="Bound">ntimes</a>
                       <a id="26284" class="Symbol">(</a><a id="26285" href="libraries.natCompare.html#936" class="Function">compareLeq</a> <a id="26296" class="Symbol">(</a><a id="26297" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="26306" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="26312" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26113" class="Bound">gasreserved</a><a id="26323" class="Symbol">)</a> <a id="26325" class="Symbol">(</a><a id="26326" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26058" class="Bound">ledger</a> <a id="26333" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26077" class="Bound">lastCallAddr</a> <a id="26346" class="Symbol">.</a><a id="26347" href="libraries.Mainlibrary.html#839" class="Field">amount</a><a id="26353" class="Symbol">))</a>





<a id="26361" class="Comment">--clear version of evaluateNonTerminating&#39;</a>
<a id="26404" class="Comment">-- the below is the final step and we use it to solve the return cost</a>

<a id="evaluateAuxfinal0&#39;"></a><a id="26475" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26475" class="Function">evaluateAuxfinal0&#39;</a> <a id="26494" class="Symbol">:</a> <a id="26496" class="Symbol">(</a><a id="26497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26497" class="Bound">oldLedger</a> <a id="26507" class="Symbol">:</a> <a id="26509" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="26515" class="Symbol">)</a>
                          <a id="26543" class="Symbol">→</a> <a id="26545" class="Symbol">(</a><a id="26546" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26546" class="Bound">currentLedger</a> <a id="26560" class="Symbol">:</a> <a id="26562" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a><a id="26568" class="Symbol">)</a>
                          <a id="26596" class="Symbol">→</a> <a id="26598" class="Symbol">(</a><a id="26599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26599" class="Bound">initialAddr</a> <a id="26611" class="Symbol">:</a> <a id="26613" href="basicDataStructure.html#405" class="Function">Address</a><a id="26620" class="Symbol">)</a>
                          <a id="26648" class="Symbol">→</a> <a id="26650" class="Symbol">(</a><a id="26651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26651" class="Bound">lastCallAddr</a> <a id="26664" class="Symbol">:</a> <a id="26666" href="basicDataStructure.html#405" class="Function">Address</a><a id="26673" class="Symbol">)</a>
                          <a id="26701" class="Symbol">→</a> <a id="26703" class="Symbol">(</a><a id="26704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26704" class="Bound">calledAddr</a> <a id="26715" class="Symbol">:</a> <a id="26717" href="basicDataStructure.html#405" class="Function">Address</a><a id="26724" class="Symbol">)</a>
                          <a id="26752" class="Symbol">→</a> <a id="26754" class="Symbol">(</a><a id="26755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26755" class="Bound">cost</a> <a id="26760" class="Symbol">:</a> <a id="26762" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="26763" class="Symbol">)</a>
                          <a id="26791" class="Symbol">→</a> <a id="26793" class="Symbol">(</a><a id="26794" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26794" class="Bound">returnvalue</a> <a id="26806" class="Symbol">:</a> <a id="26808" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="26811" class="Symbol">)</a>
                          <a id="26839" class="Symbol">→</a> <a id="26841" class="Symbol">(</a><a id="26842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26842" class="Bound">gasLeft</a> <a id="26850" class="Symbol">:</a> <a id="26852" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="26853" class="Symbol">)</a>
                          <a id="26881" class="Symbol">→</a> <a id="26883" class="Symbol">(</a><a id="26884" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26884" class="Bound">funNameevalState</a> <a id="26901" class="Symbol">:</a> <a id="26903" href="basicDataStructure.html#190" class="Function">FunctionName</a><a id="26915" class="Symbol">)</a>
                          <a id="26943" class="Symbol">→</a> <a id="26945" class="Symbol">(</a><a id="26946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26946" class="Bound">msgevalState</a> <a id="26959" class="Symbol">:</a> <a id="26961" href="basicDataStructure.html#523" class="Datatype">Msg</a><a id="26964" class="Symbol">)</a>
                          <a id="26992" class="Symbol">→</a> <a id="26994" class="Symbol">(</a><a id="26995" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26995" class="Bound">cp</a>  <a id="26999" class="Symbol">:</a> <a id="27001" href="libraries.natCompare.html#679" class="Datatype">OrderingLeq</a> <a id="27013" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26755" class="Bound">cost</a> <a id="27018" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26842" class="Bound">gasLeft</a><a id="27025" class="Symbol">)</a>
                          <a id="27053" class="Symbol">→</a> <a id="27055" class="Symbol">(</a><a id="27056" href="libraries.Mainlibrary.html#1008" class="Function">Ledger</a> <a id="27063" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="27065" href="basicDataStructure.html#1675" class="Record">MsgOrErrorWithGas</a><a id="27082" class="Symbol">)</a>
<a id="27084" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26475" class="Function">evaluateAuxfinal0&#39;</a> <a id="27103" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27103" class="Bound">oldLedger</a> <a id="27113" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27113" class="Bound">currentLedger</a> <a id="27127" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27127" class="Bound">initialAddr</a> <a id="27139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27139" class="Bound">lastCallAddr</a> <a id="27152" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27152" class="Bound">calledAddr</a> <a id="27163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27163" class="Bound">cost</a> <a id="27168" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27168" class="Bound">ms</a> <a id="27171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27171" class="Bound">gasLeft</a> <a id="27179" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27179" class="Bound">funNameevalState</a> <a id="27196" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27196" class="Bound">msgevalState</a> <a id="27209" class="Symbol">(</a><a id="27210" href="libraries.natCompare.html#717" class="InductiveConstructor">leq</a> <a id="27214" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27214" class="Bound">x</a><a id="27215" class="Symbol">)</a>
                               <a id="27248" class="Symbol">=</a>  <a id="27251" class="Symbol">(</a><a id="27252" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2965" class="Function">addWeiToLedger</a> <a id="27267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27113" class="Bound">currentLedger</a> <a id="27281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27127" class="Bound">initialAddr</a>
                                   <a id="27328" class="Symbol">(</a><a id="27329" href="constantparameters.html#753" class="Function">GastoWei</a> <a id="27338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="27344" class="Symbol">(</a><a id="27345" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27171" class="Bound">gasLeft</a> <a id="27353" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="27355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27163" class="Bound">cost</a><a id="27359" class="Symbol">)))</a> <a id="27363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="27366" class="Symbol">(</a><a id="27367" href="basicDataStructure.html#1562" class="InductiveConstructor">theMsg</a> <a id="27374" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27168" class="Bound">ms</a> <a id="27377" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">,</a> <a id="27379" class="Symbol">(</a><a id="27380" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27171" class="Bound">gasLeft</a> <a id="27388" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="27390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27163" class="Bound">cost</a><a id="27394" class="Symbol">)</a> <a id="27396" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">gas</a><a id="27399" class="Symbol">)</a>

<a id="27402" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26475" class="Function">evaluateAuxfinal0&#39;</a> <a id="27421" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27421" class="Bound">oldLedger</a> <a id="27431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27431" class="Bound">currentLedger</a> <a id="27445" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27445" class="Bound">initialAddr</a> <a id="27457" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27457" class="Bound">lastCallAddr</a> <a id="27470" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27470" class="Bound">calledAddr</a> <a id="27481" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27481" class="Bound">cost</a> <a id="27486" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27486" class="Bound">returnvalue</a> <a id="27498" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27498" class="Bound">gasLeft</a> <a id="27506" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27506" class="Bound">funNameevalState</a> <a id="27523" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27523" class="Bound">msgevalState</a> <a id="27536" class="Symbol">(</a><a id="27537" href="libraries.natCompare.html#755" class="InductiveConstructor">greater</a> <a id="27545" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27545" class="Bound">x</a><a id="27546" class="Symbol">)</a>
                               <a id="27579" class="Symbol">=</a> <a id="27581" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27421" class="Bound">oldLedger</a> <a id="27591" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="27594" class="Symbol">((</a><a id="27596" href="basicDataStructure.html#1590" class="InductiveConstructor">err</a> <a id="27600" class="Symbol">(</a><a id="27601" href="basicDataStructure.html#694" class="InductiveConstructor">strErr</a> <a id="27608" class="String">&quot; Out Of Gass &quot;</a><a id="27623" class="Symbol">)</a> <a id="27625" href="basicDataStructure.html#881" class="InductiveConstructor Operator">⟨</a> <a id="27627" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27457" class="Bound">lastCallAddr</a> <a id="27640" href="basicDataStructure.html#881" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="27643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27445" class="Bound">initialAddr</a> <a id="27655" href="basicDataStructure.html#881" class="InductiveConstructor Operator">∙</a> <a id="27657" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27506" class="Bound">funNameevalState</a> <a id="27674" href="basicDataStructure.html#881" class="InductiveConstructor Operator">[</a> <a id="27676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27523" class="Bound">msgevalState</a> <a id="27689" href="basicDataStructure.html#881" class="InductiveConstructor Operator">]⟩</a><a id="27691" class="Symbol">)</a> <a id="27693" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">,</a> <a id="27695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27498" class="Bound">gasLeft</a> <a id="27703" href="basicDataStructure.html#1726" class="InductiveConstructor Operator">gas</a><a id="27706" class="Symbol">)</a>
</pre></body></html>